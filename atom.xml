<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fitzeng</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fitzeng.org/"/>
  <updated>2018-01-23T14:47:46.407Z</updated>
  <id>http://fitzeng.org/</id>
  
  <author>
    <name>fitzeng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MarkDown æ’å…¥æ•°å­¦å…¬å¼å®éªŒå¤§é›†åˆ</title>
    <link href="http://fitzeng.org/2018/01/23/LaTexFormula/"/>
    <id>http://fitzeng.org/2018/01/23/LaTexFormula/</id>
    <published>2018-01-23T03:27:00.000Z</published>
    <updated>2018-01-23T14:47:46.407Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0. å‰è¨€"></a>0. å‰è¨€</h2><blockquote>
<p>æœ€è¿‘åœ¨å­¦ä¹ ä¸€äº›æœºå™¨å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†ï¼Œæƒ³æŠŠè‡ªå·±å­¦ä¹ çš„ä¸œè¥¿é€šè¿‡ MD çš„å½¢å¼åœ¨çº¿è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯ä¹‹å‰ä¸€ç›´æ²¡æœ‰å¼€å§‹è¡ŒåŠ¨ï¼Œå› ä¸ºé‡Œé¢çš„å…¬å¼ä»€ä¹ˆçš„æ„Ÿè§‰å®åœ¨æ˜¯éº»çƒ¦ã€‚äºæ˜¯ä»Šå¤©æ‰“ç®—èŠ±ç‚¹æ—¶é—´äº†è§£ä¸€ä¸‹<a href="http://blog.csdn.net/xiahouzuoxin/article/details/26478179" target="_blank" rel="external"><code>å¦‚ä½•åœ¨ markdown ä¸­æ’å…¥æ•°å­¦å…¬å¼</code></a>ï¼Œå‘ç°å…¶å®å¾ˆç®€å•ï¼Œå¤§æ¦‚èŠ±ä¸€ä¸ªå°æ—¶å·¦å³å°±èƒ½çŸ¥é“å¦‚ä½•ç¼–å†™äº†ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="1-åŸºç¡€è®¤è¯†"><a href="#1-åŸºç¡€è®¤è¯†" class="headerlink" title="1. åŸºç¡€è®¤è¯†"></a>1. åŸºç¡€è®¤è¯†</h2><blockquote>
<p>ç¬”è€…è®¤ä¸ºæ‰€è°“æ’å…¥æ•°å­¦å…¬å¼å…¶å®å°±æ˜¯å¼•å…¥ä¸€ç§è§„åˆ™ï¼Œç„¶åé€šè¿‡<code>æ¨¡æ¿ï¼Ÿ</code>æ¸²æŸ“æˆå…¬å¼ï¼Œä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹ï¼Œä¸å¯¹æœ›æŒ‡æ­£ã€‚å…¶å®ä½ ä»¥å‰å¯èƒ½å°±çœ‹åˆ°è¿‡æœ‰çš„åšå®¢æœ¬è¯¥å‡ºç°å…¬å¼çš„æ—¶å€™ä¸æ˜¾ç¤ºï¼Œç‚¹å‡»åä¼šé“¾æ¥åˆ°ä¸€ä¸ª new tab ç„¶åæ˜¾ç¤ºä¸€å¼ å…¬å¼çš„å›¾ç‰‡ï¼Œæœ‰æ—¶å´å‡ºç°ä¸€å¤§å †çš„ä»£ç ã€‚è¿™é‡Œå°±æ˜¯é€šè¿‡è¿™æ®µä»£ç è§£ææˆå…¬å¼ç„¶åæ˜¾ç¤ºçš„ã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬é€‰å– MathJax å¼•æ“ã€‚<br>å¼•å…¥è„šæœ¬ï¼ŒæŠŠä¸‹é¢ä»£ç æ’å…¥ MD æ–‡ä»¶é‡Œé¢ï¼Œå¦‚æœä½ æ€•è¿™ä»½åœ¨çº¿æ–‡ä»¶æºåˆ«äººè®¿é—®ä¸åˆ°çš„è¯ï¼Œå¯ä»¥æŠŠè¿™ä¸ªä¸‹ä¸‹æ¥è‡ªå·±åšä¸€ä¸ªæºï¼Œè¿™æ ·æ¯”è¾ƒç¨³å®šç¼ºç‚¹æ˜¯è¦è‡ªå·±æ‰‹åŠ¨æ›´æ–°æºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>å¥½äº†åˆ°è¿™é‡Œå°±å¯ä»¥æ’å…¥å…¬å¼äº†ï¼Œå¦‚æœä½ æ‡‚ LaTeX çš„è¯é‚£çœ‹ä¸€ä¸¤ä¸ªä¾‹å­å°±çŸ¥é“äº†ï¼Œä¸æ‡‚ä¹Ÿæ²¡å…³ç³»ï¼Œè‡ªå·±å†™ä¸€å†™ä»£ç å°±çŸ¥é“äº†ï¼Œå¯ä»¥æ‰¾ä¸€ä¸ªå¯ä»¥é¢„è§ˆ MD çš„å·¥å…·ä¸€ç›´å°è¯•ã€‚</p>
<h3 id="1-1-æ’å…¥æ–¹å¼"><a href="#1-1-æ’å…¥æ–¹å¼" class="headerlink" title="1.1 æ’å…¥æ–¹å¼"></a>1.1 æ’å…¥æ–¹å¼</h3><blockquote>
<p>è¿™é‡Œåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯è¡Œé—´æ’å…¥ï¼Œå¦ä¸€ç§æ˜¯å¦å–ä¸€è¡Œ</p>
</blockquote>
<h4 id="1-1-1-è¡Œé—´æ’å…¥"><a href="#1-1-1-è¡Œé—´æ’å…¥" class="headerlink" title="1.1.1 è¡Œé—´æ’å…¥"></a>1.1.1 è¡Œé—´æ’å…¥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\(a + b\\)</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯è¡Œé—´æ’å…¥å…¬å¼ a + b : \(a + b\)ï¼Œç‰¹ç‚¹å°±æ˜¯é€šè¿‡<code>(</code> å’Œ <code>)</code> åŒ…å«å…¬å¼ï¼Œç„¶åä¸ºäº†æ¨¡æ¿å¼•æ“èƒ½å¤ŸåŒºåˆ†è¯¥ <code>(</code> ä¸æ˜¯æ™®é€šæ–‡æœ¬çš„ <code>(</code> è€Œæ˜¯å…¬å¼çš„ <code>(</code>ï¼Œé€šè¿‡ <code>\\</code> è½¬ä¹‰ä¸€ä¸‹ã€‚è¿™æ ·åº”è¯¥å°±å¾ˆå¥½ç†è§£è¿™ä¸ªè¯­æ³•æ„æˆäº†ã€‚æ³¨æ„è¿™é‡Œæ–¹å¼ä¸å”¯ä¸€ï¼Œè¿™æ˜¯ç¬”è€…å–œæ¬¢çš„æ–¹å¼ï¼Œå…¶ä»–çš„ä½¿ç”¨æ–¹å¼è‡ªè¡Œæœç´¢ã€‚ä¸‹é¢çš„ä»‹ç»åŒæ ·æ˜¯è¿™æ ·ã€‚</p>
<h4 id="1-1-2-å¦å–ä¸€è¡Œ"><a href="#1-1-2-å¦å–ä¸€è¡Œ" class="headerlink" title="1.1.2 å¦å–ä¸€è¡Œ"></a>1.1.2 å¦å–ä¸€è¡Œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$$a + b$$</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯å¦å–ä¸€è¡Œ$$a + b$$ ç‰¹ç‚¹å°±æ˜¯é€šè¿‡<code>$$</code>åŒ…å«å…¬å¼ã€‚</p>
<p>ç¬”è€…è®¤ä¸ºç¬¬äºŒç§æ–¹å¼æ›´å¥½ï¼Œä»¥ä¸‹æ²¡çœ‹ JS æºç çº¯å±çŒœæµ‹ï¼šè¡Œé—´çš„éœ€è¦è€ƒè™‘åˆ°å½“å‰è¡Œçš„è¡Œé«˜å¹¶å¯¹å…¬å¼è¿›è¡Œå¤„ç†ï¼Œè€Œå¦å–ä¸€è¡Œå°±æ›´ç®€å•ä¸€äº›ï¼Œå¯èƒ½è§£æèµ·æ¥æ›´å¿«ã€‚æœ€æœ€æœ€æœ€æœ€æœ€ä¸»è¦æ˜¯çœ‹èµ·æ¥æ¼‚äº® ^_^ ä¸å¤ªè¦è€ƒè™‘ç©ºé—´ä¸å¤Ÿæ¢è¡Œã€‚</p>
<h3 id="1-2-åŸºæœ¬ç±»å‹çš„æ’å…¥"><a href="#1-2-åŸºæœ¬ç±»å‹çš„æ’å…¥" class="headerlink" title="1.2 åŸºæœ¬ç±»å‹çš„æ’å…¥"></a>1.2 åŸºæœ¬ç±»å‹çš„æ’å…¥</h3><blockquote>
<p>è¿™é‡Œå¯¹ <a href="http://www.cnblogs.com/houkai/p/3399646.html" target="_blank" rel="external">@houkai ï¼šLATEXæ•°å­¦å…¬å¼åŸºæœ¬è¯­æ³•</a> çš„æ€è·¯ç¨åŠ ä¿®æ”¹ï¼Œç„¶åè¿›è¡Œä»‹ç»ã€‚</p>
</blockquote>
<h4 id="1-2-1-ä¸Šã€ä¸‹æ ‡"><a href="#1-2-1-ä¸Šã€ä¸‹æ ‡" class="headerlink" title="1.2.1 ä¸Šã€ä¸‹æ ‡"></a>1.2.1 ä¸Šã€ä¸‹æ ‡</h4><p>å…ˆçœ‹ç»“æœå†æ€»ç»“è¯­æ³•å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$$x_1$$</div><div class="line"></div><div class="line">$$x_1^2$$</div><div class="line"></div><div class="line">$$x^2_1$$</div><div class="line"></div><div class="line">$$x_&#123;22&#125;^&#123;(n)&#125;$$</div><div class="line"></div><div class="line">$$&#123;&#125;^*x^*$$</div><div class="line"></div><div class="line">$$x_&#123;balabala&#125;^&#123;bala&#125;&amp;&amp;</div></pre></td></tr></table></figure>
<p>$$x_1$$</p>
<p>$$x_1^2$$</p>
<p>$$x^2_1$$</p>
<p>$$x_{22}^{(n)}$$</p>
<p>$${}^*x^*$$</p>
<p>$$x_{balabala}^{bala}$$</p>
<p>å¯ä»¥çœ‹åˆ° <code>x</code> å…ƒç´ çš„ä¸Šæ ‡é€šè¿‡ <code>^</code> ç¬¦å·åæ¥çš„å†…å®¹ä½“ç°ï¼Œä¸‹è¡¨é€šè¿‡ <code>_</code> ç¬¦å·åæ¥çš„å†…å®¹ä½“ç°ï¼Œå¤šäºä¸€ä½æ˜¯è¦åŠ  <code>{}</code> åŒ…è£¹çš„ã€‚<br>ç¬”è€…ä¹ æƒ¯å…ˆä¸‹æ ‡åä¸Šæ ‡çš„å†™æ³•ï¼Œå’Œæˆ‘çš„ä¹¦å†™ä¹ æƒ¯ä¸€è‡´ï¼š<code>x_{balabala}^{bala}</code>ï¼Œä¸ç®¡ä½ ä½¿ç”¨å“ªä¸€ç§é£æ ¼ï¼Œæœ€å¥½è‡ªå·±æ³¨æ„ç»Ÿä¸€ï¼Œä¸è¦æ··ç”¨ã€‚</p>
<h4 id="1-2-2-åˆ†å¼"><a href="#1-2-2-åˆ†å¼" class="headerlink" title="1.2.2 åˆ†å¼"></a>1.2.2 åˆ†å¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$$\frac&#123;x+y&#125;&#123;2&#125;$$</div><div class="line"></div><div class="line">$$\frac&#123;1&#125;&#123;1+\frac&#123;1&#125;&#123;2&#125;&#125;$$</div></pre></td></tr></table></figure>
<p>$$\frac{x+y}{2}$$</p>
<p>$$\frac{1}{1+\frac{1}{2}}$$</p>
<p>è¿™é‡Œå°±å‡ºç°äº†ä¸€ä¸ª <code>frac{}{}</code> å‡½æ•°çš„ä¸œè¥¿ï¼ŒåŒæ ·ï¼Œä¸ºäº†åŒºåˆ†è¿™æ˜¯å‡½æ•°ä¸æ˜¯å‡ ä¸ªå­—æ¯ï¼Œé€šè¿‡ <code>\frac</code> è½¬ä¹‰ï¼Œäºæ˜¯ <code>frac</code> è¢«è§£ææˆå‡½æ•°ï¼Œç„¶åç¬¬ä¸€ä¸ª <code>{}</code> é‡Œé¢çš„è¢«è§£ææˆåˆ†å­ï¼Œç¬¬äºŒä¸ª <code>{}</code> è¢«è§£ææˆåˆ†æ¯ã€‚è¿™é‡Œå¯ä»¥è¯•è¯•åˆ†æ•°çš„è¡Œé—´è§£æ\(\frac{1}{1+\frac{1}{2}}\)ã€‚æˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœæˆ‘è¦çœ‹è¡Œé—´å¡«å……æ•ˆæœã€‚</p>
<h4 id="1-2-3-æ ¹å¼"><a href="#1-2-3-æ ¹å¼" class="headerlink" title="1.2.3 æ ¹å¼"></a>1.2.3 æ ¹å¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$$\sqrt&#123;2&#125;&lt;\sqrt[3]&#123;3&#125;$$</div><div class="line"></div><div class="line">$$\sqrt&#123;1+\sqrt[p]&#123;1+a^2&#125;&#125;$$</div><div class="line"></div><div class="line">$$\sqrt&#123;1+\sqrt[^p\!]&#123;1+a^2&#125;&#125;$$</div></pre></td></tr></table></figure>
<p>$$\sqrt{2}&lt;\sqrt[3]{3}$$</p>
<p>$$\sqrt{1+\sqrt[p]{1+a^2}}$$</p>
<p>$$\sqrt{1+\sqrt[^p]{1+a^2}}$$</p>
<p>è¯»åˆ°è¿™é‡Œä½ å·²ç»äº†è§£äº†å‡½æ•°çš„æ¦‚å¿µï¼Œé‚£ä¹ˆè¿™å†ä¹…å¾ˆç®€å•äº†ï¼Œè¯­æ³•å°±æ˜¯ <code>sqrt[]{}</code> ã€‚<code>[]</code> ä¸­ä»£è¡¨æ˜¯å‡ æ¬¡æ ¹å¼ï¼Œ<code>{}</code> ä»£è¡¨æ ¹å·ä¸‹çš„è¡¨è¾¾å¼ã€‚ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªçš„åŒºåˆ«åœ¨äºä¸ºäº†ç¾è§‚å¾®è°ƒä½ç½® ^_^ã€‚</p>
<h4 id="1-2-4-æ±‚å’Œã€ç§¯åˆ†"><a href="#1-2-4-æ±‚å’Œã€ç§¯åˆ†" class="headerlink" title="1.2.4 æ±‚å’Œã€ç§¯åˆ†"></a>1.2.4 æ±‚å’Œã€ç§¯åˆ†</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$$\sum_&#123;k=1&#125;^&#123;n&#125;\frac&#123;1&#125;&#123;k&#125;$$</div><div class="line"></div><div class="line">\\(\sum_&#123;k=1&#125;^n\frac&#123;1&#125;&#123;k&#125;\\)</div><div class="line"></div><div class="line">$$\int_a^b f(x)dx$$</div><div class="line"></div><div class="line">\\(\int_a^b f(x)dx\\)</div></pre></td></tr></table></figure>
<p>$$\sum_{k=1}^{n}\frac{1}{k}$$</p>
<p>\(\sum_{k=1}^n\frac{1}{k}\)</p>
<p>$$\int_{a}^b f(x)dx$$</p>
<p>\(\int_a^b f(x)dx\)</p>
<p>è¿™é‡Œå¾ˆå®¹æ˜“çœ‹å‡ºæ±‚å’Œå‡½æ•°è¡¨è¾¾å¼ <code>sum_{èµ·ç‚¹}^{ç»ˆç‚¹}è¡¨è¾¾å¼</code>ï¼Œç§¯åˆ†å‡½æ•°è¡¨è¾¾å¼ <code>int_ä¸‹é™^ä¸Šé™ è¢«ç§¯å‡½æ•°dè¢«ç§¯é‡</code>ã€‚è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„æ˜¯è¡Œé—´çš„å…¬å¼éƒ½è¢«å‹ç¼©äº†ã€‚</p>
<h4 id="1-2-5-ç©ºæ ¼"><a href="#1-2-5-ç©ºæ ¼" class="headerlink" title="1.2.5 ç©ºæ ¼"></a>1.2.5 ç©ºæ ¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ç´§è´´ $a\\!b$</div><div class="line">æ²¡æœ‰ç©ºæ ¼ $ab$</div><div class="line">å°ç©ºæ ¼ a\,b</div><div class="line">ä¸­ç­‰ç©ºæ ¼ a\;b</div><div class="line">å¤§ç©ºæ ¼ a\ b</div><div class="line">quadç©ºæ ¼ $a\quad b$</div><div class="line">ä¸¤ä¸ªquadç©ºæ ¼ $a\qquad b$</div></pre></td></tr></table></figure>
<p>$$a\!b$$<br>$$ab$$<br>$$a\,b$$<br>$$a\;b$$<br>$$a\ b$$<br>$$a\quad b$$<br>$$a\qquad b$$</p>
<p>è¿™ä¸ªç›´æ¥çœ‹ä¸Šé¢çš„æ–‡å­—ï¼Œä»‹ç»å¾ˆæ¸…æ¥šï¼Œä¸»è¦æŒ‡å¾®è°ƒè·ç¦»ï¼Œä½¿å¾—å…¬å¼æ›´åŠ æ¼‚äº®ã€‚è¯·æ¯”è¾ƒä¸‹é¢çš„ç§¯åˆ†å…¬å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$$\int_a^b f(x)\mathrm&#123;d&#125;x$$</div><div class="line"></div><div class="line">$$\int_a^b f(x)\,\mathrm&#123;d&#125;x$$</div></pre></td></tr></table></figure>
<p>$$\int_a^b f(x)\mathrm{d}x$$</p>
<p>$$\int_a^b f(x)\,\mathrm{d}x$$</p>
<h4 id="1-2-6-å…¬å¼ç•Œå®šç¬¦"><a href="#1-2-6-å…¬å¼ç•Œå®šç¬¦" class="headerlink" title="1.2.6 å…¬å¼ç•Œå®šç¬¦"></a>1.2.6 å…¬å¼ç•Œå®šç¬¦</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">\\( ( \\)</div><div class="line">\\( ) \\)</div><div class="line">\\( [ \\)</div><div class="line">\\( ] \\)</div><div class="line">\\( \\&#123; \\)</div><div class="line">\\( \\&#125; \\)</div><div class="line">\\( | \\)</div><div class="line">\\( \\| \\)</div></pre></td></tr></table></figure>
<p>ä¸»è¦ç¬¦å·æœ‰<br>\( ( \)<br>\( ) \)<br>\( [ \)<br>\( ] \)<br>\( \{ \)<br>\( \} \)<br>\( | \)<br>\( \| \)<br>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ<br>é€šè¿‡ <code>\left</code> å’Œ <code>\right</code> åé¢è·Ÿç•Œå®šç¬¦æ¥å¯¹åŒæ—¶è¿›è¡Œç•Œå®šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$$\left(\sum_&#123;k=\frac&#123;1&#125;&#123;2&#125;&#125;^&#123;N^2&#125;\frac&#123;1&#125;&#123;k&#125;\right)$$</div></pre></td></tr></table></figure>
<p>$$\left(\sum_{k=\frac{1}{2}}^{N^2}\frac{1}{k}\right)$$</p>
<h4 id="1-2-7-çŸ©é˜µ"><a href="#1-2-7-çŸ©é˜µ" class="headerlink" title="1.2.7 çŸ©é˜µ"></a>1.2.7 çŸ©é˜µ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$$\begin&#123;matrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;matrix&#125;$$</div><div class="line"></div><div class="line">$$\begin&#123;pmatrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;pmatrix&#125;$$</div><div class="line"></div><div class="line">$$\begin&#123;bmatrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;bmatrix&#125;$$</div><div class="line"></div><div class="line">$$\begin&#123;Bmatrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;Bmatrix&#125;$$</div><div class="line"></div><div class="line">$$\begin&#123;vmatrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;vmatrix&#125;$$</div><div class="line"></div><div class="line">$$\left|\begin&#123;matrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;matrix&#125;\right|$$</div><div class="line"></div><div class="line">$$\begin&#123;Vmatrix&#125;1 &amp; 2\\\\3 &amp;4\end&#123;Vmatrix&#125;$$</div></pre></td></tr></table></figure>
<p>$$\begin{matrix}1 &amp; 2\\3 &amp;4\end{matrix}$$</p>
<p>$$\begin{pmatrix}1 &amp; 2\\3 &amp;4\end{pmatrix}$$</p>
<p>$$\begin{bmatrix}1 &amp; 2\\3 &amp;4\end{bmatrix}$$</p>
<p>$$\begin{Bmatrix}1 &amp; 2\\3 &amp;4\end{Bmatrix}$$</p>
<p>$$\begin{vmatrix}1 &amp; 2\\3 &amp;4\end{vmatrix}$$</p>
<p>$$\left|\begin{matrix}1 &amp; 2\\3 &amp;4\end{matrix}\right|$$</p>
<p>$$\begin{Vmatrix}1 &amp; 2\\3 &amp;4\end{Vmatrix}$$</p>
<p>ç±»ä¼¼äº left rightï¼Œè¿™é‡Œæ˜¯ begin å’Œ endã€‚è€Œä¸”é‡Œé¢æœ‰å…·ä½“çš„çŸ©é˜µè¯­æ³•ï¼Œ<code>&amp;</code> åŒºåˆ†è¡Œé—´å…ƒç´ ï¼Œ<code>\\\\</code> ä»£è¡¨æ¢è¡Œã€‚å¯ä»¥ç†è§£ä¸º HTML çš„æ ‡ç­¾ä¹‹ç±»çš„ã€‚</p>
<h4 id="1-2-8-æ’ç‰ˆæ•°ç»„"><a href="#1-2-8-æ’ç‰ˆæ•°ç»„" class="headerlink" title="1.2.8 æ’ç‰ˆæ•°ç»„"></a>1.2.8 æ’ç‰ˆæ•°ç»„</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">\mathbf&#123;X&#125; =</div><div class="line">\left( \begin&#123;array&#125;&#123;ccc&#125;</div><div class="line">x\_&#123;11&#125; &amp; x\_&#123;12&#125; &amp; \ldots \\\\</div><div class="line">x\_&#123;21&#125; &amp; x\_&#123;22&#125; &amp; \ldots \\\\</div><div class="line">\vdots &amp; \vdots &amp; \ddots</div><div class="line">\end&#123;array&#125; \right)</div></pre></td></tr></table></figure>
<p>$$<br>\mathbf{X} =<br>\left( \begin{array}{ccc}<br>x_{11} &amp; x_{12} &amp; \ldots \\<br>x_{21} &amp; x_{22} &amp; \ldots \\<br>\vdots &amp; \vdots &amp; \ddots<br>\end{array} \right)<br>$$</p>
<h2 id="2-å¸¸ç”¨å…¬å¼ä¸¾ä¾‹"><a href="#2-å¸¸ç”¨å…¬å¼ä¸¾ä¾‹" class="headerlink" title="2. å¸¸ç”¨å…¬å¼ä¸¾ä¾‹"></a>2. å¸¸ç”¨å…¬å¼ä¸¾ä¾‹</h2><blockquote>
<p>æŒç»­æ›´æ–°â€¦â€¦</p>
</blockquote>
<h3 id="2-1-å¤šè¡Œå…¬å¼"><a href="#2-1-å¤šè¡Œå…¬å¼" class="headerlink" title="2.1 å¤šè¡Œå…¬å¼"></a>2.1 å¤šè¡Œå…¬å¼</h3><blockquote>
<p>ä¸»è¦æ˜¯å„ç§æ–¹ç¨‹çš„è¡¨è¾¾</p>
</blockquote>
<h4 id="2-1-1-é•¿å…¬å¼"><a href="#2-1-1-é•¿å…¬å¼" class="headerlink" title="2.1.1 é•¿å…¬å¼"></a>2.1.1 é•¿å…¬å¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">\begin&#123;multline&#125;</div><div class="line">x = a+b+c+&#123;&#125; \\\\</div><div class="line">d+e+f+g</div><div class="line">\end&#123;multline&#125;</div><div class="line">$$</div><div class="line"></div><div class="line">$$</div><div class="line">\begin&#123;aligned&#125;</div><div class="line">x =&#123;&#125;&amp; a+b+c+&#123;&#125; \\\\</div><div class="line">&amp;d+e+f+g</div><div class="line">\end&#123;aligned&#125;</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>ä¸å¯¹é½</p>
<p>$$<br>\left| \begin{multline}<br>x = a+b+c+{} \\<br>d+e+f+g<br>\end{multline} \right|<br>$$</p>
<p>å¯¹é½</p>
<p>$$<br>\left| \begin{aligned}<br>x ={}&amp; a+b+c+{} \\<br>&amp;d+e+f+g<br>\end{aligned} \right|<br>$$</p>
<h4 id="2-1-2-å…¬å¼ç»„"><a href="#2-1-2-å…¬å¼ç»„" class="headerlink" title="2.1.2 å…¬å¼ç»„"></a>2.1.2 å…¬å¼ç»„</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">\begin&#123;gather&#125;</div><div class="line">a = b+c+d \\\\</div><div class="line">x = y+z</div><div class="line">\end&#123;gather&#125;</div><div class="line">$$</div><div class="line"></div><div class="line">$$</div><div class="line">\begin&#123;align&#125;</div><div class="line">a &amp;= b+c+d \\\\</div><div class="line">x &amp;= y+z</div><div class="line">\end&#123;align&#125;</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>$$<br>\begin{gather}<br>a = b+c+d \\<br>x = y+z<br>\end{gather}<br>$$</p>
<p>$$<br>\begin{align}<br>a &amp;= b+c+d \\<br>x &amp;= y+z<br>\end{align}<br>$$</p>
<h4 id="2-1-3-åˆ†æ®µå‡½æ•°"><a href="#2-1-3-åˆ†æ®µå‡½æ•°" class="headerlink" title="2.1.3 åˆ†æ®µå‡½æ•°"></a>2.1.3 åˆ†æ®µå‡½æ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">y=\begin&#123;cases&#125;</div><div class="line">-x,\quad x\leq 0 \\\\</div><div class="line">x,\quad x&gt;0</div><div class="line">\end&#123;cases&#125;</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>$$<br>y=\begin{cases}<br>-x,\quad x\leq 0 \\<br>x,\quad x&gt;0<br>\end{cases}<br>$$</p>
<p>é‡Œé¢ç”¨åˆ°äº† \(\leq\) ç¬¦å·ï¼Œä¸‹ä¸€ç« ä¼šä»‹ç»å¸¸ç”¨æ•°å­¦ç¬¦å·ã€‚</p>
<h3 id="2-2-æ•°ç»„çš„å…¶ä»–ä½¿ç”¨"><a href="#2-2-æ•°ç»„çš„å…¶ä»–ä½¿ç”¨" class="headerlink" title="2.2 æ•°ç»„çš„å…¶ä»–ä½¿ç”¨"></a>2.2 æ•°ç»„çš„å…¶ä»–ä½¿ç”¨</h3><h4 id="2-2-1-åˆ’çº¿"><a href="#2-2-1-åˆ’çº¿" class="headerlink" title="2.2.1 åˆ’çº¿"></a>2.2.1 åˆ’çº¿</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">\left(\begin&#123;array&#125;&#123;|c|c|&#125;</div><div class="line">1 &amp; 2 \\\\</div><div class="line">\\hline</div><div class="line">3 &amp; 4</div><div class="line">\end&#123;array&#125;\right)</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>$$<br>\left( \begin{array}{|c|c|}<br>1 &amp; \ldots \\<br>\hline<br>\vdots &amp; \ddots<br>\end{array} \right)<br>$$</p>
<h4 id="2-2-2-åˆ¶è¡¨"><a href="#2-2-2-åˆ¶è¡¨" class="headerlink" title="2.2.2 åˆ¶è¡¨"></a>2.2.2 åˆ¶è¡¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">\begin&#123;array&#125;&#123;|c|c|&#125;</div><div class="line">\hline</div><div class="line">&#123;1111111111&#125; &amp; 2 \\\\</div><div class="line">\hline</div><div class="line">3 &amp; 4 \\\\</div><div class="line">\hline</div><div class="line">\end&#123;array&#125;</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>$$<br>\begin{array}{|c|c|}<br>\hline<br>{1111111111} &amp; 2 \\<br>\hline<br>{balabala} &amp; ä½ å¥½å•Š {}^\land\_{}^\land \\<br>\hline<br>\end{array}<br>$$</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå…¶å®å…¶ä»–å¾ˆå¤šä¸œè¥¿éƒ½å¯ä»¥å¾ˆçµæ´»çš„è¡¨è¾¾å‡ºæ¥ã€‚ç¢°åˆ°å…¶ä»–æœ‰è¶£çš„æˆ‘ä¼šç»§ç»­å†™å‡ºæ¥çš„ã€‚</p>
<h2 id="3-å¸¸ç”¨æ•°å­¦ç¬¦å·"><a href="#3-å¸¸ç”¨æ•°å­¦ç¬¦å·" class="headerlink" title="3. å¸¸ç”¨æ•°å­¦ç¬¦å·"></a>3. å¸¸ç”¨æ•°å­¦ç¬¦å·</h2><blockquote>
<p>è¿™é‡Œæä¾›ä¸€ä¸ª<a href="http://files.cnblogs.com/houkai/LATEX%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7%E8%A1%A8.rar" target="_blank" rel="external">æ–‡æ¡£ä¸‹è½½</a>ï¼Œå¦‚æœä¸Šé¢çš„é“¾æ¥å¤±æ•ˆï¼Œä¹Ÿå¯ä»¥åˆ°æˆ‘çš„ <a href="https://github.com/mk43/BlogResource/blob/master/LaTex/LATEX%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7%E8%A1%A8.pdf" target="_blank" rel="external">GitHub ä¸‹è½½ pdf ç‰ˆ</a>ã€‚ä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­ã€‚</p>
</blockquote>
<h3 id="3-1-å¸Œè…Šå­—æ¯"><a href="#3-1-å¸Œè…Šå­—æ¯" class="headerlink" title="3.1 å¸Œè…Šå­—æ¯"></a>3.1 å¸Œè…Šå­—æ¯</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">$$</div><div class="line">\begin&#123;array&#125;&#123;|c|c|c|c|c|c|c|c|&#125;</div><div class="line">\hline</div><div class="line">&#123;\alpha&#125; &amp; &#123;\backslash alpha&#125; &amp; &#123;\theta&#125; &amp; &#123;\backslash theta&#125; &amp; &#123;o&#125; &amp; &#123;o&#125; &amp; &#123;\upsilon&#125; &amp; &#123;\backslash upsilon&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\beta&#125; &amp; &#123;\backslash beta&#125; &amp; &#123;\vartheta&#125; &amp; &#123;\backslash vartheta&#125; &amp; &#123;\pi&#125; &amp; &#123;\backslash pi&#125; &amp; &#123;\phi&#125; &amp; &#123;\backslash phi&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\gamma&#125; &amp; &#123;\backslash gamma&#125; &amp; &#123;\iota&#125; &amp; &#123;\backslash iota&#125; &amp; &#123;\varpi&#125; &amp; &#123;\backslash varpi&#125; &amp; &#123;\varphi&#125; &amp; &#123;\backslash varphi&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\delta&#125; &amp; &#123;\backslash delta&#125; &amp; &#123;\kappa&#125; &amp; &#123;\backslash kappa&#125; &amp; &#123;\rho&#125; &amp; &#123;\backslash rho&#125; &amp; &#123;\chi&#125; &amp; &#123;\backslash chi&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\epsilon&#125; &amp; &#123;\backslash epsilon&#125; &amp; &#123;\lambda&#125; &amp; &#123;\backslash lambda&#125; &amp; &#123;\varrho&#125; &amp; &#123;\backslash varrho&#125; &amp; &#123;\psi&#125; &amp; &#123;\backslash psi&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\varepsilon&#125; &amp; &#123;\backslash varepsilon&#125; &amp; &#123;\mu&#125; &amp; &#123;\backslash mu&#125; &amp; &#123;\sigma&#125; &amp; &#123;\backslash sigma&#125; &amp; &#123;\omega&#125; &amp; &#123;\backslash omega&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\zeta&#125; &amp; &#123;\backslash zeta&#125; &amp; &#123;\nu&#125; &amp; &#123;\backslash nu&#125; &amp; &#123;\varsigma&#125; &amp; &#123;\backslash varsigma&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\eta&#125; &amp; &#123;\backslash eta&#125; &amp; &#123;\xi&#125; &amp; &#123;\backslash xi&#125; &amp; &#123;\tau&#125; &amp; &#123;\backslash tau&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\Gamma&#125; &amp; &#123;\backslash Gamma&#125; &amp; &#123;\Lambda&#125; &amp; &#123;\backslash Lambda&#125; &amp; &#123;\Sigma&#125; &amp; &#123;\backslash Sigma&#125; &amp; &#123;\Psi&#125; &amp; &#123;\backslash Psi&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\Delta&#125; &amp; &#123;\backslash Delta&#125; &amp; &#123;\Xi&#125; &amp; &#123;\backslash Xi&#125; &amp; &#123;\Upsilon&#125; &amp; &#123;\backslash Upsilon&#125; &amp; &#123;\Omega&#125; &amp; &#123;\backslash Omega&#125; \\\\</div><div class="line">\hline</div><div class="line">&#123;\Omega&#125; &amp; &#123;\backslash Omega&#125; &amp; &#123;\Pi&#125; &amp; &#123;\backslash Pi&#125; &amp; &#123;\Phi&#125; &amp; &#123;\backslash Phi&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\</div><div class="line">\hline</div><div class="line">\end&#123;array&#125;</div><div class="line">$$</div></pre></td></tr></table></figure>
<p>$$<br>\begin{array}{|c|c|c|c|c|c|c|c|}<br>\hline<br>{\alpha} &amp; {\backslash alpha} &amp; {\theta} &amp; {\backslash theta} &amp; {o} &amp; {o} &amp; {\upsilon} &amp; {\backslash upsilon} \\<br>\hline<br>{\beta} &amp; {\backslash beta} &amp; {\vartheta} &amp; {\backslash vartheta} &amp; {\pi} &amp; {\backslash pi} &amp; {\phi} &amp; {\backslash phi} \\<br>\hline<br>{\gamma} &amp; {\backslash gamma} &amp; {\iota} &amp; {\backslash iota} &amp; {\varpi} &amp; {\backslash varpi} &amp; {\varphi} &amp; {\backslash varphi} \\<br>\hline<br>{\delta} &amp; {\backslash delta} &amp; {\kappa} &amp; {\backslash kappa} &amp; {\rho} &amp; {\backslash rho} &amp; {\chi} &amp; {\backslash chi} \\<br>\hline<br>{\epsilon} &amp; {\backslash epsilon} &amp; {\lambda} &amp; {\backslash lambda} &amp; {\varrho} &amp; {\backslash varrho} &amp; {\psi} &amp; {\backslash psi} \\<br>\hline<br>{\varepsilon} &amp; {\backslash varepsilon} &amp; {\mu} &amp; {\backslash mu} &amp; {\sigma} &amp; {\backslash sigma} &amp; {\omega} &amp; {\backslash omega} \\<br>\hline<br>{\zeta} &amp; {\backslash zeta} &amp; {\nu} &amp; {\backslash nu} &amp; {\varsigma} &amp; {\backslash varsigma} &amp; {} &amp; {} \\<br>\hline<br>{\eta} &amp; {\backslash eta} &amp; {\xi} &amp; {\backslash xi} &amp; {\tau} &amp; {\backslash tau} &amp; {} &amp; {} \\<br>\hline<br>{\Gamma} &amp; {\backslash Gamma} &amp; {\Lambda} &amp; {\backslash Lambda} &amp; {\Sigma} &amp; {\backslash Sigma} &amp; {\Psi} &amp; {\backslash Psi} \\<br>\hline<br>{\Delta} &amp; {\backslash Delta} &amp; {\Xi} &amp; {\backslash Xi} &amp; {\Upsilon} &amp; {\backslash Upsilon} &amp; {\Omega} &amp; {\backslash Omega} \\<br>\hline<br>{\Omega} &amp; {\backslash Omega} &amp; {\Pi} &amp; {\backslash Pi} &amp; {\Phi} &amp; {\backslash Phi} &amp; {} &amp; {} \\<br>\hline<br>\end{array}<br>$$</p>
<p>å†™å¤ªç´¯äº†ğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚ã€‚ã€‚å…¶ä»–çš„è¯¦è§ <a href="https://github.com/mk43/BlogResource/blob/master/LaTex/LATEX%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7%E8%A1%A8.pdf" target="_blank" rel="external">PDF</a>ã€‚</p>
<h2 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h2><blockquote>
<p>é€šè¿‡è¿™æ ·æ¢³ç†ä¸€ä¸‹åŸºæœ¬çš„å…¬å¼éƒ½èƒ½æ’å…¥äº†ï¼Œè€Œä¸”ä¹Ÿä¼šå¦‚ä½•æŸ¥èµ„æ–™ã€‚å¯¹äºè‡ªå·±æ—¥åå­¦ä¹  LaTeX å†™è®ºæ–‡æœ‰å¾ˆå¤§å¸®åŠ©ã€‚ä»¥ä¸‹å»ºè®®å¸¦æœ‰å¾ˆå¼ºçš„ä¸»è§‚æ€§ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
</blockquote>
<ul>
<li>å…¬å¼ä¸€å¾‹ä½¿ç”¨å¦å–ä¸€è¡Œï¼Œå¹¶ä¸”ä¸Šä¸‹éƒ½ç©ºä¸€è¡Œ</li>
<li>ä¸€ä¸ªå…¬å¼ä¸€ä¸ªè¯­å¥ï¼Œä¸è¦å†™åœ¨ä¸€ä¸ª <code>$$***$$</code> é‡Œï¼Œä¿è¯<code>ç‹¬ç«‹æ€§</code>ï¼Œä¸€ä¸ªå…¬å¼é”™è¯¯ä¸å½±å“å¦ä¸€ä¸ªå…¬å¼ã€‚</li>
<li>é£æ ¼ç»Ÿä¸€ï¼Œä¸è¦æ··ç”¨ã€‚æ¯”å¦‚ä¸Šä¸‹æ ‡çš„å†™æ³•ï¼š<code>x_{balabala}^{bala}</code></li>
<li>è¡Œé—´å­—æ¯å¯ä»¥ä½¿ç”¨ <code>\\(a\\)</code> ä»£æ›¿ <code>a</code> ï¼Œå…»æˆè‡ªå·±çš„å†™ä½œé£æ ¼ã€‚</li>
</ul>
<p>æœ€åï¼šæˆ‘çš„ <a href="http://fitzeng.org/">Blog</a> å’Œ <a href="https://github.com/mk43" target="_blank" rel="external">GitHub</a>ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</p>
<h2 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5. å‚è€ƒèµ„æ–™"></a>5. å‚è€ƒèµ„æ–™</h2><blockquote>
<p>ååˆ†æ„Ÿè°¢ä»¥ä¸‹ä½œè€…çš„æ— ç§åˆ†äº«ã€‚</p>
</blockquote>
<ol>
<li><a href="http://blog.csdn.net/xiahouzuoxin/article/details/26478179" target="_blank" rel="external">Markdownä¸­æ’å…¥æ•°å­¦å…¬å¼çš„æ–¹æ³•</a></li>
<li><a href="http://www.cnblogs.com/houkai/p/3399646.html" target="_blank" rel="external">LATEXæ•°å­¦å…¬å¼åŸºæœ¬è¯­æ³•</a></li>
<li><a href="https://liam0205.me/2014/09/08/latex-introduction/" target="_blank" rel="external">ä¸€ä»½å…¶å®å¾ˆçŸ­çš„ LaTeX å…¥é—¨æ–‡æ¡£</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;0-å‰è¨€&quot;&gt;&lt;a href=&quot;#0-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0. å‰è¨€&quot;&gt;&lt;/a&gt;0. å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘åœ¨å­¦ä¹ ä¸€äº›æœºå™¨å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†ï¼Œæƒ³æŠŠè‡ªå·±å­¦ä¹ çš„ä¸œè¥¿é€šè¿‡ MD çš„å½¢å¼åœ¨çº¿è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯ä¹‹å‰ä¸€ç›´æ²¡æœ‰å¼€å§‹è¡ŒåŠ¨ï¼Œå› ä¸ºé‡Œé¢çš„å…¬å¼ä»€ä¹ˆçš„æ„Ÿè§‰å®åœ¨æ˜¯éº»çƒ¦ã€‚äºæ˜¯ä»Šå¤©æ‰“ç®—èŠ±ç‚¹æ—¶é—´äº†è§£ä¸€ä¸‹&lt;a href=&quot;http://blog.csdn.net/xiahouzuoxin/article/details/26478179&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;code&gt;å¦‚ä½•åœ¨ markdown ä¸­æ’å…¥æ•°å­¦å…¬å¼&lt;/code&gt;&lt;/a&gt;ï¼Œå‘ç°å…¶å®å¾ˆç®€å•ï¼Œå¤§æ¦‚èŠ±ä¸€ä¸ªå°æ—¶å·¦å³å°±èƒ½çŸ¥é“å¦‚ä½•ç¼–å†™äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Math" scheme="http://fitzeng.org/tags/Math/"/>
    
      <category term="MarkDown" scheme="http://fitzeng.org/tags/MarkDown/"/>
    
      <category term="Formula" scheme="http://fitzeng.org/tags/Formula/"/>
    
      <category term="LaTeX" scheme="http://fitzeng.org/tags/LaTeX/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow å…¥é—¨</title>
    <link href="http://fitzeng.org/2018/01/03/TensorFlowIntroduction/"/>
    <id>http://fitzeng.org/2018/01/03/TensorFlowIntroduction/</id>
    <published>2018-01-03T03:27:00.000Z</published>
    <updated>2018-01-23T11:46:45.192Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å†™åœ¨å‰é¢ï¼šè¿˜æ²¡å¼€å§‹å¡«å‘ ğŸ˜‚ğŸ˜‚ğŸ˜‚</p>
</blockquote>
<a id="more"></a>
<h2 id="0-TensorFlow-ä»‹ç»"><a href="#0-TensorFlow-ä»‹ç»" class="headerlink" title="0 TensorFlow ä»‹ç»"></a>0 TensorFlow ä»‹ç»</h2><blockquote>
</blockquote>
<h3 id="0-1-ä»€ä¹ˆæ˜¯-TensorFlow"><a href="#0-1-ä»€ä¹ˆæ˜¯-TensorFlow" class="headerlink" title="0.1 ä»€ä¹ˆæ˜¯ TensorFlow ?"></a>0.1 ä»€ä¹ˆæ˜¯ TensorFlow ?</h3><blockquote>
</blockquote>
<h3 id="0-2-TensorFlow-å¯ä»¥åšä»€ä¹ˆ"><a href="#0-2-TensorFlow-å¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="0.2 TensorFlow å¯ä»¥åšä»€ä¹ˆ ?"></a>0.2 TensorFlow å¯ä»¥åšä»€ä¹ˆ ?</h3><p>&gt;</p>
<h3 id="0-3-TensorFlow-å®‰è£…"><a href="#0-3-TensorFlow-å®‰è£…" class="headerlink" title="0.3 TensorFlow å®‰è£…"></a>0.3 TensorFlow å®‰è£…</h3><blockquote>
</blockquote>
<h2 id="1-åˆè¯†-TensorFlow"><a href="#1-åˆè¯†-TensorFlow" class="headerlink" title="1 åˆè¯† TensorFlow"></a>1 åˆè¯† TensorFlow</h2><blockquote>
<h3 id="1-1-åŸºç¡€è¯­æ³•"><a href="#1-1-åŸºç¡€è¯­æ³•" class="headerlink" title="1.1 åŸºç¡€è¯­æ³•"></a>1.1 åŸºç¡€è¯­æ³•</h3></blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å†™åœ¨å‰é¢ï¼šè¿˜æ²¡å¼€å§‹å¡«å‘ ğŸ˜‚ğŸ˜‚ğŸ˜‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Math" scheme="http://fitzeng.org/tags/Math/"/>
    
      <category term="TensorFlow" scheme="http://fitzeng.org/tags/TensorFlow/"/>
    
      <category term="MachineLearning" scheme="http://fitzeng.org/tags/MachineLearning/"/>
    
      <category term="Python" scheme="http://fitzeng.org/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>GitNote</title>
    <link href="http://fitzeng.org/2017/12/16/GitNote/"/>
    <id>http://fitzeng.org/2017/12/16/GitNote/</id>
    <published>2017-12-16T03:27:00.000Z</published>
    <updated>2017-12-17T06:36:06.885Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0. å‰è¨€"></a>0. å‰è¨€</h2><blockquote>
<p>åœ¨ä½¿ç”¨ Git æ—¶æœ‰ä¸€ç§æ„Ÿè§‰å°±æ˜¯åªä¼š <code>add | commit | push</code> ä¸‰ä¸ªå‘½ä»¤ã€‚å› ä¸ºè¿™ä¸‰ä¸ªå‘½ä»¤ä¼¼ä¹è¶³ä»¥æŠŠä»£ç æäº¤åˆ° GitHub ä¸Šï¼Œå³ä½¿æ˜¯ç¢°åˆ°æŸä¸ªé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ Googleã€‚ä½†æ˜¯å¯¹äºå…¶ä¸­çš„é€»è¾‘å’Œç‰ˆæœ¬ç®¡ç†çš„ç²¾é«“æ²¡æœ‰ä½“ä¼šåˆ°ï¼Œè€Œåªæ˜¯ä½œä¸ºä¸€ä¸ªåœ¨çº¿ä»£ç ä»“åº“åœ¨ä½¿ç”¨ï¼Œè¿™æ ·åšä¹Ÿæ²¡æœ‰ä»€ä¹ˆä¸å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœèƒ½ç³»ç»Ÿçš„äº†è§£ä¸ºä»€ä¹ˆè¦æœ‰ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä»¥åŠç‰ˆæœ¬ç®¡ç†å·¥å…·èƒ½å¤Ÿç»™æˆ‘ä»¬æä¾›æ€ä¹ˆæ ·çš„ç®¡ç†æœåŠ¡ï¼Œå¯¹äºä½¿ç”¨å·¥å…·çš„æˆ‘ä»¬æ¥è¯´æœ‰å¾ˆå¤§å¸®åŠ©ã€‚ä¸ç”¨è®°ä½å‘½ä»¤ï¼Œåªæ˜¯ä»¥åé‡åˆ°é—®é¢˜æ—¶çŸ¥é“è¿™ä¸ªå·¥å…·æœ‰å®ç°çš„æ–¹å¼å°±è¶³å¤Ÿäº†ã€‚</p>
<p>ç°åœ¨æˆ‘ç³»ç»Ÿçš„çœ‹äº†ä¸€ä¸‹å®˜æ–¹çš„ Git å…¥é—¨æ•™ç¨‹ <a href="https://www.nowcoder.com/courses/2#chapter-14" target="_blank" rel="external">Git å®˜æ–¹æ•™ç¨‹ï¼ˆä¸­å­—ï¼‰</a> é‡Œé¢é€šè¿‡æè¿°å¯¹å‘½ä»¤çš„ä½¿ç”¨æƒ…æ™¯è¿›è€Œé€‰æ‹©å‘½ä»¤è¿›è¡Œæ“ä½œçš„æ–¹å¼ï¼Œä½¿å¾—å‘½ä»¤å¾ˆå®¹æ˜“ç†è§£ä¹Ÿå®¹æ˜“åŠ æ·±è®°å¿†ã€‚æ¯”èµ·å•ä¸€çš„å‘½ä»¤ç”¨æ–‡å­—è§£é‡Šè¿™ç§æ–¹å¼ï¼Œå¯¹äºä¸ç†Ÿæ‚‰ Git çš„äººæ¥è¯´æ˜¯ååˆ†å‹å¥½çš„ã€‚ä½†æ˜¯ï¼Œçœ‹å®Œå®¹æ˜“å¿˜ï¼Œæ‰€ä»¥å†™äº†è¿™ç¯‡æ•´ç†ç¬”è®°ç”¨ä½œè¾…åŠ©æŸ¥è¯¢ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="1-åŸºæœ¬å‘½ä»¤"><a href="#1-åŸºæœ¬å‘½ä»¤" class="headerlink" title="1. åŸºæœ¬å‘½ä»¤"></a>1. åŸºæœ¬å‘½ä»¤</h2><h3 id="1-1-äº†è§£å¸®åŠ©å‘½ä»¤"><a href="#1-1-äº†è§£å¸®åŠ©å‘½ä»¤" class="headerlink" title="1.1 äº†è§£å¸®åŠ©å‘½ä»¤"></a>1.1 äº†è§£å¸®åŠ©å‘½ä»¤</h3><ul>
<li><code>git help</code> : æŸ¥çœ‹å‘½ä»¤</li>
<li><code>git help add</code> : æŸ¥çœ‹ <code>git add</code> å‘½ä»¤çš„å…·ä½“è§£é‡Š</li>
</ul>
<h3 id="1-2-ä»“åº“åˆå§‹åŒ–"><a href="#1-2-ä»“åº“åˆå§‹åŒ–" class="headerlink" title="1.2 ä»“åº“åˆå§‹åŒ–"></a>1.2 ä»“åº“åˆå§‹åŒ–</h3><ul>
<li><code>git init</code> : åˆ›å»º <code>.git</code>, é€‚åˆåœ¨å·²å­˜åœ¨é¡¹ç›®è¿½åŠ ç‰ˆæœ¬æ§åˆ¶</li>
<li><code>git init projectname</code> : åˆ›å»º <code>projectname/.git</code>, é€‚åˆé¡¹ç›®å¼€å§‹æ—¶åŠ å…¥ç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<h3 id="1-3-æ–‡ä»¶åŸºæœ¬æ“ä½œ"><a href="#1-3-æ–‡ä»¶åŸºæœ¬æ“ä½œ" class="headerlink" title="1.3 æ–‡ä»¶åŸºæœ¬æ“ä½œ"></a>1.3 æ–‡ä»¶åŸºæœ¬æ“ä½œ</h3><ul>
<li><code>git add filename/*</code> : æ·»åŠ æ–‡ä»¶[äº§ç”Ÿæš‚å­˜æ–‡ä»¶]</li>
<li><code>git commmit -m &quot;message&quot;</code> : å°†æ·»åŠ çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“[äº§ç”Ÿæäº¤æ–‡ä»¶]</li>
<li><code>git rm filename</code> : ç§»é™¤æ–‡ä»¶ï¼Œä½¿ç”¨ <code>rm filename</code> çš„æœ‰æš‚å­˜</li>
<li><code>git add -u .</code> : å¦‚æœä¹‹å‰ä½¿ç”¨é git å‘½ä»¤åˆ é™¤æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŠŠå½“å‰ç›®å½•çš„æ–‡ä»¶é‡æ–°éå†æ¸…é™¤</li>
<li><code>git rm --cache filename</code> : æš‚å­˜ä½†æ˜¯ä¸å‚ä¸è·Ÿè¸ª</li>
<li><code>git mv filepath newfilepath</code> : ç§»åŠ¨æ–‡ä»¶</li>
<li><code>git rm filepath &amp;&amp; git add newfilepath</code> : ç§»åŠ¨æ–‡ä»¶ï¼Œä¹‹å‰ä½¿ç”¨é git å‘½ä»¤ç§»åŠ¨æ–‡ä»¶</li>
<li><code>git add -A .</code> : å¦‚æœä¹‹å‰ä½¿ç”¨é git å‘½ä»¤ç§»åŠ¨æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŠŠå½“å‰ç›®å½•çš„æ–‡ä»¶é‡æ–°éå†ç§»åŠ¨ï¼Œå’Œ <code>rm</code> å‘½ä»¤ç±»ä¼¼</li>
<li><code>git reset etc...</code> : å†å²æäº¤ç®¡ç†(å›é€€ï¼Œåˆå¹¶â€¦)ï¼Œcheckout æ›´å…³æ³¨æ–‡ä»¶</li>
</ul>
<h3 id="1-4-æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹"><a href="#1-4-æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹" class="headerlink" title="1.4 æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹"></a>1.4 æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹</h3><ul>
<li><code>git status</code> : æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯</li>
<li><code>git diff</code> : æŸ¥çœ‹ä¿®æ”¹[å·¥ä½œæ ‘å’Œæš‚å­˜æ–‡ä»¶]</li>
<li><code>git diff --staged</code> : æŸ¥çœ‹ä¿®æ”¹[æš‚å­˜æ–‡ä»¶å’Œæœ€è¿‘æäº¤æ–‡ä»¶]</li>
<li><code>git diff HEAD</code> : æŸ¥çœ‹ä¿®æ”¹[å·¥ä½œæ ‘å’Œæœ€è¿‘æäº¤æ–‡ä»¶]</li>
<li><code>git diff --word-diff</code> : æŸ¥çœ‹ä¿®æ”¹çš„å•è¯ç”¨é¢œè‰²æ ‡å‡º</li>
<li><code>git diff --stat</code> : æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶å</li>
</ul>
<blockquote>
<p>å‚è€ƒèµ„æ–™ <a href="http://www.cnblogs.com/feeland/p/4500721.html" target="_blank" rel="external">0. Git å­¦ä¹ ï¼ˆä¸‰ï¼‰æœ¬åœ°ä»“åº“æ“ä½œâ€”â€”git add &amp; commit</a> äº†è§£ git ç‰ˆæœ¬åº“å®ç°</p>
</blockquote>
<h3 id="1-5-æŸ¥çœ‹æäº¤-Log"><a href="#1-5-æŸ¥çœ‹æäº¤-Log" class="headerlink" title="1.5 æŸ¥çœ‹æäº¤ Log"></a>1.5 æŸ¥çœ‹æäº¤ Log</h3><ul>
<li><code>git log</code> : æ˜¾ç¤ºæäº¤ä¿¡æ¯</li>
<li><code>git log --oneline</code> : æ˜¾ç¤ºæäº¤ Message</li>
<li><code>git log --stat</code> : æ˜¾ç¤ºæäº¤æ–‡ä»¶åçº§è¯¦ç»†ä¿®æ”¹ä¿¡æ¯</li>
<li><code>git log --patch</code> : æ˜¾ç¤ºæäº¤æ–‡ä»¶å†…å®¹çº§è¯¦ç»†ä¿®æ”¹ä¿¡æ¯ </li>
<li><code>git log --graph</code> : ç”¨å›¾æ˜¾ç¤ºæäº¤è®°å½•</li>
<li><code>git log --graph --all --decorate --oneline</code> : å»é™¤å†—ä½™ä¿¡æ¯ï¼Œæ›´åŠ ç›´è§‚æ˜¾ç¤ºæ¯æ¡åˆ†æ”¯æ¯æ¬¡æäº¤</li>
<li><code>git log --stat -- filename</code> : æ–‡ä»¶æäº¤è®°å½•ï¼ˆä¸è®°å½•è·¯å¾„ç§»åŠ¨ï¼‰</li>
<li><code>git log --stat -M --follow -- filename</code> : çœ‹åˆ°å®Œæ•´çš„æ–‡ä»¶æ“ä½œè¿‡ç¨‹</li>
</ul>
<h3 id="1-6-å¿½ç•¥æ–‡ä»¶"><a href="#1-6-å¿½ç•¥æ–‡ä»¶" class="headerlink" title="1.6 å¿½ç•¥æ–‡ä»¶"></a>1.6 å¿½ç•¥æ–‡ä»¶</h3><ul>
<li><code>touch .gitignore</code> : åˆ›å»ºæ–‡ä»¶(æ¬¡çº§ç›®å½•ä¹Ÿå¯ä»¥åˆ›å»º)</li>
<li><code>vim .gitignore</code> : ç¼–è¾‘æ–‡ä»¶æ·»åŠ  ignore æ–‡ä»¶ã€‚<code>*.log | tmp/ | .sass-cache etc...</code></li>
<li><code>git ls-files --others --ignored --exclude-standard</code> : æŸ¥çœ‹è¢« ignore çš„æ–‡ä»¶</li>
<li><code>git reflog</code> : è¯¦ç»†ä¿®æ”¹æ—¥å¿—</li>
</ul>
<h3 id="1-7-åˆ†æ”¯æ“ä½œ"><a href="#1-7-åˆ†æ”¯æ“ä½œ" class="headerlink" title="1.7 åˆ†æ”¯æ“ä½œ"></a>1.7 åˆ†æ”¯æ“ä½œ</h3><ul>
<li><code>git branch branchname</code> : åˆ›å»ºåˆ†æ”¯</li>
<li><code>git branch</code> : æ˜¾ç¤ºåˆ†æ”¯</li>
<li><code>git branch -d branchname</code> : åˆ é™¤åˆ†æ”¯</li>
<li><code>git branch -D branchname</code> : åˆ é™¤æœªåˆå¹¶åˆ†æ”¯</li>
<li><code>git checkout branchname</code> : åˆ‡æ¢åˆ†æ”¯</li>
<li><code>git checkout commitID</code> : å·¥ä½œæ ‘åˆ‡æ¢åˆ° commitID æ—¶</li>
<li><code>git checkout -- filename</code> : æ¸…ç†æ‰æœ€åä¸€æ¬¡æäº¤å†…å®¹</li>
<li><code>git checkout -b branchname</code> : åˆ›å»ºæ–°åˆ†æ”¯å¹¶ä¸”è¿›å…¥è¯¥åˆ†æ”¯</li>
<li><code>git merge branchname</code> : å’Œå¹¶ branchname åˆ†æ”¯åˆ°ç›®å‰æ‰€åœ¨åˆ†æ”¯(åˆå¹¶æ—¶æ–‡ä»¶å†²çªè¦æ‰‹åŠ¨è§£å†³)</li>
<li><code>git merge --abort</code> : æ¸…é™¤å·¥ä½œç›®å½•å’Œæš‚å­˜åŒº</li>
<li><code>git merge squash branchname</code> : å°†åˆå¹¶çš„åˆ†æ”¯æ”¹å˜å˜æˆä¸€ä¸ª commit</li>
<li><code>git rebase branchname</code> : å°†å½“å‰åˆ†æ”¯å†å²æäº¤åˆå¹¶åˆ° branchname åˆ†æ”¯</li>
</ul>
<blockquote>
<p>å‚è€ƒèµ„æ–™ <a href="https://github.com/geeeeeeeeek/git-recipes/wiki/5.1-%E4%BB%A3%E7%A0%81%E5%90%88%E5%B9%B6%EF%BC%9AMerge%E3%80%81Rebase-%E7%9A%84%E9%80%89%E6%8B%A9" target="_blank" rel="external">2. ä»£ç åˆå¹¶ï¼šMergeã€Rebase çš„é€‰æ‹©</a></p>
</blockquote>
<h3 id="1-8-è¿œç¨‹æ“ä½œ"><a href="#1-8-è¿œç¨‹æ“ä½œ" class="headerlink" title="1.8 è¿œç¨‹æ“ä½œ"></a>1.8 è¿œç¨‹æ“ä½œ</h3><ul>
<li><code>git remote add origin  https://github.com/accountname/projectname</code></li>
<li><code>git remote set-url origin newUrl</code> : æ”¹å˜ URL</li>
<li><code>git remote rm origin</code> : åˆ é™¤</li>
<li><code>git remote -v</code> : æŸ¥çœ‹ URL</li>
<li><code>git fetch origin</code> : æŠ“å–è¿œç¨‹åˆ†æ”¯ï¼Œæœ¬åœ°ä¼šæœ‰ä¸€ä¸ª <code>remotehostname/branchname</code> çš„åˆ†æ”¯ï¼Œä¸€èˆ¬ç”¨äºæŸ¥çœ‹ä¼™ä¼´ä»£ç </li>
<li><code>git pull origin</code> : å’Œ fetch ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯å–å›è¿œç¨‹æ›´æ–°å’Œæœ¬åœ°åˆå¹¶ã€‚ç›¸å½“äºå…ˆ fetch å† mergeã€‚</li>
<li><code>git push origin</code> : push åˆ°è¿œç¨‹ä»“åº“</li>
</ul>
<blockquote>
<p>å‚è€ƒèµ„æ–™ <a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="external">1. Gitè¿œç¨‹æ“ä½œè¯¦è§£</a></p>
</blockquote>
<h2 id="2-æ€»ç»“"><a href="#2-æ€»ç»“" class="headerlink" title="2. æ€»ç»“"></a>2. æ€»ç»“</h2><blockquote>
<p>å…¶å®åœ¨å¼€å§‹æŠŠ Git æ•´ä¸ªå‘½ä»¤æµç¨‹å­¦ä¹ ä¸‹æ¥ä¹‹å‰ï¼Œå¯¹ Git ç†è§£ååˆ†æµ…æ˜¾ï¼Œä½¿ç”¨å‘½ä»¤ä¹Ÿæ˜¯æŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€ï¼Œé”™äº†æœç´¢è§£å†³æ–¹æ³•é‡è¯•ï¼Œå¯¹äº†å°±ä¸è¿½ç©¶åŸå› äº†ã€‚è¿™ç§æ–¹å¼æ„Ÿè§‰æ›´åŠ æµªè´¹æ—¶é—´ï¼Œè€Œä¸”å¾ˆå¯èƒ½å¤šæ¬¡é‡åˆ°é‡å¤é—®é¢˜ã€‚è§‰å¾—ä»¥åå­¦ä¹ æŸä¸ªä¸œè¥¿è¿˜æ˜¯å¾—å¤§æ¦‚äº†è§£æ•´ä¸ªç³»ç»Ÿæ‰å¥½ï¼Œæƒ³å¿«é€Ÿå…¥é—¨æœªå°ä¸å¯ï¼Œä½†æ˜¯é—²ä¸‹æ¥çš„æ—¶å€™è¦å»å¤šé—®é—®ä¸ºä»€ä¹ˆï¼Œè¿™æ ·æœ‰äº†å®è§‚çš„æ¦‚å¿µï¼Œå‡ºäº†é—®é¢˜è¯´ä¸å®šèƒ½è‡ªå·±æ‘¸ç´¢ç€è§£å†³ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œå®è·µç¡®å®æ˜¯æ¯”å•ä¸€çš„é˜…è¯»æˆ–çœ‹è§†é¢‘æ›´åŠ è®°å¿†æ·±åˆ»ï¼Œå¯¹å‘½ä»¤çš„ç†è§£ä¹Ÿæ˜¯åŒç†ï¼Œæ‰€ä»¥æœ€å¥½éƒ½æ•²ä¸€éã€‚</p>
</blockquote>
<ul>
<li><a href="https://github.com/mk43" target="_blank" rel="external">GitHub</a></li>
<li><a href="http://fitzeng.org">Blog</a></li>
<li><a href="https://juejin.im/user/5791a7a30a2b580061a0e352" target="_blank" rel="external">æ˜é‡‘</a></li>
</ul>
<p>å¤šè°¢é˜…è¯» ^_^</p>
<h2 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.nowcoder.com/courses/2#chapter-14" target="_blank" rel="external">-1. GitHub&amp;Gitå…¥é—¨åŸºç¡€</a></li>
<li><a href="http://www.cnblogs.com/feeland/p/4500721.html" target="_blank" rel="external">0. Git å­¦ä¹ ï¼ˆä¸‰ï¼‰æœ¬åœ°ä»“åº“æ“ä½œâ€”â€”git add &amp; commit</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="external">1. Gitè¿œç¨‹æ“ä½œè¯¦è§£</a></li>
<li><a href="https://github.com/geeeeeeeeek/git-recipes/wiki/5.1-%E4%BB%A3%E7%A0%81%E5%90%88%E5%B9%B6%EF%BC%9AMerge%E3%80%81Rebase-%E7%9A%84%E9%80%89%E6%8B%A9" target="_blank" rel="external">2. ä»£ç åˆå¹¶ï¼šMergeã€Rebase çš„é€‰æ‹©</a></li>
<li><a href="https://github.com/geeeeeeeeek/git-recipes" target="_blank" rel="external">3. GitHub é«˜è´¨é‡çš„Gitä¸­æ–‡æ•™ç¨‹</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0-å‰è¨€&quot;&gt;&lt;a href=&quot;#0-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0. å‰è¨€&quot;&gt;&lt;/a&gt;0. å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ Git æ—¶æœ‰ä¸€ç§æ„Ÿè§‰å°±æ˜¯åªä¼š &lt;code&gt;add | commit | push&lt;/code&gt; ä¸‰ä¸ªå‘½ä»¤ã€‚å› ä¸ºè¿™ä¸‰ä¸ªå‘½ä»¤ä¼¼ä¹è¶³ä»¥æŠŠä»£ç æäº¤åˆ° GitHub ä¸Šï¼Œå³ä½¿æ˜¯ç¢°åˆ°æŸä¸ªé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ Googleã€‚ä½†æ˜¯å¯¹äºå…¶ä¸­çš„é€»è¾‘å’Œç‰ˆæœ¬ç®¡ç†çš„ç²¾é«“æ²¡æœ‰ä½“ä¼šåˆ°ï¼Œè€Œåªæ˜¯ä½œä¸ºä¸€ä¸ªåœ¨çº¿ä»£ç ä»“åº“åœ¨ä½¿ç”¨ï¼Œè¿™æ ·åšä¹Ÿæ²¡æœ‰ä»€ä¹ˆä¸å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœèƒ½ç³»ç»Ÿçš„äº†è§£ä¸ºä»€ä¹ˆè¦æœ‰ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä»¥åŠç‰ˆæœ¬ç®¡ç†å·¥å…·èƒ½å¤Ÿç»™æˆ‘ä»¬æä¾›æ€ä¹ˆæ ·çš„ç®¡ç†æœåŠ¡ï¼Œå¯¹äºä½¿ç”¨å·¥å…·çš„æˆ‘ä»¬æ¥è¯´æœ‰å¾ˆå¤§å¸®åŠ©ã€‚ä¸ç”¨è®°ä½å‘½ä»¤ï¼Œåªæ˜¯ä»¥åé‡åˆ°é—®é¢˜æ—¶çŸ¥é“è¿™ä¸ªå·¥å…·æœ‰å®ç°çš„æ–¹å¼å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ç³»ç»Ÿçš„çœ‹äº†ä¸€ä¸‹å®˜æ–¹çš„ Git å…¥é—¨æ•™ç¨‹ &lt;a href=&quot;https://www.nowcoder.com/courses/2#chapter-14&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git å®˜æ–¹æ•™ç¨‹ï¼ˆä¸­å­—ï¼‰&lt;/a&gt; é‡Œé¢é€šè¿‡æè¿°å¯¹å‘½ä»¤çš„ä½¿ç”¨æƒ…æ™¯è¿›è€Œé€‰æ‹©å‘½ä»¤è¿›è¡Œæ“ä½œçš„æ–¹å¼ï¼Œä½¿å¾—å‘½ä»¤å¾ˆå®¹æ˜“ç†è§£ä¹Ÿå®¹æ˜“åŠ æ·±è®°å¿†ã€‚æ¯”èµ·å•ä¸€çš„å‘½ä»¤ç”¨æ–‡å­—è§£é‡Šè¿™ç§æ–¹å¼ï¼Œå¯¹äºä¸ç†Ÿæ‚‰ Git çš„äººæ¥è¯´æ˜¯ååˆ†å‹å¥½çš„ã€‚ä½†æ˜¯ï¼Œçœ‹å®Œå®¹æ˜“å¿˜ï¼Œæ‰€ä»¥å†™äº†è¿™ç¯‡æ•´ç†ç¬”è®°ç”¨ä½œè¾…åŠ©æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://fitzeng.org/tags/Git/"/>
    
      <category term="GitHub" scheme="http://fitzeng.org/tags/GitHub/"/>
    
      <category term="Tool" scheme="http://fitzeng.org/tags/Tool/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªå°ç™½ä½¿ç”¨ devstack éƒ¨ç½² openstack çš„å¿ƒè·¯å†ç¨‹</title>
    <link href="http://fitzeng.org/2017/11/04/deployOpenstackByDevstack/"/>
    <id>http://fitzeng.org/2017/11/04/deployOpenstackByDevstack/</id>
    <published>2017-11-04T03:27:00.000Z</published>
    <updated>2017-11-04T04:57:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0.å‰è¨€"></a>0.å‰è¨€</h2><blockquote>
<p>ä½œä¸ºä¸€ä¸ªæƒ³è¦å…¥é—¨äº‘è®¡ç®—çš„äººæ¥è¯´ï¼Œå¤§å¤šæ•°äººçš„ç¬¬ä¸€æ­¥å°±æ˜¯å­¦ä¹  openstackï¼Œè€Œå­¦ä¹  openstack çš„äººé¢ä¸´çš„ç¬¬ä¸€æ­¥å°±æ˜¯ç¬¬ä¸€ä¸ªâ€˜éš¾é¢˜â€™ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…· devstack éƒ¨ç½² openstack ç¯å¢ƒã€‚ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªä¸œè¥¿ï¼ŒèŠ±äº†ä¸¤å¤©å¤šæ—¶é—´åœ¨ Ubuntu Server å’Œ Ubuntu Desktop çš„ 16.04 ç‰ˆæœ¬ä¸ŠæˆåŠŸéƒ¨ç½²ã€‚æœ‰å¾ˆå¤šäººè¯´ Desktop ç‰ˆæœ‰å¾ˆå¤šå‘ï¼Œäº²æµ‹é—®é¢˜ç¡®å®æ¯” Server ç‰ˆå¤šï¼Œä½†éƒ½æ˜¯å¯è§£å†³çš„ã€‚å…¶ä¸­æœ€å¯¹åˆå­¦è€…ä¸å‹å¥½çš„å°±æ˜¯ç½‘ç»œé—®é¢˜ï¼Œä¸‹é¢ä¼šä»‹ç»ä¸ºä»€ä¹ˆã€‚æ‰€ä»¥å¦‚æœä½ è‡ªå·±ä¹°äº†å›½å¤–çš„ VPS é‚£å°±å¥½åŠäº†ï¼Œå› ä¸ºæœ‰ä¸ªéªšæ“ä½œè¦ç”¨åˆ°ï¼Œå¦‚æœä½ ç½‘é€Ÿå¥½å¯èƒ½ä½ é‡ä¸åˆ°è¿™äº›é—®é¢˜å°±å¯ä»¥å¿½ç•¥ã€‚</p>
<p>ä¸‹é¢ä¼šåˆ†ä¸¤ä¸ªéƒ¨åˆ†ä»‹ç»ï¼Œéƒ½ä¼šå°† Server å’Œ Desktop ä¸Šçš„éƒ¨ç½²è¿‡ç¨‹æè¿°ä¸€éã€‚<br>æ•™ç¨‹æ¨è <a href="https://docs.openstack.org/devstack/latest/" target="_blank" rel="external">å®˜æ–¹çš„ Doc</a>å’Œ<a href="https://zhuanlan.zhihu.com/p/28996062" target="_blank" rel="external">é¿å‘æŒ‡å—</a><br>æ•™ç¨‹è¿™ä¸ªä¸œè¥¿å¯¹äºåˆå­¦è€…ä¸å®œå¤ªå¤šï¼Œå®¹æ˜“ä¹±ï¼Œåªè¦æœ‰ä¸€ä¸ªæ­£ç¡®çš„æ‰§è¡Œæ¡†æ¶å°±å¥½ã€‚ç¢°åˆ°å…¶ä»– bug ç›´æ¥ Google å°±å¥½ã€‚</p>
</blockquote>
<a id="more"></a>
<p>ç„¶åä»‹ç»ä¸‹æˆ‘çš„ç¯å¢ƒå§</p>
<ul>
<li>Mac 10.12.6</li>
<li>VirtualBox 5.1.28</li>
<li>Ubuntu Server 16.04 4G+20G (ä¸´æ—¶æµ‹è¯• devstackï¼Œå¬è¯´å‘å°‘)</li>
<li>Ubuntu Desktop 16.04 4G+80G (å¹³æ—¶ä½¿ç”¨)</li>
<li>VPS(æœ€å¥½æœ‰) (ç”±äºæ˜¯ä¹ä¸ç‰ˆï¼Œä¸é€‚åˆç›´æ¥éƒ¨ç½²å’Œå¹³æ—¶å­¦ä¹ )</li>
</ul>
<h2 id="1-Ubuntu-Server-ç‰ˆ"><a href="#1-Ubuntu-Server-ç‰ˆ" class="headerlink" title="1.Ubuntu Server ç‰ˆ"></a>1.Ubuntu Server ç‰ˆ</h2><h3 id="å®‰è£…-Ubuntu-Server"><a href="#å®‰è£…-Ubuntu-Server" class="headerlink" title="å®‰è£… Ubuntu Server"></a>å®‰è£… Ubuntu Server</h3><p>é¦–å…ˆè‚¯å®šæ˜¯è¦åœ¨ Virtual Box å®‰è£… Ubuntu Server äº†ï¼Œè¿™ä¸€æ­¥ç•¥è¿‡ã€‚ç›¸ä¿¡ä½ å·²ç»æ˜¯æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´è™šæ‹Ÿæœºçš„äººäº†ï¼Œä½†æ˜¯ä¸€ç‚¹æ³¨æ„ï¼Œç«Ÿå¯èƒ½åˆ†å¤šä¸€ç‚¹å†…å­˜å’Œç¡¬ç›˜ã€‚ç”±äºæˆ‘ä¸æ‰“ç®—æ—¥åå†è¿™ Server ç‰ˆä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘çš„é…ç½®æ˜¯ 4G + 20G</p>
<h3 id="SSH-ç™»å½•è™šæ‹Ÿæœº"><a href="#SSH-ç™»å½•è™šæ‹Ÿæœº" class="headerlink" title="SSH ç™»å½•è™šæ‹Ÿæœº"></a>SSH ç™»å½•è™šæ‹Ÿæœº</h3><p>å½“ä½ åˆ›å»ºå®Œæˆä¹‹åé¢ä¸´çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯é‚£ä¸ªç•Œé¢å¤ªä¸‘äº†ã€‚ã€‚ã€‚æ‰€ä»¥å¦‚æœå¯ä»¥åœ¨å®¿ä¸»æœºä¸Šæ“ä½œå°±å¥½äº†ï¼ŒSSH æ­£å¥½æ»¡è¶³ä½ ã€‚<br>è‡³äº SSH ä¸é€šä½¿ç”¨ä¸äº†çš„è‡ªå·±æŸ¥æŸ¥èµ„æ–™å§ï¼Œè¿™é‡Œæˆ‘ä¸»è¦ä»‹ç»ç½‘å¡é…ç½®ï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªç½‘å¡ï¼š<br>ç¬¬ä¸€ä¸ªï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/wk1.png" alt=""><br><img src="/2017/11/04/deployOpenstackByDevstack/wk1port.png" alt=""><br>åšç«¯å£æ˜ å°„ï¼Œå°†ä¸»æœºçš„ 2222 æ˜ å°„åˆ°è™šæ‹Ÿæœºçš„ 22ï¼Œè¿™æ¡æ˜¯ä¸ºäº†ä»¥åä½¿ç”¨ SSHã€‚<br>ç¬¬äºŒä¸ªï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/wk2.png" alt=""><br>é…å®Œä¹‹åå†åœ¨å…¨å±€é…ç½®ä¸­è®¾ç½®ä½ æ‰€é€‰ä¸­çš„ç½‘å¡å¯ç”¨ DHCPã€‚å¯¹äºç½‘å¡å„ç§è¿æ¥æ¨¡å¼ä¸ç†Ÿçš„å¯ä»¥æŸ¥æŸ¥èµ„æ–™äº†è§£ä¸€ä¸‹ã€‚</p>
<p>ç„¶åè¿æ¥å°±æ˜¯ç›´æ¥åœ¨ä¸»æœºä¸‹ä½¿ç”¨  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -p 2222 fitzeng@127.0.0.1</div></pre></td></tr></table></figure>
<p>fitzeng æ”¹æˆä½ çš„ç”¨æˆ·åã€‚<br>å¦‚æœä½ å‡ºç°å„ç§é—®é¢˜è¿ä¸ä¸Šå¯ä»¥æ³¨æ„ä¸€ä¸‹ä¸¤ç‚¹ï¼š<br>1.é˜²ç«å¢™<br>2.æŠŠ <code>~/.ssh</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>known_hosts</code> æ–‡ä»¶åˆ äº†å†é‡è¿</p>
<h3 id="å¼€å§‹éƒ¨ç½²"><a href="#å¼€å§‹éƒ¨ç½²" class="headerlink" title="å¼€å§‹éƒ¨ç½²"></a>å¼€å§‹éƒ¨ç½²</h3><blockquote>
<p>è¿™é‡Œçš„ä¸»æ•™ç¨‹ä»¥å®˜æ–¹æä¾›çš„ä¸ºå‡†ï¼Œå¹¶ä¸”é‚£äº›æ³¨æ„ç‚¹æˆ‘ä¼šæ›´æ–°ã€‚</p>
</blockquote>
<p>éƒ¨ç½²çš„è„šæœ¬è¦æ±‚æ˜¯æ‹¥æœ‰ root æƒé™çš„é root ç”¨æˆ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo useradd -s /bin/bash -d /opt/stack -m stack</div><div class="line"></div><div class="line">echo &quot;stack ALL=(ALL) NOPASSWD: ALL&quot; | sudo tee /etc/sudoers.d/stack</div><div class="line">sudo su - stack</div><div class="line"></div><div class="line">cd /opt/stack</div><div class="line">git clone https://git.openstack.org/openstack-dev/devstack</div><div class="line">cd devstack</div></pre></td></tr></table></figure>
<p>å¦‚æœä¸Šé¢ clone å¤ªæ…¢æˆ–è€… clone ä¸ä¸‹æ¥çš„è¯å¯ä»¥è¯•è¯• github çš„æºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/openstack-dev/devstack.git</div></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æ·»åŠ é…ç½®äº†ï¼Œå¦‚æœä¸æ‡‚æ¨èç›´æ¥ä½¿ç”¨å®˜æ–¹é¡µé¢ä»‹ç»çš„ã€‚æˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cp samples/local.conf ./</div><div class="line">vim local.conf</div></pre></td></tr></table></figure>
<p>å¦‚æœä½ å¹¸è¿ï¼Œè®²é“ç†æœ€åæ‰§è¡Œ <code>./stack.sh</code> ç›´æ¥ä¸€è·¯åˆ°åº•ã€‚ã€‚ã€‚ä½†æ˜¯è¿˜æœ‰å¾ˆå¤šå‘æ­£åœ¨ç­‰å¾…ç€æˆ‘ä»¬ã€‚<br>ä½†ä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ˜¯ä»–çš„ Log å’ŒæŠ¥é”™ååˆ†æ¸…æ–°ï¼Œå¾ˆå¿«å¯ä»¥å®šä½é—®é¢˜æ‰€åœ¨ï¼Œæœ‰æ—¶å€™ç›´æ¥æœ Log éƒ½ä¼šå‡ºç°è§£å†³æ–¹æ³•ã€‚<br>å¦‚æœè„šæœ¬ç›´æ¥é€€å‡ºæç¤ºæ²¡æœ‰ HOST_IPã€‚é‚£ä¹ˆç›´æ¥åœ¨ <code>local.conf</code> åé¢æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">HOST_IP=x.x.x.x</div><div class="line">GIT_BASE=https://github.com</div></pre></td></tr></table></figure>
<p>HOST_IPå…·ä½“æ˜¯ä»€ä¹ˆåœ¨ä½ çš„è™šæ‹Ÿæœºä¸Š ifconfig æŸ¥çœ‹ã€‚ç„¶åæ¨èæŠŠ git æºæ¢æˆ github çš„ã€‚<br>è¿™é‡Œä½ å¯ä»¥æ£€æµ‹ä¸€ä¸‹ä½ çš„æºæœ‰æ²¡æœ‰é—®é¢˜ <code>apt-get update</code> æœ‰çš„è¯ç›´æ¥æŠŠæœ‰é—®é¢˜çš„æºåœ¨ <code>/etc/apt/sources.list.d/</code> ç›®å½•ä¸‹ç§»é™¤ï¼Œç§»é™¤å‰å»ºè®®å¤‡ä»½ä¸€ä¸‹ã€‚ç„¶åæ¨è <code>apt-get upgrade</code> ä¸€ä¸‹ï¼ŒPython ç‰ˆæœ¬ä¿æŒé»˜è®¤çš„ 2.7.X å°±å¥½ï¼Œå¦‚æœå‡ºç°ä»€ä¹ˆå’Œ Python 3.4 ä¸åŒ¹é…çš„ Log ç›´æ¥å¿½ç•¥ã€‚å¦‚æœä½ æ¢æˆ 3.4 å¾ˆå¤šåº“ä¼šå‡ºé—®é¢˜ã€‚å¦‚æœä½ æ˜¯ Python 3.Xï¼Œå¯ä»¥æŠŠ <code>/user/bin/</code> ä¸‹çš„ Python2.X é“¾æ¥åˆ°è¯¥ç›®å½•ä¸‹çš„ Python æ–‡ä»¶ã€‚è¿™æ—¶æ‰§è¡Œ <code>python -V</code> å°±èƒ½çœ‹åˆ°ç»“æœäº†ã€‚</p>
<p>ä½†ä½†ä½†æ˜¯ï¼Œä¸Šé¢åªæ˜¯è§£å†³äº†æœ‰å½¢çš„ Bugï¼Œè¿˜æœ‰å°±æ˜¯æ— å½¢çš„ Bugï¼Œä½ å°†é¢ä¸´ç½‘ç»œé—®é¢˜ï¼Œå¦‚æœä½ æƒ³é¡ºç•…ç‚¹å¯ä»¥ç›´æ¥æ›´æ¢æºã€‚<br>ä¿®æ”¹ pip æº</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mkdir ~/.pip</div><div class="line">vim ~/.pip/pip.conf</div><div class="line"></div><div class="line">å¡«å…¥ï¼š</div><div class="line">[global]</div><div class="line">trusted-host=mirrors.aliyun.com</div><div class="line">index-url=http://mirrors.aliyun.com/pypi/simple</div></pre></td></tr></table></figure>
<p>ä¿®æ”¹ sources.listï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</div><div class="line">sudo vim /etc/apt/sources.list</div><div class="line"></div><div class="line">å¡«å…¥ï¼š</div><div class="line"># deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted</div><div class="line">deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted</div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted</div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial universe</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties</div><div class="line">deb http://archive.canonical.com/ubuntu xenial partner</div><div class="line">deb-src http://archive.canonical.com/ubuntu xenial partner</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted</div><div class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe</div><div class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse</div></pre></td></tr></table></figure>
<p>éƒ½æ”¹æˆ aliyun çš„ã€‚åˆ°è¿™æ—¶å€™å¦‚æœä½ çš„ç½‘ç»œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç‚¹ç¯å¢ƒå°é—®é¢˜ï¼Œdkpg å’Œå„ç§åŒ…ç­‰ä¹‹ç±»çš„é—®é¢˜ï¼Œä¸€æœç½‘ä¸ŠåŸºæœ¬éƒ½æœ‰è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ä½†ä½†ä½†æ˜¯ï¼Œå¦‚æœä½ çš„ç½‘é€Ÿä¸‹è½½æŸäº›åŒ…ä¸è¶… 10Kb/s é‚£å°±è¦ç”¨éªšæ“ä½œäº†ã€‚ã€‚ã€‚å› ä¸ºä¼šä¸€ç›´å¡ç€ï¼Œç½‘ä¸€æ–­åˆå¾—é‡æ–°å¼€å§‹ï¼Œå…ˆ unstackï¼Œclean å† stackï¼Œååˆ†ä¸å‹å¥½ã€‚å‡ºç°é—®é¢˜å¤§å¤šæ˜¯åœ¨ä¸‹è½½æŸä¸ª git ä»“åº“å’ŒæŸäº›åŒ…çš„æ—¶å€™ã€‚å°¤å…¶æ˜¯ <code>nova</code> <code>horizon</code> ä¹‹ç±»çš„ï¼Œå¤§å°åˆ°äº† 300+Mã€‚</p>
<p>è¿™é‡Œä»‹ç»ä¸€ä¸ªæ–¹æ³•ï¼š<br>æ€è·¯æ˜¯å…ˆ SSH ä¸Šä½ çš„å›½å¤– VPSï¼Œä¸‹è½½ä½ çš„ git ä»“åº“æˆ–å…¶ä»–æ–‡ä»¶ã€‚ç„¶åå† SCP åˆ°ä½ çš„è™šæ‹Ÿæœºä¸Šã€‚ä¸»è¦æ˜¯è¿™æ ·ä¸ä¼šä¸­æ–­ï¼Œè€Œä¸”æ— å½¢ä¸­å°±å¯ä»¥æ˜¯å¤šçº¿ç¨‹æ“ä½œï¼Œå¼€å‡ ä¸ªç»ˆç«¯ SCP å¥½å‡ ä¸ªæ–‡ä»¶ã€‚<br>çœ‹çœ‹é€Ÿåº¦å¯¹æ¯”æ•ˆæœå§ï¼Œ<br>è™šæ‹Ÿæœºä¸Šä¸‹è½½ï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/horizon2.png" alt=""><br>VPS ä¸Šä¸‹è½½ï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/horizon.png" alt=""><br>ä¹‹åè‡ªå·± SCP å°±å¥½äº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo scp -P 10800 -r root@xx.xx.xx.xx:/fitzeng/horizon /etc/stack/</div></pre></td></tr></table></figure>
<p>-r æ˜¯ cp æ–‡ä»¶å¤¹ï¼Œç„¶åç«¯å£ï¼ŒIP å¡«ä½ è‡ªå·±çš„åé¢è·Ÿç›®å½•ã€‚è¿™é‡Œå¯èƒ½ä¹Ÿæœ‰ç‚¹æ…¢ï¼Œä½†æ˜¯æ¯”ä¹‹å‰çš„å¥½è€Œä¸”ç¨³å®šã€‚</p>
<p><img src="/2017/11/04/deployOpenstackByDevstack/nova.png" alt=""><br><img src="/2017/11/04/deployOpenstackByDevstack/cirros.png" alt=""><br>è¿™ä¸€åˆ‡æ“ä½œéƒ½æºäºå‹å¥½çš„ log æœºåˆ¶ï¼Œçœ‹ä¸Šé¢çš„å›¾ç‰‡æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸‹è½½åœ°å€å’Œå­˜æ”¾ç›®å½•ï¼Œæ‰€ä»¥ï¼ŒçŸ¥é“è¿™äº›æ‰‹æ®µå°±å¤šäº†èµ·æ¥ã€‚<br>ç½‘é€Ÿå¤Ÿå¿«ä¹Ÿå¯ä»¥ç›´æ¥åœ¨æœ¬åœ° cloneã€‚<br><img src="/2017/11/04/deployOpenstackByDevstack/nova2.png" alt=""></p>
<p>æœ‰äº†è¿™äº›æ“ä½œåŸºæœ¬å°±æ„å‘³ç€ä½ è§£å†³äº†ç½‘ç»œé—®é¢˜ï¼Œå€ŸåŠ© google åŸºæœ¬å¯ä»¥è§£å†³å…¶ä»–åº“å’Œç¯å¢ƒçš„é—®é¢˜ã€‚<br>æˆåŠŸå›¾ä¸Šä¼ ä¸€æ³¢ï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/finish.png" alt=""></p>
<h2 id="2-Ubuntu-Desktop-ç‰ˆ"><a href="#2-Ubuntu-Desktop-ç‰ˆ" class="headerlink" title="2.Ubuntu Desktop ç‰ˆ"></a>2.Ubuntu Desktop ç‰ˆ</h2><p>åŸºæœ¬æ­¥éª¤æ˜¯å’Œå‰é¢ä¸€è‡´çš„ï¼Œå‡ºçš„é—®é¢˜å¯èƒ½å°±æ˜¯ä½ ä¹‹å‰åœ¨ Ubuntu ä¸Šè£…è¿‡å„ç§è½¯ä»¶(æˆ‘è£…çš„ Sogou è¾“å…¥æ³•ï¼Œé‡Œé¢çš„ fcitx æºå½±å“äº†é€Ÿåº¦ï¼Œç”šè‡³æœ‰æ—¶å€™ç›´æ¥å¡è¿™ä¸åŠ¨)ï¼Œæ›´æ”¹äº†è½¯ä»¶æºæˆ–è€…åšè¿‡å…¶å®ƒçš„å·¥å…·æ›´æ”¹ï¼ŒæŒ‰ç…§å‰é¢çš„é…ç½®äº²æµ‹å¯è¡Œã€‚å¦‚æœä½ ä¹‹å‰åœ¨ Ubuntu Server ç‰ˆä¸Šè£…è¿‡ï¼Œç›´æ¥æŠŠæ–‡ä»¶ SCP è¿‡æ¥ï¼Œå¦‚æœè™šæ‹Ÿæœºä¹‹é—´ä¸èƒ½é€šè®¯ï¼Œå¯ä»¥å…ˆ SCP åˆ°å®¿ä¸»æœºï¼Œå†ä»å®¿ä¸»æœºé€šè¿‡æ–‡ä»¶å…±äº«çš„æ–¹å¼å…±äº«åˆ° Ubuntu Desktopã€‚<br>ç„¶åè¿è¡Œå°±å¯ä»¥äº†ï¼Œæœ‰äº†å‰é¢çš„åŸºç¡€å°±å¾ˆç®€å•äº†ã€‚</p>
<p>é‚£å°±çœ‹ç›´æ¥çœ‹ç»“æœå§ï¼š<br><img src="/2017/11/04/deployOpenstackByDevstack/d1.png" alt=""><br><img src="/2017/11/04/deployOpenstackByDevstack/d2.png" alt=""><br><img src="/2017/11/04/deployOpenstackByDevstack/d3.png" alt=""><br><img src="/2017/11/04/deployOpenstackByDevstack/d4.png" alt=""></p>
<h2 id="3-åè®°"><a href="#3-åè®°" class="headerlink" title="3.åè®°"></a>3.åè®°</h2><p>è¯´å®è¯ï¼Œè¿™ä¸å¤ªç®—æŠ€æœ¯æ–‡ç« ï¼Œçº¯å±ä¸ªäººè®°å½•ã€‚æœ¬æ¥ä¸å¤ªæƒ³å†™ï¼Œä½†æ˜¯æ„Ÿè§‰å›½å†…ç¯å¢ƒå¯¹å¼€å‘è€…æœ‰ç‚¹ä¸å‹å¥½ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« èƒ½å¯¹åˆå­¦è€…æœ‰éƒ¨åˆ†å¸®åŠ©æˆ‘å°±æ»¡æ„äº†ï¼Œèƒ½å¤Ÿä½¿åˆå­¦è€…ç»§ç»­å­¦ä¹ ä¸‹å»ã€‚ç„¶åè¿™æ˜¯éƒ¨ç½²å®Œä¹‹åå†™çš„ï¼Œéƒ¨ç½²çš„è¿‡ç¨‹è¿œä¸å¦‚å†™çš„è¿™ä¹ˆè½»æ¾ï¼Œä½†æ˜¯æˆ‘ç°åœ¨æœ‰ä¿¡å¿ƒå»è§£å†³éƒ¨ç½²è¿‡ç¨‹ä¸­ç¢°åˆ°çš„é—®é¢˜ï¼Œè¿™æ‰æ˜¯é‡ç‚¹ã€‚å¸Œæœ›ä½ ä¹Ÿæ˜¯ã€‚æ¯ä¸ªäººçš„ç¯å¢ƒéƒ½ä¸ä¸€æ ·ï¼Œå‡ºç°çš„é—®é¢˜ä¹Ÿä¸å¯èƒ½ä¸€æ ·ï¼Œæ‰€ä»¥å¦‚æœä½ ç…§ä¸Šé¢åšäº†è¿˜æ²¡æœ‰è§£å†³å¯ä»¥ç•™è¨€å¤§å®¶ä¸€èµ·è®¨è®ºã€‚</p>
<p>æœ€åï¼š<br>å¤šè°¢é˜…è¯»<br>ç¥å¤§å®¶ä¸€éè¿‡ ^_^</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0-å‰è¨€&quot;&gt;&lt;a href=&quot;#0-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0.å‰è¨€&quot;&gt;&lt;/a&gt;0.å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªæƒ³è¦å…¥é—¨äº‘è®¡ç®—çš„äººæ¥è¯´ï¼Œå¤§å¤šæ•°äººçš„ç¬¬ä¸€æ­¥å°±æ˜¯å­¦ä¹  openstackï¼Œè€Œå­¦ä¹  openstack çš„äººé¢ä¸´çš„ç¬¬ä¸€æ­¥å°±æ˜¯ç¬¬ä¸€ä¸ªâ€˜éš¾é¢˜â€™ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…· devstack éƒ¨ç½² openstack ç¯å¢ƒã€‚ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªä¸œè¥¿ï¼ŒèŠ±äº†ä¸¤å¤©å¤šæ—¶é—´åœ¨ Ubuntu Server å’Œ Ubuntu Desktop çš„ 16.04 ç‰ˆæœ¬ä¸ŠæˆåŠŸéƒ¨ç½²ã€‚æœ‰å¾ˆå¤šäººè¯´ Desktop ç‰ˆæœ‰å¾ˆå¤šå‘ï¼Œäº²æµ‹é—®é¢˜ç¡®å®æ¯” Server ç‰ˆå¤šï¼Œä½†éƒ½æ˜¯å¯è§£å†³çš„ã€‚å…¶ä¸­æœ€å¯¹åˆå­¦è€…ä¸å‹å¥½çš„å°±æ˜¯ç½‘ç»œé—®é¢˜ï¼Œä¸‹é¢ä¼šä»‹ç»ä¸ºä»€ä¹ˆã€‚æ‰€ä»¥å¦‚æœä½ è‡ªå·±ä¹°äº†å›½å¤–çš„ VPS é‚£å°±å¥½åŠäº†ï¼Œå› ä¸ºæœ‰ä¸ªéªšæ“ä½œè¦ç”¨åˆ°ï¼Œå¦‚æœä½ ç½‘é€Ÿå¥½å¯èƒ½ä½ é‡ä¸åˆ°è¿™äº›é—®é¢˜å°±å¯ä»¥å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä¼šåˆ†ä¸¤ä¸ªéƒ¨åˆ†ä»‹ç»ï¼Œéƒ½ä¼šå°† Server å’Œ Desktop ä¸Šçš„éƒ¨ç½²è¿‡ç¨‹æè¿°ä¸€éã€‚&lt;br&gt;æ•™ç¨‹æ¨è &lt;a href=&quot;https://docs.openstack.org/devstack/latest/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹çš„ Doc&lt;/a&gt;å’Œ&lt;a href=&quot;https://zhuanlan.zhihu.com/p/28996062&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é¿å‘æŒ‡å—&lt;/a&gt;&lt;br&gt;æ•™ç¨‹è¿™ä¸ªä¸œè¥¿å¯¹äºåˆå­¦è€…ä¸å®œå¤ªå¤šï¼Œå®¹æ˜“ä¹±ï¼Œåªè¦æœ‰ä¸€ä¸ªæ­£ç¡®çš„æ‰§è¡Œæ¡†æ¶å°±å¥½ã€‚ç¢°åˆ°å…¶ä»– bug ç›´æ¥ Google å°±å¥½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="devstack" scheme="http://fitzeng.org/tags/devstack/"/>
    
      <category term="openstack" scheme="http://fitzeng.org/tags/openstack/"/>
    
  </entry>
  
  <entry>
    <title>å®Œç¾è§£å†³ Linux çš„ã€dpkgï¼š warningï¼š files list file for package &#39;XXXXXXX&#39; missing, assuming package has no files currently installedã€‘Bug</title>
    <link href="http://fitzeng.org/2017/11/04/linuxDpkgBug/"/>
    <id>http://fitzeng.org/2017/11/04/linuxDpkgBug/</id>
    <published>2017-11-04T03:27:00.000Z</published>
    <updated>2017-11-04T15:12:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0.å‰è¨€"></a>0.å‰è¨€</h2><blockquote>
<p>ä¼°è®¡æ˜¯ä¹‹å‰åŠ¨äº†æˆ–è€…æŸåäº† <code>/var/lib/dpkg/info</code> é‡Œé¢çš„æ–‡ä»¶ï¼Œæ¯æ¬¡æ‰§è¡Œ apt ç±»çš„å‘½ä»¤æ€»æ˜¯è¾“å‡ºä¸€å¤§æ®µä¸œè¥¿ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ‰è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸å…¨ã€‚ã€‚ã€‚å¾ˆå¤šéƒ½æ˜¯å¤±è´¥çš„ã€‚æœ€åæˆ‘å‘ç° reinstall å¯ä»¥è§£å†³ï¼Œæ‰€ä»¥æ‰“ç®—å†™ä¸ªè„šæœ¬æ‰§è¡Œæ–‡ä»¶ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="1-è§£å†³æ–¹æ³•"><a href="#1-è§£å†³æ–¹æ³•" class="headerlink" title="1.è§£å†³æ–¹æ³•"></a>1.è§£å†³æ–¹æ³•</h2><h3 id="1-1-åˆ›å»ºä¸€ä¸‹ä¸‰ä¸ªæ–‡ä»¶"><a href="#1-1-åˆ›å»ºä¸€ä¸‹ä¸‰ä¸ªæ–‡ä»¶" class="headerlink" title="1.1 åˆ›å»ºä¸€ä¸‹ä¸‰ä¸ªæ–‡ä»¶"></a>1.1 åˆ›å»ºä¸€ä¸‹ä¸‰ä¸ªæ–‡ä»¶</h3><ul>
<li>fixit.py</li>
<li>fix.sh</li>
<li>txt</li>
</ul>
<h3 id="1-2-å¡«å†™å†…å®¹"><a href="#1-2-å¡«å†™å†…å®¹" class="headerlink" title="1.2 å¡«å†™å†…å®¹"></a>1.2 å¡«å†™å†…å®¹</h3><p>å…ˆæ¥æœ€ç®€å•çš„ <code>fix.sh</code>ï¼Œä¸ç”¨å¡«å†™å†…å®¹ï¼Œæ˜¯ç©ºæ–‡ä»¶ã€‚</p>
<p>æ¥ç€å°±å†™ <code>txt</code>ï¼Œç›´æ¥æŠŠé”™è¯¯æ—¥å¿—å¤åˆ¶è¿›å»ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">dpkg: warning: files list file for package &apos;libodbc1:amd64&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;dh-autoreconf&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;erlang-webtool&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;libhtml-template-perl&apos; missing; assuming package has no files currently installed</div><div class="line">.......</div><div class="line">dpkg: warning: files list file for package &apos;libvirt-dev:amd64&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;autopoint&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;libconfig-general-perl&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;ubuntu-cloud-keyring&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;tgt&apos; missing; assuming package has no files currently installed</div><div class="line">dpkg: warning: files list file for package &apos;libfdt1:amd64&apos; missing; assuming package has no files currently installed</div></pre></td></tr></table></figure>
<p>ä¸‹é¢å†™ <code>fixit.py</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#!/usr/bin/env python</div><div class="line"># -*- coding: utf-8 -*-</div><div class="line"></div><div class="line">__author__ = &apos;Fitzeng&apos;</div><div class="line"></div><div class="line">import re</div><div class="line"></div><div class="line">def main():</div><div class="line">    fix = open(&apos;fix.sh&apos;, &apos;w+&apos;)</div><div class="line">    for line in open(&quot;txt&quot;):</div><div class="line">        pkg = re.match(re.compile(&apos;&apos;&apos;dpkg: warning: files list file for package &apos;(.+)&apos; &apos;&apos;&apos;), line)</div><div class="line">        if pkg:</div><div class="line">            cmd = &quot;sudo apt-get install --reinstall &quot; + pkg.group(1)</div><div class="line">            fix.write(cmd + &apos;\n&apos;)</div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<h3 id="1-3-æ‰§è¡Œå‘½ä»¤"><a href="#1-3-æ‰§è¡Œå‘½ä»¤" class="headerlink" title="1.3 æ‰§è¡Œå‘½ä»¤"></a>1.3 æ‰§è¡Œå‘½ä»¤</h3><p>å¦‚æœæƒé™ä¸å¤Ÿå¯ä»¥ç›´æ¥å…ˆ <code>chmod 777 *</code>ï¼Œç„¶åæ‰§è¡Œ <code>python fixit.py</code>ï¼Œè¿™æ—¶ <code>fix.sh</code> å°±å˜æˆä¸‹é¢çš„æ ·å­äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install --reinstall libodbc1:amd64</div><div class="line">sudo apt-get install --reinstall dh-autoreconf</div><div class="line">sudo apt-get install --reinstall erlang-webtool</div><div class="line">sudo apt-get install --reinstall libhtml-template-perl</div><div class="line">sudo apt-get install --reinstall erlang-base</div><div class="line"></div><div class="line">.......</div><div class="line"></div><div class="line">sudo apt-get install --reinstall qemu-system-misc</div><div class="line">sudo apt-get install --reinstall libvirt-dev:amd64</div><div class="line">sudo apt-get install --reinstall autopoint</div><div class="line">sudo apt-get install --reinstall libconfig-general-perl</div><div class="line">sudo apt-get install --reinstall ubuntu-cloud-keyring</div><div class="line">sudo apt-get install --reinstall tgt</div><div class="line">sudo apt-get install --reinstall libfdt1:amd64</div></pre></td></tr></table></figure>
<p>æœ€åæ‰§è¡Œ <code>./fix.sh</code>ã€‚</p>
<p>ç„¶åå°±æ˜¯ç­‰å¾…æ‰§è¡Œç»“æŸäº†ã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼Œä¸€è¡Œä¸€è¡Œ <code>dpkg: warning:</code> åœ¨å‡å°‘ã€‚<br><img src="/2017/11/04/linuxDpkgBug/debuging.png" alt=""><br><img src="/2017/11/04/linuxDpkgBug/debuging1.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0-å‰è¨€&quot;&gt;&lt;a href=&quot;#0-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0.å‰è¨€&quot;&gt;&lt;/a&gt;0.å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä¼°è®¡æ˜¯ä¹‹å‰åŠ¨äº†æˆ–è€…æŸåäº† &lt;code&gt;/var/lib/dpkg/info&lt;/code&gt; é‡Œé¢çš„æ–‡ä»¶ï¼Œæ¯æ¬¡æ‰§è¡Œ apt ç±»çš„å‘½ä»¤æ€»æ˜¯è¾“å‡ºä¸€å¤§æ®µä¸œè¥¿ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ‰è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸å…¨ã€‚ã€‚ã€‚å¾ˆå¤šéƒ½æ˜¯å¤±è´¥çš„ã€‚æœ€åæˆ‘å‘ç° reinstall å¯ä»¥è§£å†³ï¼Œæ‰€ä»¥æ‰“ç®—å†™ä¸ªè„šæœ¬æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="linux" scheme="http://fitzeng.org/tags/linux/"/>
    
      <category term="dpkg" scheme="http://fitzeng.org/tags/dpkg/"/>
    
  </entry>
  
  <entry>
    <title>Restart</title>
    <link href="http://fitzeng.org/2017/09/22/restart/"/>
    <id>http://fitzeng.org/2017/09/22/restart/</id>
    <published>2017-09-22T03:27:00.000Z</published>
    <updated>2017-09-23T14:55:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0. å‰è¨€"></a>0. å‰è¨€</h2><blockquote>
<p>æˆ‘çš„æ±‚èŒç”Ÿæ´»æ˜¯ä»ä»Šå¹´çš„ 04-16 æ‰¾å®ä¹ å¼€å§‹åˆ° 09-22 æ‹¿åˆ°ä¼˜æ‹›(ç§‹æ‹›) Offerç»“æŸï¼Œä¸­é—´å…±ç»å†è¿‡äº†ä¸‰å®¶å…¬å¸é¢è¯•ï¼Œé¢è¯•ç»éªŒä¸è¶³ï¼Œè€Œä¸”æœ€è¿‘çš„é¢è¯•å·²è·ç°åœ¨ä¸¤ä¸ªå¤šæœˆäº†ï¼Œç»†èŠ‚è®°ä¸æ¸…äº†ï¼Œæ‰€ä»¥è¿™ä¸å¤ªç®—æ˜¯é¢ç»ï¼Œåªæ˜¯æˆ‘ä¸ªäººå¯¹æˆ‘è‡ªå·±æ‰¾å·¥ä½œè¿™å°åŠå¹´çš„æ€»ç»“ä»¥åŠæˆ‘å¯¹æ‰¾å·¥ä½œè¿™ä»¶äº‹çš„è®¤è¯†ã€‚é¦–å…ˆè¯´æ˜æˆ‘ä¸æ˜¯å¤§ç¥ï¼Œåªèƒ½ä»å¹³é™å™è¿°æ•´ä¸ªæ‰¾å·¥ä½œçš„è¿‡ç¨‹ï¼Œå¸Œæœ›ä½ èƒ½ä»ä¸­ä½“ä¼šåˆ°ä¸€ç‚¹ä»€ä¹ˆå°±å¾ˆæ»¡æ„äº†ï¼Œåœ¨æ­¤å…ˆç¥å¤§å®¶æ‰¾å·¥ä½œé¡ºåˆ©ï¼</p>
</blockquote>
<a id="more"></a>
<h2 id="1-é¢è¯•è¿‡ç¨‹"><a href="#1-é¢è¯•è¿‡ç¨‹" class="headerlink" title="1. é¢è¯•è¿‡ç¨‹"></a>1. é¢è¯•è¿‡ç¨‹</h2><blockquote>
<p>è‡ªå·±è¦ä»‹ç»è‡ªå·±åœ¨ä¸‰å®¶å…¬å¸çš„é¢è¯•è¿‡ç¨‹ï¼Œä¸æ¶‰åŠé¢è¯•é¢˜ç›®ä»€ä¹ˆçš„ï¼Œçº¯å±å™è¿°æ•´ä¸ªå¿ƒç†è¿‡ç¨‹ã€‚ä¸è¿‡åé¢æˆ‘ä¼šè¡¥å……ä¸€äº›èµ„æ–™å’Œæˆ‘å‚è€ƒçš„ä¸€äº›å…¶ä»–é¢è¯•è€…çš„é¢ç»ã€‚</p>
</blockquote>
<p>ä¸‹é¢æˆ‘æ ¹æ®é‚®ä»¶ç†ä¸€ä¸‹æ—¶é—´çº¿ï¼š</p>
<h4 id="ç¬¬ä¸€å®¶å…¬å¸ï¼ˆè…¾è®¯ï¼‰å®ä¹ -è·ª"><a href="#ç¬¬ä¸€å®¶å…¬å¸ï¼ˆè…¾è®¯ï¼‰å®ä¹ -è·ª" class="headerlink" title="ç¬¬ä¸€å®¶å…¬å¸ï¼ˆè…¾è®¯ï¼‰å®ä¹ -è·ª"></a>ç¬¬ä¸€å®¶å…¬å¸ï¼ˆè…¾è®¯ï¼‰å®ä¹ -è·ª</h4><p><code>ä¸€é¢ï¼š04-16</code><br>å¤§æ¦‚è®°å¿†å°±æ˜¯å•¥éƒ½é—®ï¼Œè¯»è¿‡æˆ‘ä»¥å‰æ–‡ç« çš„éƒ½çŸ¥é“ï¼Œæˆ‘ä»¥å‰æ˜¯å†™ Android çš„ï¼Œä½†æ˜¯ä»–é—®äº† Linuxï¼ŒC/C++ï¼Œæ“ä½œç³»ç»Ÿï¼ŒJVMï¼Œè®¾è®¡æ¨¡å¼ï¼Œç®—æ³•ï¼ŒAndriodï¼Œè¿˜æœ‰ä¸€äº›å°æ™ºåŠ›æµ‹è¯•é¢˜ã€‚ç›®å‰æˆ‘åªèƒ½è®°æ¸…è¿™äº›çŸ¥è¯†ç‚¹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€å¼€å§‹é—®äº†åå¤šåˆ†é’Ÿé¡¹ç›®ï¼Œå†é—®é—® Android åŸºç¡€(ç­”å¾—å¾ˆçƒ‚)ï¼Œå†é—® JVM(ä¹Ÿå¾ˆçƒ‚ğŸ˜­)ï¼Œæ¥ç€å°±ç»™æˆ‘ä¸€å¼ çº¸ä¸Šé¢ä¸¤é“é¢˜æ‰‹å†™ä»£ç ï¼Œé¢è¯•å®˜å°±å–æ°´å»äº†ï¼Œç„¶åæˆ‘æ²¡æ„è¯†åˆ°æœ‰ä¸¤é¢é¢˜ï¼Œåªåšäº†ç¬¬ä¸€é¢çš„ä¸¤é“å‘Šè¯‰é¢è¯•å®˜æˆ‘åšå¥½äº†ï¼Œä»–è¿‡æ¥äº†ï¼Œæˆ‘è·Ÿä»–è®²è§£ä»£ç ï¼ˆå› ä¸ºå­—è¿¹å®åœ¨éš¾çœ‹æ¸…ğŸ˜‚ï¼‰ï¼Œåœ¨ä»–çš„å¼•å¯¼ä¸‹æ…¢æ…¢æŠŠç¬¬äºŒé¢˜è¿›è¡Œä¼˜åŒ–ã€‚æ¥ç€å°±æ˜¯é—®é—®è®¡ç®—æœºåŸºç¡€çš„ä¸€äº›çŸ¥è¯†ã€‚é¢äº†æœ‰å°†è¿‘ä¸€ä¸ªå°æ—¶ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡é¢è¯•ï¼Œæµäº†ä¸€èº«çš„æ±—ã€‚<br>æˆ‘å¯¹é¢è¯•ç»“æœæ˜¯å¾ˆä¸ä¹è§‚çš„ï¼Œå› ä¸ºæˆ‘æ˜¯åœ¨ 04-1X æ‰çŸ¥é“è¿™æ˜¯å·²ç»æ¥è¿‘å®ä¹ æ‹›è˜å°¾å£°ã€‚åŸºæœ¬ä¸Šå¤§å¤šæ•°å…¬å¸çš„å†…æ¨ä»€ä¹ˆçš„éƒ½å¼„å®Œäº†ï¼Œè€Œæˆ‘ä¹Ÿæ˜¯åçŸ¥åè§‰ï¼Œ04-14 æ™šä¸Šåšç®€å†ï¼Œå› ä¸ºå¬è¯´è…¾è®¯ 04-15 æˆªæ­¢æŠ•é€’å®ä¹ ç®€å†ï¼Œåˆ° 04-15 æ—©ä¸Šï¼Œæˆ‘åšå®Œç®€å†å°±æŠ•äº†ã€‚å¯èƒ½æ˜¯é‡Œé¢æœ‰ä¸€äº›å­¦é•¿å­¦å§å§ï¼Œå½“å¤©ä¸‹åˆå°±æ”¶åˆ°å†…æ¨é€šçŸ¥å¹¶å‘ŠçŸ¥å®Œå–„ç®€å†ï¼Œæ¥ç€æ™šä¸Šå°±æ”¶åˆ°é€šçŸ¥æ˜å¤©å»é¢è¯•ã€‚æ•´ä¸ªæ„Ÿè§‰å¾ˆæƒŠå–œï¼Œä½†æ˜¯å…¶å®åæ¥è·ªäº†ä¹‹åæƒ³æƒ³å…¶å®æ˜¯è‡ªå·±æ²¡æœ‰åšå¥½å‡†å¤‡ï¼Œæ ¹æœ¬ä¸çŸ¥é“å‡†å¤‡å®ä¹ äººå®¶ä»ä¸‰æœˆä»½å°±å¼€å§‹æ‰¾äº†ï¼Œæ‰€ä»¥æœ‰ä¿¡æ¯æ¥æºå¾ˆé‡è¦ã€‚æœ¬æ¥ä»¥ä¸ºä¸€é¢è¦æŒ‚çš„ç»“æœç¬¬äºŒå¤©æ™šä¸Šå°±é€šçŸ¥è¿‡äº†å¹¶ä¸”è¿‡ä¸€å¤©ç¬¬äºŒé¢ã€‚</p>
<p><code>äºŒé¢ï¼š04-18</code><br>è¿™ä¸€é¢å¾ˆå´©ï¼Œåæ¥æ‰çŸ¥é“å¯èƒ½æ˜¯å‹åŠ›é¢ã€‚è¯´å®è¯ï¼Œç¬¬ä¸€é¢èƒ½è¿‡ä¹‹åæˆ‘å·²ç»æ”¾æ¾äº†å¾ˆå¤šã€‚äºŒé¢å†…å®¹å’Œ Android ä¸€æ¯›é’±å…³ç³»éƒ½æ²¡æœ‰ã€‚åŒæ ·ä¸€å¼€å§‹èŠèŠé¡¹ç›®ï¼Œç„¶åæ¡Œå­ä¸Šæœ‰ä¸€å †å¤§æ¦‚åå˜ç±³åšçš„ A4 çº¸ï¼Œæ‹¿ä¸€å¼ ï¼Œå£è¿°ä¸€é“é¢˜ç„¶åå†™ä»£ç ï¼Œè¿™é‡Œæé†’ä¸‹å¤§å®¶å¦‚æœé‡åˆ°è¿™ç§æƒ…å†µï¼Œæœ€å¥½åœ¨åŠ¨ç¬”å‰é—®æ¸…æ¥šé—®é¢˜æ¡ä»¶ï¼Œæ¯”å¦‚æˆ‘ä¸€åŠ¨ç¬”å†™äº†ä¸€ç‚¹ç„¶åé—®ä»–å­—ç¬¦ä¸²æ˜¯ä»¥ä»€ä¹ˆå½¢å¼å­˜å‚¨çš„ï¼Œç„¶åä»–å›ç­”äº† char *ï¼Œæ¥ç€ç»™æˆ‘æ„Ÿè§‰æœ‰ç‚¹ä¸å¤ªèˆ’æœï¼Œæ°”æ°›å¾ˆä¸¥è‚ƒï¼Œä½†æ˜¯æˆ‘åˆé—®äº†ä¸€ä¸ªé—®é¢˜ï¼šæ˜¯å†™ä¼ªä»£ç è¿˜æ˜¯ï¼Ÿç»“æœå´©äº†ï¼Œä»–ç«‹é©¬è¯´ï¼Œéƒ½è¿™æ—¶å€™äº†è¿˜å†™ä»€ä¹ˆä¼ªä»£ç ï¼å¥½ï¼Œæˆ‘é»˜é»˜çš„åˆ’æ‰ï¼Œåˆå†™äº†ä¸€æ®µä»£ç ï¼Œç”±äºæ··åœ¨ä¸€èµ·ï¼Œæˆ‘å°±æŠŠä»£ç åˆæŠ„äº†ä¸€éï¼Œä½†æ˜¯æœ‰äº›è¯­å¥ä¸€å¼€å§‹æŠ„æ¼æ‰€ä»¥å‡ºç°äº†ä¸¤å¥ä»£ç åœ¨ä¸€è¡Œçš„æƒ…å†µã€‚ã€‚ã€‚ä»–çœ‹äº†è¾¹å¹æ°”è¾¹è¯´ï¼šâ€œè¿™äº›çš„ä»€ä¹ˆï¼Œä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œç¼©è¿›XXXXXXXXXâ€ï¼Œç„¶åæˆ‘å¼±å¼±åœ°è¯´è¦ä¸æˆ‘å†æŠ„ä¸€éæŠŠæ ¼å¼è°ƒè°ƒï¼Ÿç»“æœä»–è¯´è¿˜è°ƒä»€ä¹ˆè°ƒï¼Œæµªè´¹æˆ‘æ—¶é—´ï¼ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚æŠŠæˆ‘å“åäº†ï¼Œç„¶åå¼±å¼±çš„ç»™ä»–è®²è§£äº†ä»£ç ï¼Œç”±äºä»£ç å†™çš„è¿˜ä¸é”™ï¼Œè¿™é‡Œä»–æ²¡æªæˆ‘çš„å°è¾«å­ã€‚ç„¶åä»–åˆè¯´ç»™ä½ æ¥ä¸€é“åšå¼ˆé¢˜ï¼Ÿï¼Ÿï¼Ÿæˆ‘é»‘äººé—®å·ï¼Œæˆ‘é¢çš„æ˜¯ Android å—ï¼Ÿå£è¿°å®Œé¢˜ç›®åï¼Œä»–çœ‹åˆ°äº†æˆ‘æœ‰ç‚¹é«˜å…´ï¼Œé—®æˆ‘æ˜¯ä¸æ˜¯çœ‹è¿‡ç±»ä¼¼çš„é¢˜ç›®ï¼Ÿæˆ‘è¯šå®çš„å›ç­”æ˜¯ã€‚ç»“æœä»–è¯´ç»™ä½ å‡ºé“ç®€å•ä¸€ç‚¹çš„é¢˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿå¿µå®Œé¢˜ç›®ä¹‹åæˆ‘ä¸€è„¸æ‡µé€¼ï¼Œç»“æœæœ€åæˆ‘å¯¹é¢˜ç›®çš„çœ‹æ³•å’Œé¢è¯•å®˜ä¸ç¬¦ï¼Œç„¶åæŒ‚äº†ã€‚æ€»ç»“å°±æ˜¯ï¼šæŠ±æ­‰ï¼Œæˆ‘ä¸ä¼šæ¼”æˆã€‚ã€‚ã€‚å½“æ—¶æƒ³å¦‚æœæˆ‘ç¨å¾®å†·é™ä¸€ç‚¹ï¼ŒæŠŠåšå¼ˆé¢˜æ‹¿ä¸‹åº”è¯¥è¿™é¢èƒ½è¿‡å§ï¼Œä½†æ˜¯æ²¡æœ‰å¦‚æœã€‚ã€‚ã€‚</p>
<h4 id="ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰1-å®ä¹ -è·ª"><a href="#ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰1-å®ä¹ -è·ª" class="headerlink" title="ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰1. å®ä¹ -è·ª"></a>ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰1. å®ä¹ -è·ª</h4><p><code>æŠ€æœ¯é¢ï¼š05-13</code><br>ç”±äºé¢è¯•å®˜ä¸æ˜¯åš Androidï¼Œç»™æˆ‘æ„Ÿè§‰è¿ Java ç›¸å…³éƒ½ä¸æ˜¯ï¼Œæ‰€ä»¥å…¨ç¨‹åœ¨èŠå¤©ï¼Œä»€ä¹ˆä½ å®¶åœ¨å“ªé‡Œï¼Ÿä¸ºä»€ä¹ˆä¸è¯»ç ”ï¼Ÿä½ èƒ½æ¥å—åŠ ç­å—ï¼Ÿä¹‹ç±»çš„ã€‚ã€‚ã€‚ã€‚å¤§æ¦‚äºŒåå¤šåˆ†é’Ÿï¼Œç»“æŸå¾—å¾ˆè½»æ¾ã€‚</p>
<p><code>ç»¼åˆé¢ï¼š05-13</code><br>ç”±äºæŠ€æœ¯é¢æ²¡é—®æŠ€æœ¯ï¼Œæ‰€ä»¥è¿™é¢å¤§æ¦‚å°±æ˜¯å’Œå‰é¢é—®çš„é—®é¢˜å·®å¤šï¼Œæ—¶é—´ä¹Ÿæ˜¯å·®ä¸å¤šï¼Œæ„Ÿè§‰å¾ˆæ°´ã€‚ã€‚ã€‚</p>
<p>è¡¥å……ï¼šå‰é¢éƒ½æ˜¯åŒä¸€å¤©é¢å®Œï¼Œæ„Ÿè§‰å¾ˆè¯¡å¼‚ï¼Œä¸å¤ªåƒé¢è¯•ã€‚ã€‚ã€‚å›åˆ°å­¦æ ¡åï¼Œè¿‡å‡ å¤©é¢è¯•çŠ¶æ€å°±æ˜¯å½•ç”¨æ’åºä¸­ã€‚ç®—æ˜¯é¢è¯•è¿‡äº†ï¼Œç„¶åä¸€ä¸¤å‘¨è¿‡åæœ‰åŒç­çš„åŒå­¦æ”¶åˆ°å®ä¹  offerï¼Œè€Œæˆ‘æ²¡æ¶ˆæ¯ã€‚ç›´åˆ°å¬è¯´å®ä¹  offer éƒ½å‘å®Œäº†æˆ‘æ‰çŸ¥é“æˆ‘æŒ‚äº†ã€‚æ‰€ä»¥è¯´åä¸ºçš„é¢è¯•é€šè¿‡å’Œ offer è¿˜æœ‰ä¸€æ®µèµ„æºæ± çš„è·ç¦»ã€‚åæ¥ä¸€ä¸ªå­¦é•¿ hr æ¥åˆ°å­¦æ ¡æ‰¾åŒå­¦è°ˆè¯ï¼Œè¿™æ—¶æˆ‘è¢«å‘ŠçŸ¥æŠ€æœ¯é¢ç»™äº†ä¸ª B+ã€‚ã€‚ã€‚è¿™ä¸ªå¯¹æˆ‘åé¢å½±å“æŒºå¤§çš„ï¼Œç„¶åç»¼åˆé¢æ˜¯ OK çš„ã€‚æ‰€ä»¥é¢è¯•æ—¶ç®—è¿‡ï¼Œæœ¬æ¥ä¹Ÿå¯ä»¥ç»™ offer ä½†æ˜¯æ²¡æœ‰å²—ä½ï¼Œåªæ‹›ä¸€ä¸ª Android å®ä¹ çš„ ğŸ™‚ã€‚ä½†æ˜¯è¿™æ—¶å€™æˆ‘è¿˜å¯ä»¥ç”¨è¿™ä¸ªå®‰æ…°è‡ªå·±ï¼Œä¸æ˜¯ä½ å·®ï¼Œæ˜¯å¸‚åœºéœ€æ±‚ï¼Œè¿™æ˜¯æ²¡åŠæ³•çš„äº‹ã€‚åç»­çš„æ˜¯å°±æ˜¯å­¦é•¿è·Ÿæˆ‘è°ˆäº†è°ˆäººç”Ÿè§„åˆ’å•Šï¼Œç„¶åæ¨èæˆ‘å‚åŠ ä¼˜æ‹›ã€‚åé¢å°±æ˜¯ä¼˜æ‹›çš„æ•…äº‹äº†ï¼›</p>
<h4 id="ç¬¬ä¸‰å®¶å…¬å¸ï¼ˆé˜¿é‡Œï¼‰å®ä¹ -è·ª"><a href="#ç¬¬ä¸‰å®¶å…¬å¸ï¼ˆé˜¿é‡Œï¼‰å®ä¹ -è·ª" class="headerlink" title="ç¬¬ä¸‰å®¶å…¬å¸ï¼ˆé˜¿é‡Œï¼‰å®ä¹ -è·ª"></a>ç¬¬ä¸‰å®¶å…¬å¸ï¼ˆé˜¿é‡Œï¼‰å®ä¹ -è·ª</h4><p><code>ä¸€é¢ï¼š05-20</code><br>é˜¿é‡Œæ˜¯åœ¨çº¿é¢è¯•ï¼Œç»™æˆ‘çš„æ„Ÿè§‰æ˜¯é¢è¿‡æœ€éš¾çš„ï¼Œé—®å¾—æˆ‘æ— ä»å›ç­”ï¼Œå› ä¸ºæˆ‘åŸºæœ¬æ²¡æœ‰é¡¹ç›®ç»éªŒï¼Œä»€ä¹ˆè¯´è¯´ä½ åœ¨å¼€å‘ä¸­ç¢°åˆ°å°è±¡æœ€æ·±åˆ»çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿé‡åˆ°ç½‘ä¸Šæ€ä¹ˆä¹ŸæŸ¥ä¸åˆ°ç­”æ¡ˆçš„é—®é¢˜æ€ä¹ˆåŠï¼Ÿè¿˜æœ‰ä½ å¯¹ RNï¼ˆå½“æ—¶åªçŸ¥é“æœ‰ä¸ª RN å¼€å‘ï¼Œå¹¶ä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆï¼‰ å¼€å‘æ€ä¹ˆçœ‹ï¼Ÿåæ­£æˆ‘ç­”ä¸ä¸Šæ¥ï¼Œæ‰€ä»¥ç›´æ¥æ¯™äº†ã€‚åé¢ä»–é—®æˆ‘æœ‰ä»€ä¹ˆé—®é¢˜é—®ä»–ï¼Œæˆ‘é—®ä»–ä»–å¯¹æˆ‘é¢è¯•æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿä»–è¯´æˆ‘åŸºç¡€ä¸è¡Œï¼Œç„¶åæˆ‘åˆé—®äº†è¦æ€ä¹ˆå­¦ä¹ ï¼Ÿä»–è¯´ Java è¦å­¦å¥½ï¼Œåå°„æ³¨è§£ä»€ä¹ˆçš„ã€‚æ€»ä¹‹å°±æ˜¯åŸºç¡€è¦æ‰å®ã€‚ã€‚ã€‚</p>
<h4 id="ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰2-ä¼˜æ‹›-è¿‡"><a href="#ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰2-ä¼˜æ‹›-è¿‡" class="headerlink" title="ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰2. ä¼˜æ‹›-è¿‡"></a>ç¬¬äºŒå®¶å…¬å¸ï¼ˆåä¸ºï¼‰2. ä¼˜æ‹›-è¿‡</h4><p><code>è¡¥æŠ€æœ¯é¢ï¼š07-14</code><br>ç”±äºå‰é¢çš„å®ä¹ é¢è¯•ç»™äº†ä¸ª B+ï¼Œæ‰€ä»¥è¿™æ¬¡è¦è¡¥ä¸€ä¸ªæŠ€æœ¯é¢ã€‚é¢è¯•å®˜ä¹Ÿä¸æ˜¯åš Android çš„ï¼Œä¸è¿‡æ˜¯å’Œ Java ç›¸å…³çš„ï¼Œæ‰€ä»¥åŸºæœ¬å°±æ˜¯é—®æˆ‘ Java äº†ã€‚ä¹Ÿæ˜¯å¼€å§‹èŠèŠé¡¹ç›®å’Œç”Ÿæ´»ï¼Œç„¶åé—®é—® Java å†…å­˜æ³„æ¼ï¼ŒGCï¼Œæ¥ç€è€ƒè€ƒç®—æ³•ï¼Œä¸€é“è¿·å®«çš„é¢˜ç›®ï¼Œè¯´ä¸‹ç”¨æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆéå†çš„å®ç°æ€æƒ³ï¼Œè¿›è€Œé—®å¦‚æœè¦æ‰¾å‡ºä¸€æ¡æœ€å°‘æ­¥éª¤çš„è·¯èµ°å‡ºè¿·å®«æ€ä¹ˆåŠï¼ŸåŸºæœ¬éƒ½ç­”ä¸Šæ¥äº†ï¼Œæœ€åä»–è¯´æˆ‘é—®ä½ ä¸€ä¸ª Java é—®é¢˜ï¼Œæˆ‘ä»¥ä¸ºä¼šå¾ˆéš¾ã€‚ç»“æœä»–è¯´è¢« final å…³é”®å­—ä¿®é¥°çš„ç±»ä¼šæ€ä¹ˆæ ·ï¼Ÿæˆ‘è¿Ÿç–‘äº†ä¸€ä¸‹ï¼Œè¯´äº†ç­”æ¡ˆã€‚ã€‚ã€‚ç„¶åé¢è¯•å°±ç»“æŸäº†ã€‚ç»™æˆ‘çš„æ„Ÿè§‰åº”è¯¥æ˜¯èƒ½è¿‡çš„ã€‚</p>
<p><code>BOSS é¢ï¼š07-14</code><br>ç­‰äº†å¥½ä¹…ï¼Œæœ€åæ’é˜Ÿæ’ä¸ä¸Šä¸Šåˆçš„äº†ï¼Œç„¶åå‘äº†é¤åˆ¸å»åƒäº†ä¸ªé¥­å›æ¥é¢è¯•ã€‚é¢è¯•è¿‡ç¨‹å’Œå®ä¹ é¢è¯•æ—¶å·®ä¸å¤šï¼Œä½†æ˜¯é‚£ä¸ªé¢è¯•å®˜çš„çº§åˆ«æ„Ÿè§‰æŒºé«˜çš„ï¼Œç™½å¤´å‘ç‰¹åˆ«å¤šï¼Œä¼°è®¡ 50+ å§ï¼Œæœ€ååŠ äº†ä¸ªç¾¤ï¼Œé¢è¯•ç»“æŸäº†ã€‚æ„Ÿè§‰æ²¡ä»€ä¹ˆæ„Ÿè§‰ï¼Œå½“æ—¶é¢è¯•çš„ç ”ç©¶ç”Ÿç‰¹åˆ«å¤šï¼Œæ‰€ä»¥æˆ‘æ„Ÿè§‰å¯èƒ½è¦ GGã€‚</p>
<p>ç­‰äº†ä¸¤ä¸ªå¤šæœˆåï¼Œç­‰åˆ° 09-21 å‘æ¥çš„ç­¾çº¦çŸ­ä¿¡ï¼Œ09-22 ä»¥ç™½èœä»·ç­¾äº†ä¸‰æ–¹ã€‚æ˜¯è‡ªå·±æ»¡æ„çš„åŸå¸‚åŠ ä¸Šæ•´ä¸ªæš‘å‡éƒ½åœ¨å­¦æ ¡ï¼Œ09 æœˆä»½æŠ•äº†åå¤šå®¶å…¬å¸å’Œåšäº† 7-8ä»½ç¬”è¯•é¢˜ï¼Œå¿ƒå¤ªç´¯å®åœ¨æ˜¯ä¸æƒ³ç­‰äº†ã€‚ã€‚ã€‚ç­¾çš„è¿‡ç¨‹ä¸­æœ‰ä¸ªæ›´æ”¹åŸå¸‚çš„å°æ’æ›²ï¼Œhr å¾ˆå¥½ï¼Œå¿™åˆ°æ™šä¸Š 7 ç‚¹å¤šæ‰ç»“æŸï¼Œåœ¨è¿™è¡¨ç¤ºæ„Ÿè°¢ã€‚è¿˜æœ‰ä¸€ä¸ªå°æ’æ›²æ˜¯å½“å¤©æœ‰ä¸€ä¸ªè…¾è®¯çš„é¢è¯•ï¼Œè¿™æ˜¯æˆ‘çš„æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªç§‹æ‹›é¢è¯•ï¼Œç”±äºç­¾äº†åä¸ºçš„ä¸‰æ–¹ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰å»é¢äº†ï¼Œå‡†ç¡®è¯´ï¼Œå…¶å®æˆ‘æ²¡æœ‰ç§‹æ‹›ï¼Œé™¤äº†æŠ•äº†åå‡ åˆ†ç®€å†å’Œåšäº†å‡ æ¬¡ç¬”è¯•ã€‚</p>
<h2 id="2-é¢è¯•å‡†å¤‡"><a href="#2-é¢è¯•å‡†å¤‡" class="headerlink" title="2. é¢è¯•å‡†å¤‡"></a>2. é¢è¯•å‡†å¤‡</h2><blockquote>
<p>è¿™é‡Œä¸»è¦å™è¿°æˆ‘çš„æš‘å‡å’Œä¹æœˆä¸Šæ—¬è¿™ä¸ªé¢è¯•å‡†å¤‡è¿‡ç¨‹å’Œè‡ªå·±å¯¹é¢æ˜¯å‡†å¤‡çš„çœ‹æ³•ã€‚</p>
</blockquote>
<p>è¯´å®è¯ï¼Œæ²¡æœ‰å®ä¹  offer å¯¹æˆ‘ç®—æ˜¯æœ‰ç‚¹æ‰“å‡»çš„ã€‚æ‰€ä»¥æˆ‘å°±æ‰“ç®—æš‘å‡ä¸å›å®¶å¥½å¥½å¤ä¹ åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘è§‰å¾—å¯¹äºä¸€ä¸ªæœ¬ç§‘ç”Ÿæ¥è¯´ï¼ŒåŸºç¡€æ‰å®æ‰æ˜¯ä½ çš„ä¼˜åŠ¿ï¼Œå¯¹äºè¿™é‡Œå¯èƒ½æ¯ä¸ªäººçœ‹æ³•ä¸ä¸€ï¼Œå¯¹äºæ¯ä¸ªæ–¹å‘å¯èƒ½æœ‰å·®è·å§ï¼Œè¿™é‡Œæˆ‘åªæ˜¯å¹³é™åœ°è¡¨è¾¾æˆ‘çš„è§‚ç‚¹ã€‚</p>
<p>æ‰€ä»¥æˆ‘åŸºæœ¬æ”¾ä¸‹ Android äº†ï¼Œåªæ˜¯æŒ‘çƒ­ç‚¹é¢è¯•é—®é¢˜è¿‡è¿‡ã€‚è¯´ä¸‹æˆ‘åšè¿‡çš„åŠªåŠ›ï¼š</p>
<p>1.<a href="https://juejin.im/post/598454dcf265da3e26095dca" target="_blank" rel="external">é‡æ‹¾æ•°æ®ç»“æ„</a><br>2.<a href="https://juejin.im/post/59a7b8c9f265da24777a07da" target="_blank" rel="external">é‡æ‹¾æ“ä½œç³»ç»Ÿ</a><br>3.<a href="https://juejin.im/post/59ad4cd56fb9a02477075780" target="_blank" rel="external">é‡è¯» JVM</a><br>4.<a href="http://fitzeng.org/2017/07/08/AndroidBlogCollection/">Android Blog Collection</a><br>5.<a href="http://fitzeng.org/2017/09/11/handler/">Handler æœºåˆ¶å†äº†è§£</a></p>
<p>ä»¥ä¸Šæ˜¯ä»¥ Blog å½¢å¼è¿›è¡Œäº†æ€»ç»“çš„ï¼Œè¿˜æœ‰éƒ¨åˆ†ä¹¦ç±æ²¡æœ‰æ€»ç»“çš„ã€‚</p>
<p><img src="/2017/09/22/restart/books.png" alt=""></p>
<p>é‡Œé¢çš„çœ‹äº†æœ‰ 30% å§ï¼Œéƒ½æ˜¯é‡‡å–ä¸é‡è¦çš„ç²—è¯»é‡è¦çš„ç²¾è¯»æ¨¡å¼ã€‚ç”µå­ç‰ˆä¸‹è½½ <a href="http://pan.baidu.com/s/1o7LcZCe" target="_blank" rel="external">é“¾æ¥ : http://pan.baidu.com/s/1o7LcZCe</a> å¯†ç  : 0p0c ã€‚å¸Œæœ›å¤§å®¶æœ‰æ¡ä»¶å»æ”¯æŒçº¸è´¨ä¹¦å§ï¼Œæˆ‘å¯¹çŸ¥è¯†åˆ›é€ è€…è¿˜æ˜¯å¾ˆå°Šé‡çš„ï¼Œå› ä¸ºè‡ªå·±å‘ç°å†™ Blog æ¯ä¸ªç¤¼æ‹œä¸€ç¯‡éƒ½å†™ä¸æ¥ï¼Œä½†æ˜¯å¯¹äºéƒ¨åˆ†å­¦ä¹ è®¡ç®—æœºçš„äººæ¥è¯´ï¼Œä¹¦ç¡®å®æœ‰ç‚¹å¤šï¼Œä¹Ÿè¦èŠ±å¾ˆå¤šé’±ï¼Œæ‰€ä»¥å–èˆä¹‹ä¸‹å°±æ˜¯æœ‰æ¡ä»¶çš„ç°åœ¨æ”¯æŒåŸä½œè€…ï¼Œæ²¡æ¡ä»¶çš„ä»¥åæœ‰æ¡ä»¶äº†å†æ”¯æŒã€‚å¥½åƒåé¢˜äº†ã€‚ã€‚ã€‚</p>
<p>æœŸé—´çœ‹è¿‡ Android å¼€å‘è‰ºæœ¯æ¢ç´¢ï¼ŒAndroid ç¾¤è‹±ä¼ ï¼ŒAndroid è¿›é˜¶ä¹‹å…‰ã€‚ä¹‹å‰è¿˜çœ‹è¿‡ ç¼–ç¨‹ä¹‹ç¾ï¼Œç¼–ç¨‹ç ç‘ï¼Œç¼–ç¨‹ä¹‹æ³•ï¼Œéƒ½æ²¡æœ‰è‡ªå·±æ•²ä»£ç å®ç°ï¼Œæ‰€ä»¥å¤„äºæœ‰æ€è·¯ä½†ä¸èƒ½å†™ä»£ç å®ç°çš„çŠ¶æ€ã€‚ç„¶åå°±æ˜¯ä¸€äº›ä¸“ä¸šè¯¾è¯¾æœ¬äº†ã€‚å¯¹äºè¯»ä¹¦è¿™ä»¶äº‹æˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦ä¸ºä¸€ä¸ªçŸ¥è¯†ç‚¹æ­»ç£•ï¼Œæˆ‘ä¸€èˆ¬å°±æ˜¯å¾€åç¿»ï¼ŒåŸºæœ¬ä¸¤å¤©è·³ç€â€˜çœ‹â€™å®Œä¸€æœ¬ä¹¦ã€‚æ—¶é—´å›ºå®šçš„æƒ…å†µä¸‹å®æ„¿è·³ç€å¤šçœ‹å‡ éï¼Œä¹Ÿä¸è¿½æ±‚ä¸€éä»”ç»†çœ‹å®Œã€‚å› ä¸ºä½ é¢ä¸´çš„ç»“æœå°±æ˜¯è®°ä¸ä½ï¼Œæ²¡æœ‰é‡ç‚¹çš„é‡å¤åˆºæ¿€ä¸‹çŸ¥è¯†ç½‘ç»œå»ºç«‹ä¸èµ·æ¥ã€‚å¾€å¾€é˜…è¯»åˆ°åé¢ï¼Œå‰é¢çš„ç–‘é—®å°±ä¼šè¿åˆƒè€Œè§£ã€‚</p>
<p>ç„¶åè¯´è¯´å²—ä½å§ï¼Œä»¥åæˆ‘å¯èƒ½å°±ä¸ä¼šå†å†™å’Œ Android ç›¸å…³çš„æ–‡ç« äº†ï¼Œç­¾çš„å·¥ä½œæ˜¯äº‘è®¡ç®—æ‰€ä»¥æ‰“ç®—å­¦å­¦ Python å’Œ OpenStack ä¹‹ç±»çš„ï¼Œä»æ–°å¼€å§‹æ¥è§¦ä¸€ä¸ªæ–°çš„é¢†åŸŸã€‚æ‰€ä»¥å¦‚æœä½ ä¸æ˜¯å¯¹ä¸€ä¸ªå²—ä½æŒæœ‰éåšä¸å¯çš„æ€åº¦ï¼Œå…¶å®æˆ‘è§‰å¾—é‚£å°±ä¸è¦å¤ªåœ¨æ„é‚£äº›èŠ±å“¨çš„ä¸œè¥¿ï¼Œæ³¨é‡åŸºç¡€çš„ç§¯ç´¯ã€‚æ¯”å¦‚ä¹‹å‰é¢è¯•æœ‰é—®æˆ‘å­¦è¿‡ä»€ä¹ˆæ¡†æ¶å—ï¼Ÿæˆ‘è¯´æ²¡å­¦è¿‡ï¼Œç„¶åè¿™ä¸ªè¯é¢˜å°±è·³è¿‡äº†ã€‚å½“ç„¶å­¦è¿‡åŠ åˆ†ï¼Œæ²¡å­¦è¿‡æˆ‘è§‰å¾—ä¸å‡åˆ†å§ï¼Œæ¯•ç«Ÿåº”å±Šç”Ÿã€‚ä½†æ˜¯ä¸€ä¸ª Java åŸºç¡€çš„è¯­è¨€ç‰¹æ€§ç­”ä¸ä¸Šæ¥é‚£å°±æœ‰ç‚¹è¯´ä¸è¿‡å»äº†ã€‚è€Œä¸”æ¡†æ¶çš„ç²¾é«“åœ¨è¯»æºç ä¹‹åè½¬åŒ–ä¸ºè‡ªå·±çš„ç†è§£ä»è€Œåº”ç”¨åœ¨è‡ªå·±ä»£ç ä¸­ï¼Œè€Œä¸æ˜¯ä¼šä½¿ç”¨æ¡†æ¶ï¼Œè¿™ç§ä»·å€¼ä¸å¤§ã€‚å¦‚æœä½ æ˜¯å¤§ç¥ï¼ŒåŸºç¡€æ‰å®ï¼Œé‚£è¿™äº›å°±æ˜¯ä½ çš„è¿›é˜¶ï¼Œä½ çš„åŠ åˆ†é¡¹ï¼Œæœ¬è´¨ä¸ä¸€æ ·ã€‚å°±åƒè¯•å·çš„å¿…ç­”é¢˜ç­”å®Œäº†è‚¯å®šæ˜¯å»ç­”é€‰åšé¢˜ï¼Œä½†æ˜¯æœ‰äº›äººè¿å¿…ç­”é¢˜éƒ½æ²¡åšå®Œå°±è·Ÿç€åˆ«äººç¿»å·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹ã€‚ã€‚ã€‚æ€»ä¹‹å°±æ˜¯æ³¨é‡è¯­è¨€æœ¬èº«ï¼Œè€Œä¸æ˜¯è¯­è¨€è¡ç”Ÿå“ã€‚</p>
<p>æ¥ç€è¯´è¯´é¢ç»ï¼Œè¿™æ˜¯å¾ˆå¥½çš„ä¸œè¥¿ï¼Œä½†æ˜¯ä¹Ÿæ˜¯å¾ˆä¸å¥½çš„ä¸œè¥¿ï¼Œçœ‹ä½ çš„è®¤çŸ¥ã€‚æœ‰äººå¯¹é¢ç»çš„æ€åº¦æ˜¯é¢˜åº“ï¼Œè§‰å¾—çœ‹å®Œè®°ç€æˆ‘é¢è¯•å°±èƒ½è¿‡äº†ï¼ŒåŒä¸€ä¸ªé—®é¢˜ï¼Œä¸åŒçš„äººè¯´ç›¸åŒçš„ç­”æ¡ˆé¢è¯•å®˜ä¹Ÿèƒ½çŸ¥é“å“ªä¸ªå‰å®³å“ªä¸ªæ°´ã€‚å¤§å®¶å¯ä»¥è¯•è¯•å¯¹ä¸€ä¸ªè‡ªå·±ä¸ç†è§£çš„æŠ€æœ¯é—®é¢˜å°è¯•è§£é‡Šä¼šæ€æ ·ï¼Ÿä½ ä¸€è¿Ÿç–‘ï¼Œé¢è¯•å®˜å°±ä¼šåé—®ä½ ï¼Œæœ€ååªæœ‰ä¸€ä¸ªå­—å´©ï¼è€Œä¸”é‚£äº›é¢ç»æä¾›çš„ç­”æ¡ˆå¾€å¾€æ˜¯ç¬¦åˆä½œè€…çš„æ€è€ƒæ€è·¯ï¼Œä¸ä¸€å®šå¯¹ä½ é€‚ç”¨ã€‚æ‰€ä»¥æˆ‘å¯¹é¢ç»çš„æ€åº¦æ˜¯ç±»ä¼¼äºè€ƒçº²ï¼Œè‡³äºè€ƒçº²å’Œé¢˜åº“çš„åŒºåˆ«ç•™ç»™è¯»è€…æ€è€ƒå§ã€‚</p>
<p>ç„¶åæˆ‘é¢è¯•å‡†å¤‡è¿‡ç¨‹ä¸­å‚è€ƒçš„å¥½çš„â€˜è€ƒçº²â€™</p>
<ol>
<li><a href="http://www.jianshu.com/p/f661953ba032" target="_blank" rel="external">[å¹²è´§ï¼Œé˜…åè¿›BATä¸æ˜¯æ¢¦] é¢è¯•å¿ƒå¾—ä¸æ€»ç»“â€”BATã€ç½‘æ˜“ã€è˜‘è‡è¡—</a></li>
<li>è‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿï¼Œå‰é¢ä¸€ç¯‡æ˜¯æˆ‘è®¤ä¸ºçš„å¥½é¢ç»ï¼Œå¯ä»¥ä½œä¸ºæŸ¥æ‰¾å‚è€ƒã€‚</li>
</ol>
<h2 id="3-æœ€å"><a href="#3-æœ€å" class="headerlink" title="3. æœ€å"></a>3. æœ€å</h2><p>å¦‚æœä½ è§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©å°±ç‚¹ä¸‹èµå§ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æ›´å¤šçš„äººã€‚è¿™æ˜¯æˆ‘ç¬¬ä¸€ç¯‡æ±‚èµçš„æ–‡ç« ï¼Œå› ä¸ºç¡®å®æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘çš„æƒ³æ³•ã€‚è°¢è°¢ã€‚</p>
<p>å†å¦‚æœä½ æœ‰ç›¸åŒæˆ–è€…ä¸åŒçš„æ„è§ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€å¤§å®¶äº’ç›¸è®¨è®ºå‘€~</p>
<p>ç„¶åå›½é™…æƒ¯ä¾‹ï¼š<a href="http://fitzeng.org/">GitHub </a> &amp;&amp; <a href="https://github.com/mk43" target="_blank" rel="external"> Blog</a> æ¬¢è¿æ¥è§‚å…‰ ^_^</p>
<p>å¤šè°¢é˜…è¯»ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0-å‰è¨€&quot;&gt;&lt;a href=&quot;#0-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0. å‰è¨€&quot;&gt;&lt;/a&gt;0. å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æˆ‘çš„æ±‚èŒç”Ÿæ´»æ˜¯ä»ä»Šå¹´çš„ 04-16 æ‰¾å®ä¹ å¼€å§‹åˆ° 09-22 æ‹¿åˆ°ä¼˜æ‹›(ç§‹æ‹›) Offerç»“æŸï¼Œä¸­é—´å…±ç»å†è¿‡äº†ä¸‰å®¶å…¬å¸é¢è¯•ï¼Œé¢è¯•ç»éªŒä¸è¶³ï¼Œè€Œä¸”æœ€è¿‘çš„é¢è¯•å·²è·ç°åœ¨ä¸¤ä¸ªå¤šæœˆäº†ï¼Œç»†èŠ‚è®°ä¸æ¸…äº†ï¼Œæ‰€ä»¥è¿™ä¸å¤ªç®—æ˜¯é¢ç»ï¼Œåªæ˜¯æˆ‘ä¸ªäººå¯¹æˆ‘è‡ªå·±æ‰¾å·¥ä½œè¿™å°åŠå¹´çš„æ€»ç»“ä»¥åŠæˆ‘å¯¹æ‰¾å·¥ä½œè¿™ä»¶äº‹çš„è®¤è¯†ã€‚é¦–å…ˆè¯´æ˜æˆ‘ä¸æ˜¯å¤§ç¥ï¼Œåªèƒ½ä»å¹³é™å™è¿°æ•´ä¸ªæ‰¾å·¥ä½œçš„è¿‡ç¨‹ï¼Œå¸Œæœ›ä½ èƒ½ä»ä¸­ä½“ä¼šåˆ°ä¸€ç‚¹ä»€ä¹ˆå°±å¾ˆæ»¡æ„äº†ï¼Œåœ¨æ­¤å…ˆç¥å¤§å®¶æ‰¾å·¥ä½œé¡ºåˆ©ï¼&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Life" scheme="http://fitzeng.org/tags/Life/"/>
    
      <category term="Job" scheme="http://fitzeng.org/tags/Job/"/>
    
  </entry>
  
  <entry>
    <title>é‡è¯† Android</title>
    <link href="http://fitzeng.org/2017/09/19/reAndroid/"/>
    <id>http://fitzeng.org/2017/09/19/reAndroid/</id>
    <published>2017-09-19T03:27:00.000Z</published>
    <updated>2017-09-19T11:41:51.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>Android åŸºç¡€çŸ¥è¯†æ•´ç†ã€‚</p>
</blockquote>
<a id="more"></a>
<h3 id="1-Activity"><a href="#1-Activity" class="headerlink" title="1. Activity"></a>1. Activity</h3><h4 id="1-1-Activity-ç”Ÿå‘½å‘¨æœŸ"><a href="#1-1-Activity-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.1 Activity ç”Ÿå‘½å‘¨æœŸ"></a>1.1 Activity ç”Ÿå‘½å‘¨æœŸ</h4><p>çŠ¶æ€ï¼š<code>running</code> <code>paused</code> <code>stopped</code> <code>killed</code></p>
<p>å¯åŠ¨ï¼šonCreate() -&gt; onStart() -&gt; onResume()</p>
<p>ç‚¹å‡» Home ï¼š-&gt; onPause() -&gt; onStop()</p>
<p>é‡ç°ï¼š-&gt; onRestart() -&gt; onStart() -&gt; onResume()</p>
<p>é€€å‡ºï¼š-&gt; onPause() -&gt; onStop() -&gt; onDestory()</p>
<p>è¿›ç¨‹ä¼˜å…ˆçº§ï¼š<code>å‰å°</code>(å¯äº¤äº’) <code>å¯è§</code>(å¤±å»ç„¦ç‚¹) <code>æœåŠ¡</code> <code>åå°</code>(ä¸å¯è§) <code>ç©º</code>(ç¼“å­˜ç”¨)</p>
<h4 id="1-2-Activity-ä»»åŠ¡æ ˆ"><a href="#1-2-Activity-ä»»åŠ¡æ ˆ" class="headerlink" title="1.2 Activity ä»»åŠ¡æ ˆ"></a>1.2 Activity ä»»åŠ¡æ ˆ</h4><p>standardï¼šæ ‡å‡†æ¨¡å¼(æ¯æ¬¡éƒ½åˆ›å»º)</p>
<p>singleTopï¼šæ ˆé¡¶å¤ç”¨æ¨¡å¼(æ ˆé¡¶æ£€æµ‹)</p>
<p>singleTaskï¼šæ ˆå†…å¤ç”¨æ¨¡å¼(æ ˆå†…æ£€æµ‹)</p>
<p>singleInstanceï¼šå•å®ä¾‹æ¨¡å¼(ç‹¬ç«‹çš„ä»»åŠ¡æ ˆ)</p>
<h4 id="1-3-Activity-å¯åŠ¨æ¨¡å¼"><a href="#1-3-Activity-å¯åŠ¨æ¨¡å¼" class="headerlink" title="1.3 Activity å¯åŠ¨æ¨¡å¼"></a>1.3 Activity å¯åŠ¨æ¨¡å¼</h4><h4 id="1-4-Scheme-è·³è½¬åè®®"><a href="#1-4-Scheme-è·³è½¬åè®®" class="headerlink" title="1.4 Scheme è·³è½¬åè®®"></a>1.4 Scheme è·³è½¬åè®®</h4><h4 id="1-5-å‚è€ƒ"><a href="#1-5-å‚è€ƒ" class="headerlink" title="1.5 å‚è€ƒ"></a>1.5 å‚è€ƒ</h4><h3 id="2-Fragment"><a href="#2-Fragment" class="headerlink" title="2. Fragment"></a>2. Fragment</h3><h4 id="2-1-ç”Ÿå‘½å‘¨æœŸ"><a href="#2-1-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.1 ç”Ÿå‘½å‘¨æœŸ"></a>2.1 ç”Ÿå‘½å‘¨æœŸ</h4><p>Create: å‡†å¤‡è§†å›¾</p>
<p><code>onAttach</code>: Fragment ä¸ Activity å…³è”</p>
<p><code>onCreate</code>: åˆ›å»º Fragment å¯¹è±¡</p>
<p><code>onCreateView</code>: åˆ›å»ºè§†å›¾</p>
<p><code>onActivityCreated</code>: Activity å¯¹è±¡åˆ›å»ºå®Œæˆ</p>
<p>Start: åŠ è½½è§†å›¾</p>
<p><code>onStart</code>: Fragment å¯è§</p>
<p>Resume: è·å–ç„¦ç‚¹</p>
<p><code>onResume</code>: Fragment å¯äº¤äº’ </p>
<p>Pause å¤±å»ç„¦ç‚¹</p>
<p><code>onPause</code>: Fragment å¤±å»ç„¦ç‚¹</p>
<p>Stop è§†å›¾ä¸å¯è§</p>
<p><code>onStop</code>: Fragment ä¸å¯è§</p>
<p>Destory é”€æ¯å¯¹è±¡</p>
<p><code>onDestoryView</code>: Fragment è§†å›¾é”€æ¯</p>
<p><code>onDestory</code>: å¯¹è±¡é”€æ¯</p>
<p><code>onDetach</code>: è§£ç»‘ Fragment å¹¶é”€æ¯å¯¹è±¡</p>
<blockquote>
<p>ä»¥ä¸Šä¸ºä¸ªäººç†è§£ï¼Œä¸æ˜¯å®Œæ•´çš„è§†å›¾åŠ è½½è¿‡ç¨‹ï¼Œåªæ˜¯å±äºä¸€ä¸ªç†è§£åˆ†æçš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<h4 id="2-2-Fragment-æ·»åŠ åˆ°-Activity-ä¸­"><a href="#2-2-Fragment-æ·»åŠ åˆ°-Activity-ä¸­" class="headerlink" title="2.2 Fragment æ·»åŠ åˆ° Activity ä¸­"></a>2.2 Fragment æ·»åŠ åˆ° Activity ä¸­</h4><p>é™æ€åŠ è½½ï¼šXML</p>
<p>åŠ¨æ€åŠ è½½ï¼š FragmentManager</p>
<ul>
<li><p>FragmentPagerAdapter(detach)</p>
<blockquote>
<p>é€‚ç”¨äºé¡µé¢è¾ƒå°‘çš„æƒ…å†µï¼Œä¸é”€æ¯ Fragment åªä¸ Activity è„±ç¦»ã€‚</p>
</blockquote>
</li>
<li><p>FragmentStatePagerAdapter(remove)</p>
<blockquote>
<p>é€‚ç”¨äºé¡µé¢è¾ƒå¤šçš„æƒ…å†µï¼Œç›´æ¥ç§»é™¤ Fragmentã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="2-3-Fragment-é€šä¿¡"><a href="#2-3-Fragment-é€šä¿¡" class="headerlink" title="2.3 Fragment é€šä¿¡"></a>2.3 Fragment é€šä¿¡</h4><ol>
<li>Fragment ä¸­è°ƒç”¨ Activity : è°ƒç”¨ getActivity()</li>
<li>Activity ä¸­è°ƒç”¨ Fragment : Fragment å›è°ƒå‡½æ•°</li>
<li>Fragment ä¸­è°ƒç”¨ Fragment : findFragmentById()</li>
</ol>
<h4 id="2-4-å…¸å‹æ–¹æ³•"><a href="#2-4-å…¸å‹æ–¹æ³•" class="headerlink" title="2.4 å…¸å‹æ–¹æ³•"></a>2.4 å…¸å‹æ–¹æ³•</h4><p><code>replace</code>: æ›¿æ¢ Fragment å®ä¾‹ </p>
<p><code>add</code>: æ·»åŠ  Fragment å®ä¾‹ </p>
<p><code>remove</code>: ç§»é™¤ Fragment å®ä¾‹</p>
<h4 id="2-5å‚è€ƒ"><a href="#2-5å‚è€ƒ" class="headerlink" title="2.5å‚è€ƒ"></a>2.5å‚è€ƒ</h4><ol>
<li><a href="http://blog.csdn.net/android_tutor/article/details/5772285" target="_blank" rel="external">Android_Tutor : ä¸¤åˆ†é’Ÿå½»åº•è®©ä½ æ˜ç™½Android Activityç”Ÿå‘½å‘¨æœŸ(å›¾æ–‡)!</a></li>
</ol>
<h3 id="3-Service"><a href="#3-Service" class="headerlink" title="3. Service"></a>3. Service</h3><h4 id="3-1-Service-å’Œ-Thread"><a href="#3-1-Service-å’Œ-Thread" class="headerlink" title="3.1 Service å’Œ Thread"></a>3.1 Service å’Œ Thread</h4><p>Service: ä¾æ‰˜äºæ‰€åœ¨çš„çº¿ç¨‹å¹¶ä¸”åœ¨åå°è¿è¡Œï¼Œä¸å¯åšè€—æ—¶æ“ä½œï¼Œå¦åˆ™ä¼š ANRã€‚<br>Thread: ä¸»è¦æ˜¯å‡ºå¤„ç†è€—æ—¶æ“ä½œã€‚</p>
<h3 id="4-BroadCast-Receiver"><a href="#4-BroadCast-Receiver" class="headerlink" title="4. BroadCast Receiver"></a>4. BroadCast Receiver</h3>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Android åŸºç¡€çŸ¥è¯†æ•´ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://fitzeng.org/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Handler æœºåˆ¶å†äº†è§£</title>
    <link href="http://fitzeng.org/2017/09/11/handler/"/>
    <id>http://fitzeng.org/2017/09/11/handler/</id>
    <published>2017-09-11T03:27:00.000Z</published>
    <updated>2017-09-12T01:32:21.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è¿™é‡Œä¸»è¦æ˜¯å…ˆäº†è§£æ•´ä¸ªæ¶ˆæ¯ä¼ é€’çš„è¿‡ç¨‹ï¼ŒçŸ¥é“è¿™æ ·åšçš„å¥½å¤„å’Œå¿…è¦æ€§ã€‚è€Œä¸æ˜¯ç›´æ¥ä»‹ç»é‡Œé¢çš„å‡ ä¸ªå…³é”®ç±»ï¼Œç„¶åä»‹ç»è¿™ä¸ªæœºåˆ¶ï¼Œè¿™æ ·å®¹æ˜“å¤´æ™•ã€‚è€Œä¸”ç½‘ç»œä¸Šå·²ç»æœ‰å¾ˆå¤šè¿™æ ·çš„æ–‡ç« äº†ï¼Œé‚£äº›ä½œè€…æ‰€ç«™çš„é«˜åº¦å¯¹äºæˆ‘è¿™ç§åˆå­¦è€…æ¥è¯´æœ‰ç‚¹é«˜ï¼Œæˆ‘ç†è§£èµ·æ¥æ˜¯æ¯”è¾ƒç¨€é‡Œç³Šæ¶‚çš„ï¼Œæ‰€ä»¥è¿™é‡Œä»ä¸€ä¸ªé—®é¢˜å‡ºå‘ï¼Œä¸€æ­¥ä¸€æ­¥è·Ÿè¸ªä»£ç ï¼Œè¿™é‡Œåªæ˜¯ææ¸…æ¥š handler æ˜¯æ€ä¹ˆè·¨çº¿ç¨‹æ”¶å‘æ¶ˆæ¯çš„ï¼Œå…·ä½“å®ç°ç»†èŠ‚è¿˜æ˜¯å‚è€ƒç½‘ä¸Šçš„é‚£äº›å¤§ç¥çš„ Blog æ¯”è¾ƒæƒå¨ã€‚<br>PS. æœ¬æ¥æ˜¯æƒ³åˆ†ç« èŠ‚ä¹¦å†™ï¼Œè°çŸ¥é“è¿™ä¸€å¥—å†›ä½“æ‹³æ‰“ä¸‹æ¥æ”¶ä¸ä½äº†ï¼Œæ‰€ä»¥ä¸‹é¢åŸºæœ¬æ˜¯ä»¥ä¸€ç§å¾ˆæµç•…çš„è¿‡ç¨‹è§£é‡Šè€Œä¸æ˜¯å¾ˆè·³è·ƒï¼Œç»†å¿ƒçœ‹åº”è¯¥ä¼šå¯¹ç†è§£ Handler æœºåˆ¶æœ‰æ‰€æ”¶è·ã€‚</p>
</blockquote>
<a id="more"></a>
<p>Q1: å‡å¦‚æœ‰ä¸€ä¸ªè€—æ—¶çš„æ•°æ®å¤„ç†ï¼Œè€Œä¸”æ•°æ®å¤„ç†çš„ç»“æœæ˜¯å¯¹ UI æ›´æ–°å½±å“çš„ï¼Œè€Œ Android ä¸­ UI æ›´æ–°ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥è§„å®šåªèƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ›´æ–°ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">ä¸»çº¿ç¨‹ç‰ˆæœ¬ï¼š</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"MainActivity"</span>;</div><div class="line">    <span class="keyword">private</span> Button btnTest;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.layout_test);</div><div class="line"></div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">        btnTest = (Button) findViewById(R.id.btn_test);</div><div class="line">        btnTest.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line"></div><div class="line">                <span class="comment">// å‡è£…æ•°æ®å¤„ç†</span></div><div class="line">                <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">                    <span class="keyword">try</span> &#123;</div><div class="line">                        Thread.sleep(<span class="number">1000</span>);</div><div class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">                        e.printStackTrace();</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="comment">// å‡è£…æ›´æ–° UI</span></div><div class="line">                Log.d(TAG, <span class="string">"Handle itï¼"</span> + i);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç›´æ¥åœ¨ä¸»çº¿ç¨‹ä¸­å¤„ç†æ•°æ®ï¼Œæ¥ç€ç›´æ¥æ ¹æ®å¤„ç†ç»“æœæ›´æ–° UIã€‚æˆ‘æƒ³å¼Šç«¯å¤§å®¶éƒ½çœ‹åˆ°äº†ï¼Œå°åˆ™ UI å¡é¡¿ï¼Œå¤§åˆ™é€ æˆ <a href="http://fitzeng.org/2017/04/07/RecurrentANR/">ANR</a>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">å­çº¿ç¨‹ç‰ˆæœ¬ï¼š</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"MainActivity"</span>;</div><div class="line">    <span class="keyword">private</span> Button btnTest;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.layout_test);</div><div class="line"></div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">        btnTest = (Button) findViewById(R.id.btn_test);</div><div class="line">        btnTest.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">                <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">                    <span class="meta">@Override</span></div><div class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">                        <span class="comment">// å‡è£…æ•°æ®å¤„ç†</span></div><div class="line">                        <span class="keyword">int</span> i;</div><div class="line">                        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">                            <span class="keyword">try</span> &#123;</div><div class="line">                                Thread.sleep(<span class="number">1000</span>);</div><div class="line">                            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">                                e.printStackTrace();</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                        <span class="comment">// è¿”å›å¤„ç†ç»“æœ</span></div><div class="line">                        handler.sendEmptyMessage(i);</div><div class="line">                    &#125;</div><div class="line">                &#125;).start();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Handler handler = <span class="keyword">new</span> Handler() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</div><div class="line">            <span class="comment">// å‡è£…æ›´æ–° UI</span></div><div class="line">            Log.d(TAG, <span class="string">"Handle MSG = "</span> + msg.what);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ç§å…¸å‹çš„å¤„ç†æ–¹å¼ï¼Œå¼€ä¸€ä¸ªå­çº¿ç¨‹å¤„ç†æ•°æ®ï¼Œé€šè¿‡ Android ä¸­æä¾›çš„ Handler æœºåˆ¶è¿›è¡Œè·¨çº¿ç¨‹é€šè®¯ï¼ŒæŠŠå¤„ç†ç»“æœè¿”å›ç»™ä¸»çº¿ç¨‹ï¼Œè¿›è€Œæ›´æ–° UIã€‚è¿™é‡Œæˆ‘ä»¬å°±æ˜¯æ¢è®¨ Handler æ˜¯å¦‚ä½•æŠŠæ•°æ®å‘é€è¿‡å»çš„ã€‚</p>
<p><img src="/2017/09/11/handler/subThread.png" alt=""></p>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬äº†è§£åˆ°çš„å°±æ˜¯ä¸€ä¸ª Handler çš„é»‘ç›’æœºåˆ¶ï¼Œå­çº¿ç¨‹å‘é€ï¼Œä¸»çº¿ç¨‹æ¥æ”¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ä»‹ç»ä»€ä¹ˆ <code>ThreadLocal</code>ã€<code>Looper</code> å’Œ <code>MessageQueue</code>ã€‚è€Œæ˜¯ç›´æ¥ä»ä¸Šé¢çš„ä»£ç å¼•å‡ºå®ƒä»¬çš„å­˜åœ¨ï¼Œä»åŸç†äº†è§£å®ƒä»¬å­˜åœ¨çš„å¿…è¦æ€§ï¼Œç„¶ååœ¨è°ˆå®ƒä»¬å†…éƒ¨å­˜åœ¨çš„ç»†èŠ‚ã€‚</p>
<p>ä¸€åˆ‡ç½ªæ¶æºäº <code>handler.sendEmptyMessage();</code>ï¼Œæœ€ç»ˆæ‰¾åˆ°ä»¥ä¸‹å‡½æ•° <code>sendMessageAtTime(Message msg, long uptimeMillis)</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">Handler.class</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Enqueue a message into the message queue after all pending messages</div><div class="line"> * before the absolute time (in milliseconds) &lt;var&gt;uptimeMillis&lt;/var&gt;.</div><div class="line"> * &lt;b&gt;The time-base is &#123;<span class="doctag">@link</span> android.os.SystemClock#uptimeMillis&#125;.&lt;/b&gt;</div><div class="line"> * Time spent in deep sleep will add an additional delay to execution.</div><div class="line"> * You will receive it in &#123;<span class="doctag">@link</span> #handleMessage&#125;, in the thread attached</div><div class="line"> * to this handler.</div><div class="line"> * </div><div class="line"> * <span class="doctag">@param</span> uptimeMillis The absolute time at which the message should be</div><div class="line"> *         delivered, using the</div><div class="line"> *         &#123;<span class="doctag">@link</span> android.os.SystemClock#uptimeMillis&#125; time-base.</div><div class="line"> *         </div><div class="line"> * <span class="doctag">@return</span> Returns true if the message was successfully placed in to the </div><div class="line"> *         message queue.  Returns false on failure, usually because the</div><div class="line"> *         looper processing the message queue is exiting.  Note that a</div><div class="line"> *         result of true does not mean the message will be processed -- if</div><div class="line"> *         the looper is quit before the delivery time of the message</div><div class="line"> *         occurs then the message will be dropped.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">sendMessageAtTime</span><span class="params">(Message msg, <span class="keyword">long</span> uptimeMillis)</span> </span>&#123;</div><div class="line">    MessageQueue queue = mQueue;</div><div class="line">    <span class="keyword">if</span> (queue == <span class="keyword">null</span>) &#123;</div><div class="line">        RuntimeException e = <span class="keyword">new</span> RuntimeException(</div><div class="line">                <span class="keyword">this</span> + <span class="string">" sendMessageAtTime() called with no mQueue"</span>);</div><div class="line">        Log.w(<span class="string">"Looper"</span>, e.getMessage(), e);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> enqueueMessage(queue, msg, uptimeMillis);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>MessageQueue</code> å‡ºæ¥äº†ï¼Œæˆ‘ä»¬é¿å…ä¸äº†äº†ã€‚é‡Œé¢ä¸»è¦æ˜¯ <code>Message next()</code> å’Œ <code>enqueueMessage(Message msg, long when)</code> æ–¹æ³•å€¼å¾—ç ”ç©¶ï¼Œä½†æ˜¯ç°åœ¨è¿˜ä¸æ˜¯æ—¶å€™ã€‚</p>
<p>ä» <code>MessageQueue queue = mQueue;</code> ä¸­å¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„ <code>handler</code> å¯¹è±¡é‡Œé¢åŒ…å«ä¸€ä¸ª mQueue å¯¹è±¡ã€‚è‡³äºé‡Œé¢å­˜çš„ä»€ä¹ˆæ€ä¹ˆåˆå§‹åŒ–çš„ç°åœ¨ä¹Ÿä¸ç”¨å¤ªå…³å¿ƒã€‚å¤§æ¦‚æœ‰ä¸ªæ¦‚å¿µå°±æ˜¯è¿™æ˜¯ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå­˜çš„æ˜¯æ¶ˆæ¯å°±è¡Œï¼Œå…·ä½“å®ç°ç»†èŠ‚åé¢ä¼šæ…¢æ…¢æ°´è½çŸ³å‡ºã€‚<br>åé¢çš„ä»£ç å°±æ˜¯è¯´å¦‚æœ queue ä¸ºç©ºåˆ™æ‰“å° log è¿”å› falseï¼›å¦åˆ™æ‰§è¡Œ <code>enqueueMessage(queue, msg, uptimeMillis);</code> å…¥é˜Ÿã€‚é‚£å°±å¥½ç†è§£äº†ï¼Œhandler å‘é€ä¿¡æ¯å…¶å®æ˜¯ç›´æ¥æŠŠä¿¡æ¯å°è£…è¿›ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Handler.class</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">enqueueMessage</span><span class="params">(MessageQueue queue, Message msg, <span class="keyword">long</span> uptimeMillis)</span> </span>&#123;</div><div class="line">    msg.target = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">if</span> (mAsynchronous) &#123;</div><div class="line">        msg.setAsynchronous(<span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> queue.enqueueMessage(msg, uptimeMillis);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ¶‰åŠ Messageï¼Œå…ˆè¯´ä¸‹è¿™ä¸ªç±»çš„ä¸‰ä¸ªæˆå‘˜å˜é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*package*/</span> Handler target;</div><div class="line">    </div><div class="line"><span class="comment">/*package*/</span> Runnable callback;</div><div class="line">    </div><div class="line"><span class="comment">/*package*/</span> Message next;</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥ <code>msg.target = this;</code> æŠŠå½“å‰ handler ä¼ ç»™äº† msgã€‚</p>
<p>ä¸­é—´çš„ if ä»£ç å…ˆå¿½ç•¥ï¼Œå…ˆèµ°ä¸»çº¿ï¼šæ‰§è¡Œäº† <code>MessageQueue</code> çš„ <code>enqueueMessage(msg, uptimeMillis);</code>æ–¹æ³•ã€‚æ¥ç€çœ‹æºç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">MessageQueue.class</div><div class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">enqueueMessage</span><span class="params">(Message msg, <span class="keyword">long</span> when)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (msg.target == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Message must have a target."</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (msg.isInUse()) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(msg + <span class="string">" This message is already in use."</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (mQuitting) &#123;</div><div class="line">            IllegalStateException e = <span class="keyword">new</span> IllegalStateException(</div><div class="line">                    msg.target + <span class="string">" sending message to a Handler on a dead thread"</span>);</div><div class="line">            Log.w(TAG, e.getMessage(), e);</div><div class="line">            msg.recycle();</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        msg.markInUse();</div><div class="line">        msg.when = when;</div><div class="line">        Message p = mMessages;</div><div class="line">        <span class="keyword">boolean</span> needWake;</div><div class="line">        <span class="keyword">if</span> (p == <span class="keyword">null</span> || when == <span class="number">0</span> || when &lt; p.when) &#123;</div><div class="line">            <span class="comment">// New head, wake up the event queue if blocked.</span></div><div class="line">            msg.next = p;</div><div class="line">            mMessages = msg;</div><div class="line">            needWake = mBlocked;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// Inserted within the middle of the queue.  Usually we don't have to wake</span></div><div class="line">            <span class="comment">// up the event queue unless there is a barrier at the head of the queue</span></div><div class="line">            <span class="comment">// and the message is the earliest asynchronous message in the queue.</span></div><div class="line">            needWake = mBlocked &amp;&amp; p.target == <span class="keyword">null</span> &amp;&amp; msg.isAsynchronous();</div><div class="line">            Message prev;</div><div class="line">            <span class="keyword">for</span> (;;) &#123;</div><div class="line">                prev = p;</div><div class="line">                p = p.next;</div><div class="line">                <span class="keyword">if</span> (p == <span class="keyword">null</span> || when &lt; p.when) &#123;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (needWake &amp;&amp; p.isAsynchronous()) &#123;</div><div class="line">                    needWake = <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            msg.next = p; <span class="comment">// invariant: p == prev.next</span></div><div class="line">            prev.next = msg;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// We can assume mPtr != 0 because mQuitting is false.</span></div><div class="line">        <span class="keyword">if</span> (needWake) &#123;</div><div class="line">            nativeWake(mPtr);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»£ç æœ‰ç‚¹é•¿ï¼Œä¸å½±å“ä¸»çº¿çš„å°ç»†èŠ‚å°±ä¸ä»‹ç»äº†ï¼Œé‚£äº›ä¹Ÿå¾ˆå®¹æ˜“çœ‹æ‡‚çš„ï¼Œä½†æ˜¯åŸç†è¿˜æ˜¯å€¼å¾—åˆ†æã€‚<br><code>if (mQuitting)...</code>ï¼Œç›´æ¥çœ‹çœ‹æºç åˆå§‹åŒ–èµ‹å€¼çš„å‡½æ•°æ˜¯åœ¨ <code>void quit(boolean safe)</code> å‡½æ•°é‡Œé¢ï¼Œè¿™é‡ŒçŒœæµ‹å¯èƒ½æ˜¯é€€å‡ºæ¶ˆæ¯è½®è®­ï¼Œæ¶ˆæ¯è½®è®­çš„é€€å‡ºæ–¹å¼ä¹Ÿæ˜¯å€¼å¾—æ·±ç©¶ï¼Œä¸è¿‡è¿™é‡Œä¸å½±å“ä¸»çº¿å°±ä¸çœ‹äº†ã€‚ <code>msg.markInUse(); msg.when = when;</code> æ ‡è®°æ¶ˆæ¯åœ¨ç”¨è€Œä¸”ç»§ç»­å¡«å……  msgï¼Œä¸‹é¢å°±æ˜¯çœ‹æ³¨é‡Šäº†ã€‚æˆ‘ä»¬å‰é¢ä»‹ç»çš„ Message æˆå‘˜å˜é‡ next å°±èµ·ä½œç”¨äº†ï¼ŒæŠŠ msg é“¾åœ¨ä¸€èµ·äº†ã€‚æ‰€ä»¥è¿™é‡Œçš„æ ¸å¿ƒå°±æ˜¯æŠŠ msg ä»¥ä¸€ç§é“¾è¡¨å½¢å¼æ’è¿›å»ã€‚ä¼¼ä¹è¿™ä¸€æ³¢åˆ†æç»“æŸäº†ï¼Œåœ¨è¿™é‡Œåˆ’å¼ å›¾æ€»ç»“ä¸‹ï¼š<br><img src="/2017/09/11/handler/sendMsg.png" alt=""><br>æ¨èè‡ªå·±æ ¹æ®æ‰€è§‚å¯Ÿåˆ°çš„å˜é‡èµ‹å€¼è¿›è¡Œç»˜åˆ¶å›¾ç”»ï¼Œè¿™æ ·å°è±¡æ›´åŠ æ·±åˆ»ã€‚</p>
<p>OKï¼Œæ¶ˆæ¯æ˜¯å­˜è¿›å»äº†ï¼Œè€Œä¸”ä¹Ÿæ˜¯åœ¨ handler æ‰€åœ¨çš„çº¿ç¨‹ä¸­ã€‚é‚£ä¹ˆåˆ°åº•æ€ä¹ˆå–å‡ºä¿¡æ¯å‘¢ï¼Ÿä¹Ÿå°±æ˜¯å‰é¢å°ä¾‹å­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Handler handler = <span class="keyword">new</span> Handler() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</div><div class="line">        <span class="comment">// å‡è£…æ›´æ–° UI</span></div><div class="line">        Log.d(TAG, <span class="string">"Handle MSG = "</span> + msg.what);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><code>handleMessage()</code> ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿè¿™é‡ŒåŸºæœ¬æ–­äº†çº¿ç´¢ã€‚ä½†æ˜¯å¦‚æœä½ ä¹‹å‰å“ªæ€•çœ‹è¿‡ç±»ä¼¼çš„ä¸€ç¯‡æ–‡ç« åº”è¯¥éƒ½çŸ¥é“å…¶å®åœ¨ Android å¯åŠ¨æ—¶ main å‡½æ•°å°±åšäº†ä¸€äº›æ“ä½œã€‚è¿™äº›æ“ä½œæ˜¯å¿…è¦çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥åœ¨å­çº¿ç¨‹ä¸­ <code>new Handler();</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, <span class="string">"ActivityThreadMain"</span>);</div><div class="line">	SamplingProfilerIntegration.start();</div><div class="line">	</div><div class="line">	<span class="comment">// CloseGuard defaults to true and can be quite spammy.  We</span></div><div class="line">	<span class="comment">// disable it here, but selectively enable it later (via</span></div><div class="line">	<span class="comment">// StrictMode) on debug builds, but using DropBox, not logs.</span></div><div class="line">	CloseGuard.setEnabled(<span class="keyword">false</span>);</div><div class="line">	</div><div class="line">	Environment.initForCurrentUser();</div><div class="line">	</div><div class="line">	<span class="comment">// Set the reporter for event logging in libcore</span></div><div class="line">	EventLogger.setReporter(<span class="keyword">new</span> EventLoggingReporter());</div><div class="line">	</div><div class="line">	<span class="comment">// Make sure TrustedCertificateStore looks in the right place for CA certificates</span></div><div class="line">	<span class="keyword">final</span> File configDir = Environment.getUserConfigDirectory(UserHandle.myUserId());</div><div class="line">	TrustedCertificateStore.setDefaultUserDirectory(configDir);</div><div class="line">	</div><div class="line">	Process.setArgV0(<span class="string">"&lt;pre-initialized&gt;"</span>);</div><div class="line">	</div><div class="line">	Looper.prepareMainLooper(); <span class="comment">// -------1</span></div><div class="line">	</div><div class="line">	ActivityThread thread = <span class="keyword">new</span> ActivityThread();</div><div class="line">	thread.attach(<span class="keyword">false</span>);</div><div class="line">	</div><div class="line">	<span class="keyword">if</span> (sMainThreadHandler == <span class="keyword">null</span>) &#123;</div><div class="line">	    sMainThreadHandler = thread.getHandler(); <span class="comment">// -------2</span></div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">if</span> (<span class="keyword">false</span>) &#123;</div><div class="line">	    Looper.myLooper().setMessageLogging(<span class="keyword">new</span></div><div class="line">	            LogPrinter(Log.DEBUG, <span class="string">"ActivityThread"</span>));</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// End of event ActivityThreadMain.</span></div><div class="line">	Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);</div><div class="line">	Looper.loop(); <span class="comment">// -------3</span></div><div class="line">	</div><div class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Main thread loop unexpectedly exited"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºè¿™é‡Œåœ¨è·å– sMainThreadHandler ä¹‹å‰è¿›è¡Œäº† <code>Looper.prepareMainLooper();</code> æ“ä½œï¼Œä¹‹åè¿›è¡Œäº† <code>Looper.loop();</code> æ“ä½œã€‚</p>
<p>ä¸‹é¢å¼€å§‹åˆ†æï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">Loopr.class</div><div class="line"> <span class="comment">/** Initialize the current thread as a looper.</span></div><div class="line">  * This gives you a chance to create handlers that then reference</div><div class="line">  * this looper, before actually starting the loop. Be sure to call</div><div class="line">  * &#123;<span class="doctag">@link</span> #loop()&#125; after calling this method, and end it by calling</div><div class="line">  * &#123;<span class="doctag">@link</span> #quit()&#125;.</div><div class="line">  */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span> </span>&#123;</div><div class="line">    prepare(<span class="keyword">true</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">(<span class="keyword">boolean</span> quitAllowed)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (sThreadLocal.get() != <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Only one Looper may be created per thread"</span>);</div><div class="line">    &#125;</div><div class="line">    sThreadLocal.set(<span class="keyword">new</span> Looper(quitAllowed));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Initialize the current thread as a looper, marking it as an</div><div class="line"> * application's main looper. The main looper for your application</div><div class="line"> * is created by the Android environment, so you should never need</div><div class="line"> * to call this function yourself.  See also: &#123;<span class="doctag">@link</span> #prepare()&#125;</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">prepareMainLooper</span><span class="params">()</span> </span>&#123;</div><div class="line">    prepare(<span class="keyword">false</span>);</div><div class="line">    <span class="keyword">synchronized</span> (Looper.class) &#123;</div><div class="line">        <span class="keyword">if</span> (sMainLooper != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"The main Looper has already been prepared."</span>);</div><div class="line">        &#125;</div><div class="line">        sMainLooper = myLooper();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Return the Looper object associated with the current thread.  Returns</div><div class="line"> * null if the calling thread is not associated with a Looper.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="meta">@Nullable</span> <span class="function">Looper <span class="title">myLooper</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> sThreadLocal.get();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å‰ä¸¤ä¸ªæ–¹æ³•æ˜¯åœ¨è‡ªå·±åˆ›å»º Looper çš„æ—¶å€™ç”¨ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¸»çº¿ç¨‹è‡ªå·±ç”¨çš„ã€‚ç”±äºè¿™é‡Œæ¶ˆæ¯ä¼ é€’ä»¥ä¸»çº¿ç¨‹ä¸ºçº¿ç´¢ã€‚<code>prepare(false);</code>è¯´æ˜äº†è¿™æ˜¯ä¸»çº¿ç¨‹ï¼Œåœ¨ <code>sThreadLocal.set(new Looper(quitAllowed));</code> ä¸­çš„ <code>quitAllowed</code> ä¸º false åˆ™è¯´æ˜ä¸»çº¿ç¨‹çš„ MessageQueue è½®è®­ä¸èƒ½ quitã€‚è¿™å¥ä»£ç é‡Œè¿˜æœ‰ ThreadLocal çš„ set() æ–¹æ³•ã€‚å…ˆä¸æ·±ç©¶å®ç°ï¼Œå®¹æ˜“æ™•ï¼Œè¿™é‡Œéœ€è¦çŸ¥é“çš„å°±æ˜¯æŠŠä¸€ä¸ª Looper å¯¹è±¡â€œæ”¾è¿›â€äº† ThreadLocalï¼Œæ¢å¥è¯è¯´ï¼Œé€šè¿‡ ThreadLocal å¯ä»¥è·å–ä¸åŒçš„ Looperã€‚<br>æœ€åçš„ <code>sThreadLocal.get();</code> å±•ç¤ºäº† get æ–¹æ³•ã€‚è¯´æ˜åˆ°è¿™æ—¶ Looper å·²ç»å­˜åœ¨å•¦ã€‚<br>ç°åœ¨çœ‹çœ‹ Looper ç±»çš„æˆå‘˜å˜é‡å§ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Looper.class</div><div class="line"><span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;Looper&gt; sThreadLocal = <span class="keyword">new</span> ThreadLocal&lt;Looper&gt;();</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> Looper sMainLooper;  <span class="comment">// guarded by Looper.class</span></div><div class="line"></div><div class="line"><span class="keyword">final</span> MessageQueue mQueue;</div><div class="line"><span class="keyword">final</span> Thread mThread;</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œå…ˆä»‹ç»ä¸€ä¸‹ ThreadLocal çš„ä¸Šå¸è§†è§’å§ã€‚ç›´æ¥æºç ï¼Œå¯ä»¥çŒœæµ‹è¿™æ˜¯é€šè¿‡ä¸€ä¸ª <code>ThreadLocalMap</code> çš„å†…éƒ¨ç±»å¯¹çº¿ç¨‹è¿›è¡Œä¸€ç§ mapã€‚ä¼ è¿›æ¥çš„æ³›å‹ T æ­£æ˜¯æˆ‘ä»¬çš„ looperã€‚æ‰€ä»¥ ThreadLocal å¯ä»¥æ ¹æ®å½“å‰çº¿ç¨‹æŸ¥æ‰¾è¯¥çº¿ç¨‹çš„ Looperï¼Œå…·ä½“æ€ä¹ˆæŸ¥æ‰¾æ¨èçœ‹æºç ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * Returns the value in the current thread's copy of this</div><div class="line"> * thread-local variable.  If the variable has no value for the</div><div class="line"> * current thread, it is first initialized to the value returned</div><div class="line"> * by an invocation of the &#123;@link #initialValue&#125; method.</div><div class="line"> *</div><div class="line"> * @return the current thread's value of this thread-local</div><div class="line"> */</div><div class="line">public T get() &#123;</div><div class="line">    Thread t = Thread.currentThread();</div><div class="line">    ThreadLocalMap map = getMap(t);</div><div class="line">    if (map != null) &#123;</div><div class="line">        ThreadLocalMap.Entry e = map.getEntry(this);</div><div class="line">        if (e != null)</div><div class="line">            return (T)e.value;</div><div class="line">    &#125;</div><div class="line">    return setInitialValue();</div><div class="line">&#125;</div><div class="line"></div><div class="line"> * Sets the current thread's copy of this thread-local variable</div><div class="line"> * to the specified value.  Most subclasses will have no need to</div><div class="line"> * override this method, relying solely on the &#123;@link #initialValue&#125;</div><div class="line"> * method to set the values of thread-locals.</div><div class="line"> *</div><div class="line"> * @param value the value to be stored in the current thread's copy of</div><div class="line"> *        this thread-local.</div><div class="line"> */</div><div class="line">public void set(T value) &#123;</div><div class="line">    Thread t = Thread.currentThread();</div><div class="line">    ThreadLocalMap map = getMap(t);</div><div class="line">    if (map != null)</div><div class="line">        map.set(this, value);</div><div class="line">    else</div><div class="line">        createMap(t, value);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>åˆ†æåˆ°è¿™é‡Œï¼Œhandler å’Œ looper éƒ½æœ‰äº†ï¼Œä½†æ˜¯æ¶ˆæ¯è¿˜æ˜¯æ²¡æœ‰å–å‡ºæ¥ï¼Ÿ<br>è¿™æ˜¯çœ‹ç¬¬ä¸‰å¥ <code>Looper.loop();</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">Looper.class</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Run the message queue in this thread. Be sure to call</div><div class="line"> * &#123;<span class="doctag">@link</span> #quit()&#125; to end the loop.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">final</span> Looper me = myLooper();</div><div class="line">    <span class="keyword">if</span> (me == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"No Looper; Looper.prepare() wasn't called on this thread."</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">final</span> MessageQueue queue = me.mQueue;</div><div class="line"></div><div class="line">    <span class="comment">// Make sure the identity of this thread is that of the local process,</span></div><div class="line">    <span class="comment">// and keep track of what that identity token actually is.</span></div><div class="line">    Binder.clearCallingIdentity();</div><div class="line">    <span class="keyword">final</span> <span class="keyword">long</span> ident = Binder.clearCallingIdentity();</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (;;) &#123;</div><div class="line">        Message msg = queue.next(); <span class="comment">// might block</span></div><div class="line">        <span class="keyword">if</span> (msg == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="comment">// No message indicates that the message queue is quitting.</span></div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// This must be in a local variable, in case a UI event sets the logger</span></div><div class="line">        <span class="keyword">final</span> Printer logging = me.mLogging;</div><div class="line">        <span class="keyword">if</span> (logging != <span class="keyword">null</span>) &#123;</div><div class="line">            logging.println(<span class="string">"&gt;&gt;&gt;&gt;&gt; Dispatching to "</span> + msg.target + <span class="string">" "</span> +</div><div class="line">                    msg.callback + <span class="string">": "</span> + msg.what);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">final</span> <span class="keyword">long</span> traceTag = me.mTraceTag;</div><div class="line">        <span class="keyword">if</span> (traceTag != <span class="number">0</span> &amp;&amp; Trace.isTagEnabled(traceTag)) &#123;</div><div class="line">            Trace.traceBegin(traceTag, msg.target.getTraceName(msg));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            msg.target.dispatchMessage(msg);</div><div class="line">        &#125; <span class="keyword">finally</span> &#123;</div><div class="line">            <span class="keyword">if</span> (traceTag != <span class="number">0</span>) &#123;</div><div class="line">                Trace.traceEnd(traceTag);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (logging != <span class="keyword">null</span>) &#123;</div><div class="line">            logging.println(<span class="string">"&lt;&lt;&lt;&lt;&lt; Finished to "</span> + msg.target + <span class="string">" "</span> + msg.callback);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// Make sure that during the course of dispatching the</span></div><div class="line">        <span class="comment">// identity of the thread wasn't corrupted.</span></div><div class="line">        <span class="keyword">final</span> <span class="keyword">long</span> newIdent = Binder.clearCallingIdentity();</div><div class="line">        <span class="keyword">if</span> (ident != newIdent) &#123;</div><div class="line">            Log.wtf(TAG, <span class="string">"Thread identity changed from 0x"</span></div><div class="line">                    + Long.toHexString(ident) + <span class="string">" to 0x"</span></div><div class="line">                    + Long.toHexString(newIdent) + <span class="string">" while dispatching to "</span></div><div class="line">                    + msg.target.getClass().getName() + <span class="string">" "</span></div><div class="line">                    + msg.callback + <span class="string">" what="</span> + msg.what);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        msg.recycleUnchecked();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸€å¼€å§‹ä¹Ÿæ˜¯è·å– Looperï¼Œä½†æ˜¯é‚£ä¹ˆå¤š Looper æ€ä¹ˆçŸ¥é“è¿™æ˜¯å“ªä¸ª Looper å‘¢ï¼Ÿè¿™å…ˆæ”¾ç€å¾…ä¼šé©¬ä¸Šè§£é‡Šã€‚æŠŠ loop() å‡½æ•°ä¸»è¦åŠŸèƒ½ææ‡‚å†è¯´ã€‚<br>æ¥ä¸‹æ¥å°±æ˜¯è·å– Looper ä¸­çš„ MessageQueueäº†ï¼Œç­‰ç­‰ï¼Œè¿™é‡Œæå‡ºä¸€ä¸ªç–‘é—®ï¼Œå‰é¢è¯´äº† Handler ä¸­ä¹Ÿå­˜åœ¨ MessageQueueï¼Œé‚£è¿™ä¹‹é—´å­˜åœ¨ä»€ä¹ˆå…³ç³»å—ï¼Ÿï¼ˆæœ€åä½ ä¼šå‘ç°å…¶å®æ˜¯åŒä¸€ä¸ªï¼‰<br>å…ˆå¾€ä¸‹çœ‹ï¼Œä¸€ä¸ªæ­»å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯è½®è®­æ¶ˆæ¯å–½ï¼Œä¸­é—´æœ‰ä¸€å¥ <code>msg.target.dispatchMessage(msg);</code> è€Œå‰é¢ä»‹ç» msg.target æ˜¯ handler å‹å‚æ•°ã€‚æ‰€ä»¥å’Œ handler è”ç³»ä¸Šäº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Handler.class</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Handle system messages here.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dispatchMessage</span><span class="params">(Message msg)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (msg.callback != <span class="keyword">null</span>) &#123;</div><div class="line">        handleCallback(msg);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">if</span> (mCallback != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (mCallback.handleMessage(msg)) &#123;</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        handleMessage(msg);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€»è¾‘å¾ˆç®€å•ï¼Œæ€»ä¹‹å°±æ˜¯è°ƒåŠ¨äº†æˆ‘ä»¬é‡å†™çš„ handleMessage() æ–¹æ³•ã€‚</p>
<p>Step 1ï¼š<code>Looper.prepare();</code></p>
<blockquote>
<p>åœ¨ Looper ä¸­æœ‰ä¸€ä¸ªé™æ€å˜é‡ sThreadLocalï¼ŒæŠŠåˆ›å»ºçš„ looper â€œå­˜åœ¨â€ é‡Œé¢ï¼Œåˆ›å»º looper çš„åŒæ—¶åˆ›å»º MessageQueueï¼Œå¹¶ä¸”å’Œå½“å‰çº¿ç¨‹æŒ‚é’©ã€‚</p>
</blockquote>
<p>Step 2ï¼š<code>new Handler();</code> </p>
<blockquote>
<p>é€šè¿‡ä¸Šå¸ ThreadLocalï¼Œå¹¶æ ¹æ®å½“å‰çº¿ç¨‹ï¼Œå¯è·å– looperï¼Œè¿›è€Œè·å– MessageQueueï¼ŒCallbackä¹‹ç±»çš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">Handler.class</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Use the &#123;<span class="doctag">@link</span> Looper&#125; for the current thread with the specified callback interface</div><div class="line"> * and set whether the handler should be asynchronous.</div><div class="line"> *</div><div class="line"> * Handlers are synchronous by default unless this constructor is used to make</div><div class="line"> * one that is strictly asynchronous.</div><div class="line"> *</div><div class="line"> * Asynchronous messages represent interrupts or events that do not require global ordering</div><div class="line"> * with respect to synchronous messages.  Asynchronous messages are not subject to</div><div class="line"> * the synchronization barriers introduced by &#123;<span class="doctag">@link</span> MessageQueue#enqueueSyncBarrier(long)&#125;.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span> callback The callback interface in which to handle messages, or null.</div><div class="line"> * <span class="doctag">@param</span> async If true, the handler calls &#123;<span class="doctag">@link</span> Message#setAsynchronous(boolean)&#125; for</div><div class="line"> * each &#123;<span class="doctag">@link</span> Message&#125; that is sent to it or &#123;<span class="doctag">@link</span> Runnable&#125; that is posted to it.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@hide</span></div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Handler</span><span class="params">(Callback callback, <span class="keyword">boolean</span> async)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (FIND_POTENTIAL_LEAKS) &#123;</div><div class="line">        <span class="keyword">final</span> Class&lt;? extends Handler&gt; klass = getClass();</div><div class="line">        <span class="keyword">if</span> ((klass.isAnonymousClass() || klass.isMemberClass() || klass.isLocalClass()) &amp;&amp;</div><div class="line">                (klass.getModifiers() &amp; Modifier.STATIC) == <span class="number">0</span>) &#123;</div><div class="line">            Log.w(TAG, <span class="string">"The following Handler class should be static or leaks might occur: "</span> +</div><div class="line">                klass.getCanonicalName());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    mLooper = Looper.myLooper();</div><div class="line">    <span class="keyword">if</span> (mLooper == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(</div><div class="line">            <span class="string">"Can't create handler inside thread that has not called Looper.prepare()"</span>);</div><div class="line">    &#125;</div><div class="line">    mQueue = mLooper.mQueue; <span class="comment">// å‰é¢çš„ä¸¤ä¸ª MessageQueue è”ç³»èµ·æ¥äº†ï¼Œç–‘é—®å·²è§£ç­”ã€‚</span></div><div class="line">    mCallback = callback;</div><div class="line">    mAsynchronous = async;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<p>è¿™ä¸ªå‡½æ•°å¯ä»¥è¯´æ˜åœ¨ new Handler() ä¹‹å‰è¯¥çº¿ç¨‹å¿…éœ€æœ‰ looperï¼Œæ‰€ä»¥è¦åœ¨è¿™ä¹‹å‰è°ƒç”¨ <code>Looper.prepare();</code>ã€‚</p>
<p>Step 3ï¼š<code>Looper.loop();</code></p>
<blockquote>
<p>è¿›è¡Œæ¶ˆæ¯å¾ªç¯ã€‚</p>
</blockquote>
<p>åŸºæœ¬åˆ°è¿™é‡Œæ•´ä¸ªè¿‡ç¨‹åº”è¯¥æ˜¯æ¸…æ¥šäº†ï¼Œè¿™é‡Œæˆ‘ç”»ä¸‹æˆ‘çš„ç†è§£ã€‚<br><img src="/2017/09/11/handler/threadLocal.png" alt=""></p>
<p>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸€ä¸‹ handler æ˜¯æ€ä¹ˆå‡†ç¡®å‘é€ä¿¡æ¯å’Œå¤„ç†ä¿¡æ¯çš„ã€‚æ³¨æ„åœ¨ handler å‘é€ä¿¡æ¯ä¹‹å‰ï¼Œ1ã€2ã€3 æ­¥å·²ç»å®Œæˆã€‚æ‰€ä»¥è¯¥è·å–çš„çº¿ç¨‹å·²ç»è·å–ï¼Œç›´æ¥å¾€è¯¥çº¿ç¨‹æ‰€åœ¨çš„ MessageQueue é‡Œé¢å¡ä¿¡æ¯å°±è¡Œäº†ï¼Œåæ­£è¯¥ä¿¡æ¯ä¼šåœ¨è¯¥ handler æ‰€åœ¨çº¿ç¨‹çš„ looper ä¸­å¾ªç¯ï¼Œæœ€ç»ˆä¼šé€šè¿‡æ¶ˆæ¯çš„ target å‚æ•°è°ƒç”¨ dispatchMessage()ï¼Œè€Œåœ¨ dispatchMessage() ä¸­ä¼šè°ƒç”¨æˆ‘ä»¬é‡å†™çš„ handleMessage() å‡½æ•°ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œä¸»è¦æ˜¯å…ˆäº†è§£æ•´ä¸ªæ¶ˆæ¯ä¼ é€’çš„è¿‡ç¨‹ï¼ŒçŸ¥é“è¿™æ ·åšçš„å¥½å¤„å’Œå¿…è¦æ€§ã€‚è€Œä¸æ˜¯ç›´æ¥ä»‹ç»é‡Œé¢çš„å‡ ä¸ªå…³é”®ç±»ï¼Œç„¶åä»‹ç»è¿™ä¸ªæœºåˆ¶ï¼Œè¿™æ ·å®¹æ˜“å¤´æ™•ã€‚è€Œä¸”ç½‘ç»œä¸Šå·²ç»æœ‰å¾ˆå¤šè¿™æ ·çš„æ–‡ç« äº†ï¼Œé‚£äº›ä½œè€…æ‰€ç«™çš„é«˜åº¦å¯¹äºæˆ‘è¿™ç§åˆå­¦è€…æ¥è¯´æœ‰ç‚¹é«˜ï¼Œæˆ‘ç†è§£èµ·æ¥æ˜¯æ¯”è¾ƒç¨€é‡Œç³Šæ¶‚çš„ï¼Œæ‰€ä»¥è¿™é‡Œä»ä¸€ä¸ªé—®é¢˜å‡ºå‘ï¼Œä¸€æ­¥ä¸€æ­¥è·Ÿè¸ªä»£ç ï¼Œè¿™é‡Œåªæ˜¯ææ¸…æ¥š handler æ˜¯æ€ä¹ˆè·¨çº¿ç¨‹æ”¶å‘æ¶ˆæ¯çš„ï¼Œå…·ä½“å®ç°ç»†èŠ‚è¿˜æ˜¯å‚è€ƒç½‘ä¸Šçš„é‚£äº›å¤§ç¥çš„ Blog æ¯”è¾ƒæƒå¨ã€‚&lt;br&gt;PS. æœ¬æ¥æ˜¯æƒ³åˆ†ç« èŠ‚ä¹¦å†™ï¼Œè°çŸ¥é“è¿™ä¸€å¥—å†›ä½“æ‹³æ‰“ä¸‹æ¥æ”¶ä¸ä½äº†ï¼Œæ‰€ä»¥ä¸‹é¢åŸºæœ¬æ˜¯ä»¥ä¸€ç§å¾ˆæµç•…çš„è¿‡ç¨‹è§£é‡Šè€Œä¸æ˜¯å¾ˆè·³è·ƒï¼Œç»†å¿ƒçœ‹åº”è¯¥ä¼šå¯¹ç†è§£ Handler æœºåˆ¶æœ‰æ‰€æ”¶è·ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://fitzeng.org/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªç¨‹åºå‘˜ä½¿ç”¨ PPT çš„å°æŠ€å·§</title>
    <link href="http://fitzeng.org/2017/09/06/pptAndDev/"/>
    <id>http://fitzeng.org/2017/09/06/pptAndDev/</id>
    <published>2017-09-06T03:27:00.000Z</published>
    <updated>2017-09-06T06:02:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰æ®µæ—¶é—´ï¼Œæˆ‘å†™äº†ä¸€ç¯‡<a href="https://juejin.im/post/59ad4cd56fb9a02477075780" target="_blank" rel="external">ã€Šé‡è¯» JVMã€‹</a>ï¼Œ<br>åœ¨æ–‡ç« ä¸‹æœ‰äººè¯„è®ºé‡Œé¢çš„å›¾æ˜¯æ€ä¹ˆåšçš„ï¼Œä¸‹é¢æ˜¯æˆ‘ç»™çš„å›å¤ï¼š<br><img src="/2017/09/06/pptAndDev/comment.png" alt=""><br>ç„¶åæƒ³åˆ°è‡ªå·±åœ¨é˜…è¯»å…¶ä»–å¤§ç¥äº›çš„ Blog æ—¶ï¼Œä¸‹é¢ä¹Ÿæœ‰ä¸€æ‰¹äººåœ¨é—®ä½œå›¾å·¥å…·ä»€ä¹ˆçš„ã€‚ç„¶åæˆ‘å°±æƒ³æŠŠè‡ªå·±çš„å°æŠ€å·§åˆ†äº«å‡ºæ¥ï¼Œå¦‚æœ‰é›·åŒï¼Œçº¯å±å·§åˆã€‚</p>
<a id="more"></a>
<h2 id="WHY-IS-PPT"><a href="#WHY-IS-PPT" class="headerlink" title="WHY IS PPT"></a>WHY IS PPT</h2><p>ä½œä¸ºä¸€ä¸ªæœ‰ç‚¹è½»å¾®æ´ç™–çš„ç¨‹åºå‘˜ï¼Œè£…çš„è½¯ä»¶ç›¸åŒåŠŸèƒ½çš„åŸºæœ¬ä¸ä¼šè¶…è¿‡ä¸¤ä¸ªã€‚æ‰€ä»¥ä¸æƒ³ä¸ºå†™ Blog ç”»å›¾è€Œå†è£…ä¸€ä¸ªè½¯ä»¶ï¼Œå†è¯´å¹¶ä¸æ˜¯æ¯ç¯‡ Blog éƒ½è¦ç”»å›¾ï¼Œä½†æ˜¯è¦ç”»å›¾çš„ Blog ä¸€ç”»å°±æ˜¯åå‡ å¼ ï¼Œæ•´ç†èµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚æ‰€ä»¥æˆ‘æƒ³åˆ°äº† PPTï¼Œåˆ†é¡µå­˜å‚¨ã€‚å…¶å®åœ¨è¿™ä¹‹å‰æˆ‘ç”¨ PPT çš„å¾ˆå¤§ä¸€åŸå› æ˜¯å†™ç®€å†ï¼Œä¹‹å‰ç®€å†æ˜¯ç”¨ Word åšçš„ï¼Œè‹¦ä¸å ªè¨€ï¼Œè€Œä¸”ç‰ˆæœ¬ä¿å­˜å¾ˆæ¶å¿ƒã€‚ã€‚ã€‚æ–‡ä»¶ä¹±çš„å¾ˆï¼Œæ‰€ä»¥æƒ³åˆ°ç”¨ PPTï¼Œæ²¡æƒ³åˆ°ç‰¹åˆ«å¥½ç”¨ã€‚ä¸‹é¢å¼€å§‹ä»‹ç»ä¸€ä¸‹æˆ‘çš„å®æ“ã€‚</p>
<h2 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h2><h3 id="ç®€å†ç¯‡"><a href="#ç®€å†ç¯‡" class="headerlink" title="ç®€å†ç¯‡"></a>ç®€å†ç¯‡</h3><ul>
<li>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º A4 å¤§å°çš„å¹»ç¯ç‰‡</li>
</ul>
<p><img src="/2017/09/06/pptAndDev/resumeA4.png" alt=""></p>
<ul>
<li>ç¬¬äºŒæ­¥ï¼šè®¾è®¡ç®€å†</li>
</ul>
<p><img src="/2017/09/06/pptAndDev/draw.png" alt=""><br>è¿™é‡Œå°±æ˜¯åˆ©ç”¨æ’å…¥å½¢çŠ¶è‡ªå·±è®¾è®¡äº†ï¼ŒåŸºæœ¬å¤Ÿæ—¥å¸¸ä½¿ç”¨ï¼Œæˆ‘ä¹Ÿä¸æ˜¯ä»€ä¹ˆ PPT é«˜æ‰‹ï¼Œå¦‚æœä½ ä¼šä½¿ç”¨åŠ¨ç”»é‚£æ•ˆæœä¼°è®¡æ›´åŠ æƒŠäººã€‚</p>
<ul>
<li>ç¬¬ä¸‰æ­¥ï¼šç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<p><img src="/2017/09/06/pptAndDev/version.png" alt=""></p>
<p>åˆ©ç”¨æ³¨é‡Šï¼</p>
<ul>
<li>ç¬¬å››æ­¥ï¼šå¯¼å‡º PDF</li>
</ul>
<p>ç›´æ¥å¦å­˜ä¸ºPDF å°±å¯ä»¥äº†ï¼Œå¾ˆç®€å•å°±ä¸æˆªå›¾äº†ã€‚</p>
<h3 id="ç®¡ç†å›¾ç‰‡ç¯‡"><a href="#ç®¡ç†å›¾ç‰‡ç¯‡" class="headerlink" title="ç®¡ç†å›¾ç‰‡ç¯‡"></a>ç®¡ç†å›¾ç‰‡ç¯‡</h3><p>åŸºæœ¬æœ‰äº†ç»˜åˆ¶ç®€å†çš„åŸºç¡€ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸åœ¨è¯ä¸‹ï¼Œå‰©ä¸‹çš„å°±æ˜¯è‡ªå·±çš„ç»˜åˆ¶æ°´å¹³é«˜ä½äº†ã€‚</p>
<p>è§£é‡Šä¸€ä¸‹å¦‚ä½•å¯¼å‡ºå›¾ç‰‡ï¼šç›´æ¥ å…¨é€‰ -&gt; å³é”® -&gt; å¦å­˜ä¸ºå›¾ç‰‡â€¦<br><img src="/2017/09/06/pptAndDev/imageStore.png" alt=""></p>
<p>æ³¨æ„è¿™é‡Œçš„ PNG å¦‚æœæ²¡æœ‰èƒŒæ™¯å›¾ç¤ºé€æ˜çš„ï¼Œæ‰€ä»¥ç»˜åˆ¶å›¾ç‰‡å‰å¯ä»¥è‡ªå·±åŠ ä¸€å±‚èƒŒæ™¯ç”»å¸ƒã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>è¿™ç¯‡æ–‡ç« æœ‰ç‚¹æ°´ï¼Œä¸è¿‡å¦‚æœå¯¹å¤§å®¶èƒ½æœ‰å¸®åŠ©å°±çŸ¥è¶³äº†ã€‚</p>
<p>å¦‚æœä½ çœ‹åˆ°è¿™ &amp;&amp; å¦‚æœä½ æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ï¼Œé‚£ä¹ˆæŒ‰ç…§å›½é™…æƒ¯ä¾‹ï¼Œæ¨èä¸€ä¸‹è‡ªå·±çš„<a href="https://github.com/mk43" target="_blank" rel="external"> GitHub </a> &amp;&amp; <a href="http://fitzeng.org/"> Blog </a> é‡Œé¢è¿˜æ˜¯æœ‰ä¸€äº›å¹²è´§å€¼å¾—å¤§å®¶å‘ç°çš„ã€‚</p>
<p>å¤šè°¢é˜…è¯» ^_^</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´ï¼Œæˆ‘å†™äº†ä¸€ç¯‡&lt;a href=&quot;https://juejin.im/post/59ad4cd56fb9a02477075780&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€Šé‡è¯» JVMã€‹&lt;/a&gt;ï¼Œ&lt;br&gt;åœ¨æ–‡ç« ä¸‹æœ‰äººè¯„è®ºé‡Œé¢çš„å›¾æ˜¯æ€ä¹ˆåšçš„ï¼Œä¸‹é¢æ˜¯æˆ‘ç»™çš„å›å¤ï¼š&lt;br&gt;&lt;img src=&quot;/2017/09/06/pptAndDev/comment.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;ç„¶åæƒ³åˆ°è‡ªå·±åœ¨é˜…è¯»å…¶ä»–å¤§ç¥äº›çš„ Blog æ—¶ï¼Œä¸‹é¢ä¹Ÿæœ‰ä¸€æ‰¹äººåœ¨é—®ä½œå›¾å·¥å…·ä»€ä¹ˆçš„ã€‚ç„¶åæˆ‘å°±æƒ³æŠŠè‡ªå·±çš„å°æŠ€å·§åˆ†äº«å‡ºæ¥ï¼Œå¦‚æœ‰é›·åŒï¼Œçº¯å±å·§åˆã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Tips" scheme="http://fitzeng.org/tags/Tips/"/>
    
      <category term="ppt" scheme="http://fitzeng.org/tags/ppt/"/>
    
  </entry>
  
  <entry>
    <title>é‡è¯» JVM</title>
    <link href="http://fitzeng.org/2017/09/02/reJVM/"/>
    <id>http://fitzeng.org/2017/09/02/reJVM/</id>
    <published>2017-09-01T16:00:00.000Z</published>
    <updated>2017-09-04T12:46:51.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ç§‹æ‹›å¼€å§‹äº†ï¼Œå‰é¢ç”±äºåšåˆ«çš„äº‹è€½è¯¯äº†åŠä¸ªæœˆï¼Œä»¥å‰å­¦çš„ä¸œè¥¿ä¸ç”¨å°±å¾ˆå®¹æ˜“å¿˜è®°ã€‚æ‰€ä»¥ï¼Œè¿™æ¬¡é‡æ–°é˜…è¯»ã€Šæ·±å…¥ç†è§£ JVM è™šæ‹Ÿæœºã€‹æ—¶ï¼Œæƒ³åšä¸€ä¸ªè®°å½•ã€‚å°†ç¢ç‰‡çš„çŸ¥è¯†æ•´åˆï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åé˜…è¯»ï¼ŒåŒæ—¶ä¹Ÿå’Œå¤§å®¶ä¸€èµ·åˆ†äº«ã€‚å†…å®¹ä¸­ä¼šæ·»åŠ æˆ‘è‡ªå·±çš„ç†è§£ï¼Œå…¶ä¸­å¦‚æœæœ‰é”™è¯¯ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚</p>
<p>ç›¸å…³é˜…è¯»:<br><a href="http://fitzeng.org/2017/08/02/reDS/">1. é‡æ‹¾æ•°æ®ç»“æ„</a><br><a href="http://fitzeng.org/2017/08/07/reOS/">2. é‡æ‹¾æ“ä½œç³»ç»Ÿ</a><br><a href="http://fitzeng.org/2017/08/31/reCN/">3. é‡æ‹¾è®¡ç®—æœºç½‘ç»œ(æœªå®Œæˆ)ï¼‰</a><br>æ³¨æ„ï¼šä»¥ä¸Šå†…å®¹ä¼šæŒç»­æ›´æ–°ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨<a href="https://github.com/mk43" target="_blank" rel="external"> GitHub </a> &amp;&amp; <a href="http://fitzeng.org/"> Blog </a> </p>
</blockquote>
<a id="more"></a>
<h2 id="1-Java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"><a href="#1-Java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸" class="headerlink" title="1. Java å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"></a>1. Java å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h2><h3 id="1-1-è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"><a href="#1-1-è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ" class="headerlink" title="1.1 è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"></a>1.1 è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</h3><blockquote>
<p>æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒ(Java SE 7 ç‰ˆ)ã€‹è§„å®šï¼ŒJava è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/jvmRuntimeDataArea.png" alt=""></p>
<h4 id="1-1-1-ç¨‹åºè®¡æ•°å™¨"><a href="#1-1-1-ç¨‹åºè®¡æ•°å™¨" class="headerlink" title="1.1.1 ç¨‹åºè®¡æ•°å™¨"></a>1.1.1 ç¨‹åºè®¡æ•°å™¨</h4><blockquote>
<p>å†…å­˜ç©ºé—´å°ï¼Œçº¿ç¨‹ç§æœ‰ã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ˜¯å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡ŒæŒ‡ä»¤çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è®¡æ•°å™¨å®Œæˆ</p>
</blockquote>
<p>å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œä¸€ä¸ª Java æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯ Native æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨çš„å€¼åˆ™ä¸º (Undefined)ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸã€‚</p>
<h4 id="1-1-2-Java-è™šæ‹Ÿæœºæ ˆ"><a href="#1-1-2-Java-è™šæ‹Ÿæœºæ ˆ" class="headerlink" title="1.1.2 Java è™šæ‹Ÿæœºæ ˆ"></a>1.1.2 Java è™šæ‹Ÿæœºæ ˆ</h4><blockquote>
<p>çº¿ç¨‹ç§æœ‰ï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ä¸€è‡´ã€‚æè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œæ—¶éƒ½ä¼šåºŠåˆ›å»ºä¸€ä¸ªæ ˆå¸§(Stack Frame)ç”¨äºå­˜å‚¨<code>å±€éƒ¨å˜é‡è¡¨</code>ã€<code>æ“ä½œæ•°æ ˆ</code>ã€<code>åŠ¨æ€é“¾æ¥</code>ã€<code>æ–¹æ³•å‡ºå£</code>ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•ä»è°ƒç”¨ç›´è‡³æ‰§è¡Œç»“æŸï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§ä»è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<p>å±€éƒ¨å˜é‡è¡¨ï¼šå­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§åŸºæœ¬ç±»å‹(booleanã€byteã€charã€shortã€intã€floatã€longã€double)ã€å¯¹è±¡å¼•ç”¨(reference ç±»å‹)å’Œ returnAddress ç±»å‹(æŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€)</p>
<p>StackOverflowErrorï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ã€‚<br>OutOfMemoryErrorï¼šå¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œè€Œæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ã€‚</p>
<h4 id="1-1-3-æœ¬åœ°æ–¹æ³•æ ˆ"><a href="#1-1-3-æœ¬åœ°æ–¹æ³•æ ˆ" class="headerlink" title="1.1.3 æœ¬åœ°æ–¹æ³•æ ˆ"></a>1.1.3 æœ¬åœ°æ–¹æ³•æ ˆ</h4><blockquote>
<p>åŒºåˆ«äº Java è™šæ‹Ÿæœºæ ˆçš„æ˜¯ï¼ŒJava è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³•(ä¹Ÿå°±æ˜¯å­—èŠ‚ç )æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„ Native æ–¹æ³•æœåŠ¡ã€‚ä¹Ÿä¼šæœ‰ StackOverflowError å’Œ OutOfMemoryError å¼‚å¸¸ã€‚</p>
</blockquote>
<h4 id="1-1-4-Java-å †"><a href="#1-1-4-Java-å †" class="headerlink" title="1.1.4 Java å †"></a>1.1.4 Java å †</h4><blockquote>
<p>å¯¹äºç»å¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼Œè¿™å—åŒºåŸŸæ˜¯ JVM æ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ã€‚çº¿ç¨‹å…±äº«ï¼Œä¸»è¦æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹å’Œæ•°ç»„ã€‚å†…éƒ¨ä¼šåˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹ç§æœ‰çš„åˆ†é…ç¼“å†²åŒº(Thread Local Allocation Buffer, TLAB)ã€‚å¯ä»¥ä½äºç‰©ç†ä¸Šä¸è¿ç»­çš„ç©ºé—´ï¼Œä½†æ˜¯é€»è¾‘ä¸Šè¦è¿ç»­ã€‚</p>
</blockquote>
<p>OutOfMemoryErrorï¼šå¦‚æœå †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…ï¼Œå¹¶ä¸”å †ä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</p>
<h4 id="1-1-5-æ–¹æ³•åŒº"><a href="#1-1-5-æ–¹æ³•åŒº" class="headerlink" title="1.1.5 æ–¹æ³•åŒº"></a>1.1.5 æ–¹æ³•åŒº</h4><blockquote>
<p>å±äºå…±äº«å†…å­˜åŒºåŸŸï¼Œå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚</p>
</blockquote>
<p>ç°åœ¨ç”¨ä¸€å¼ å›¾æ¥ä»‹ç»æ¯ä¸ªåŒºåŸŸå­˜å‚¨çš„å†…å®¹ã€‚</p>
<p><img src="/2017/09/02/reJVM/jvmcontent.png" alt=""></p>
<h4 id="1-1-6-è¿è¡Œæ—¶å¸¸é‡æ± "><a href="#1-1-6-è¿è¡Œæ—¶å¸¸é‡æ± " class="headerlink" title="1.1.6 è¿è¡Œæ—¶å¸¸é‡æ± "></a>1.1.6 è¿è¡Œæ—¶å¸¸é‡æ± </h4><blockquote>
<p>å±äºæ–¹æ³•åŒºä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚ç¼–è¯‘å™¨å’Œè¿è¡ŒæœŸ(String çš„ intern() )éƒ½å¯ä»¥å°†å¸¸é‡æ”¾å…¥æ± ä¸­ã€‚å†…å­˜æœ‰é™ï¼Œæ— æ³•ç”³è¯·æ—¶æŠ›å‡º OutOfMemoryErrorã€‚</p>
</blockquote>
<h4 id="1-1-7-ç›´æ¥å†…å­˜"><a href="#1-1-7-ç›´æ¥å†…å­˜" class="headerlink" title="1.1.7 ç›´æ¥å†…å­˜"></a>1.1.7 ç›´æ¥å†…å­˜</h4><blockquote>
<p>éè™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„éƒ¨åˆ†</p>
</blockquote>
<p>åœ¨ JDK 1.4 ä¸­æ–°åŠ å…¥ NIO (New Input/Output) ç±»ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäºé€šé“(Channel)å’Œç¼“å­˜(Buffer)çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †ä¸­çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚å¯ä»¥é¿å…åœ¨ Java å †å’Œ Native å †ä¸­æ¥å›çš„æ•°æ®è€—æ—¶æ“ä½œã€‚<br>OutOfMemoryErrorï¼šä¼šå—åˆ°æœ¬æœºå†…å­˜é™åˆ¶ï¼Œå¦‚æœå†…å­˜åŒºåŸŸæ€»å’Œå¤§äºç‰©ç†å†…å­˜é™åˆ¶ä»è€Œå¯¼è‡´åŠ¨æ€æ‰©å±•æ—¶å‡ºç°è¯¥å¼‚å¸¸ã€‚</p>
<h3 id="1-2-HotSpot-è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜"><a href="#1-2-HotSpot-è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜" class="headerlink" title="1.2 HotSpot è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜"></a>1.2 HotSpot è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜</h3><blockquote>
<p>ä¸»è¦ä»‹ç»æ•°æ®æ˜¯å¦‚ä½•åˆ›å»ºã€å¦‚ä½•å¸ƒå±€ä»¥åŠå¦‚ä½•è®¿é—®çš„ã€‚</p>
</blockquote>
<h4 id="1-2-1-å¯¹è±¡çš„åˆ›å»º"><a href="#1-2-1-å¯¹è±¡çš„åˆ›å»º" class="headerlink" title="1.2.1 å¯¹è±¡çš„åˆ›å»º"></a>1.2.1 å¯¹è±¡çš„åˆ›å»º</h4><blockquote>
<p>åˆ›å»ºè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®çœ‹ä¹¦äº†è§£ï¼Œè¿™é‡Œæä¾›ä¸ªäººçš„æ€»ç»“ã€‚</p>
</blockquote>
<p>é‡åˆ° new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½ã€‚<br><br>ç±»åŠ è½½æ£€æŸ¥é€šè¿‡ä¹‹åï¼Œä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜(å†…å­˜å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯ç¡®è®¤)ã€‚åœ¨å †çš„ç©ºé—²å†…å­˜ä¸­åˆ’åˆ†ä¸€å—åŒºåŸŸ(â€˜æŒ‡é’ˆç¢°æ’-å†…å­˜è§„æ•´â€™æˆ–â€˜ç©ºé—²åˆ—è¡¨-å†…å­˜äº¤é”™â€™çš„åˆ†é…æ–¹å¼)ã€‚<br><br>å‰é¢è®²çš„æ¯ä¸ªçº¿ç¨‹åœ¨å †ä¸­éƒ½ä¼šæœ‰ç§æœ‰çš„åˆ†é…ç¼“å†²åŒº(TLAB)ï¼Œè¿™æ ·å¯ä»¥å¾ˆå¤§ç¨‹åº¦é¿å…åœ¨å¹¶å‘æƒ…å†µä¸‹é¢‘ç¹åˆ›å»ºå¯¹è±¡é€ æˆçš„çº¿ç¨‹ä¸å®‰å…¨ã€‚<br><br>å†…å­˜ç©ºé—´åˆ†é…å®Œæˆåä¼šåˆå§‹åŒ–ä¸º 0(ä¸åŒ…æ‹¬å¯¹è±¡å¤´)ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¡«å……å¯¹è±¡å¤´ï¼ŒæŠŠå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œç ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯å­˜å…¥å¯¹è±¡å¤´ã€‚<br><br>æ‰§è¡Œ new æŒ‡ä»¤åæ‰§è¡Œ init æ–¹æ³•åæ‰ç®—ä¸€ä»½çœŸæ­£å¯ç”¨çš„å¯¹è±¡åˆ›å»ºå®Œæˆã€‚<br></p>
<h4 id="1-2-2-å¯¹è±¡çš„å†…å­˜å¸ƒå±€"><a href="#1-2-2-å¯¹è±¡çš„å†…å­˜å¸ƒå±€" class="headerlink" title="1.2.2 å¯¹è±¡çš„å†…å­˜å¸ƒå±€"></a>1.2.2 å¯¹è±¡çš„å†…å­˜å¸ƒå±€</h4><blockquote>
<p>åœ¨ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œåˆ†ä¸º 3 å—åŒºåŸŸï¼š<code>å¯¹è±¡å¤´(Header)</code>ã€<code>å®ä¾‹æ•°æ®(Instance Data)</code>å’Œ<code>å¯¹é½å¡«å……(Padding)</code></p>
</blockquote>
<p><code>å¯¹è±¡å¤´(Header)</code>ï¼šåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ç­‰ï¼Œ32 ä½è™šæ‹Ÿæœºå  32 bitï¼Œ64 ä½è™šæ‹Ÿæœºå  64 bitã€‚å®˜æ–¹ç§°ä¸º â€˜Mark Wordâ€™ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»çš„å…ƒæ•°æ®æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€‚å¦å¤–ï¼Œå¦‚æœæ˜¯ Java æ•°ç»„ï¼Œå¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå› ä¸ºæ™®é€šå¯¹è±¡å¯ä»¥é€šè¿‡ Java å¯¹è±¡å…ƒæ•°æ®ç¡®å®šå¤§å°ï¼Œè€Œæ•°ç»„å¯¹è±¡ä¸å¯ä»¥ã€‚<br><br><code>å®ä¾‹æ•°æ®(Instance Data)</code>ï¼šç¨‹åºä»£ç ä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹(åŒ…å«çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„å’Œå­ç±»ä¸­å®šä¹‰çš„)ã€‚<br><br><code>å¯¹é½å¡«å……(Padding)</code>ï¼šä¸æ˜¯å¿…ç„¶éœ€è¦ï¼Œä¸»è¦æ˜¯å ä½ï¼Œä¿è¯å¯¹è±¡å¤§å°æ˜¯æŸä¸ªå­—èŠ‚çš„æ•´æ•°å€ã€‚<br></p>
<h4 id="1-2-3-å¯¹è±¡çš„è®¿é—®å®šä½"><a href="#1-2-3-å¯¹è±¡çš„è®¿é—®å®šä½" class="headerlink" title="1.2.3 å¯¹è±¡çš„è®¿é—®å®šä½"></a>1.2.3 å¯¹è±¡çš„è®¿é—®å®šä½</h4><blockquote>
<p>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚</p>
</blockquote>
<h5 id="é€šè¿‡å¥æŸ„è®¿é—®"><a href="#é€šè¿‡å¥æŸ„è®¿é—®" class="headerlink" title="é€šè¿‡å¥æŸ„è®¿é—®"></a>é€šè¿‡å¥æŸ„è®¿é—®</h5><blockquote>
<p>Java å †ä¸­ä¼šåˆ†é…ä¸€å—å†…å­˜ä½œä¸ºå¥æŸ„æ± ã€‚reference å­˜å‚¨çš„æ˜¯å¥æŸ„åœ°å€ã€‚è¯¦æƒ…è§å›¾ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/jubing.png" alt=""></p>
<h5 id="ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®"><a href="#ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®" class="headerlink" title="ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®"></a>ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®</h5><blockquote>
<p>reference ä¸­ç›´æ¥å­˜å‚¨å¯¹è±¡åœ°å€</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/directpointer.png" alt=""></p>
<p>æ¯”è¾ƒï¼šä½¿ç”¨å¥æŸ„çš„æœ€å¤§å¥½å¤„æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šçš„å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡ç§»åŠ¨(GC)æ˜¯åªæ”¹å˜å®ä¾‹æ•°æ®æŒ‡é’ˆåœ°å€ï¼Œreference è‡ªèº«ä¸éœ€è¦ä¿®æ”¹ã€‚ç›´æ¥æŒ‡é’ˆè®¿é—®çš„æœ€å¤§å¥½å¤„æ˜¯é€Ÿåº¦å¿«ï¼ŒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ã€‚å¦‚æœæ˜¯å¯¹è±¡é¢‘ç¹ GC é‚£ä¹ˆå¥æŸ„æ–¹æ³•å¥½ï¼Œå¦‚æœæ˜¯å¯¹è±¡é¢‘ç¹è®¿é—®åˆ™ç›´æ¥æŒ‡é’ˆè®¿é—®å¥½ã€‚</p>
<h3 id="1-3-å®æˆ˜"><a href="#1-3-å®æˆ˜" class="headerlink" title="1.3 å®æˆ˜"></a>1.3 å®æˆ˜</h3><blockquote>
<p>// å¾…å¡«</p>
</blockquote>
<h2 id="2-åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥"><a href="#2-åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥" class="headerlink" title="2. åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥"></a>2. åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥</h2><h3 id="2-1-æ¦‚è¿°"><a href="#2-1-æ¦‚è¿°" class="headerlink" title="2.1 æ¦‚è¿°"></a>2.1 æ¦‚è¿°</h3><blockquote>
<p>ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ 3 ä¸ªåŒºåŸŸéšçº¿ç¨‹ç”Ÿç­(å› ä¸ºæ˜¯çº¿ç¨‹ç§æœ‰)ï¼Œæ ˆä¸­çš„æ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºè€Œæœ‰æ¡ä¸ç´Šåœ°æ‰§è¡Œç€å‡ºæ ˆå’Œå…¥æ ˆæ“ä½œã€‚è€Œ Java å †å’Œæ–¹æ³•åŒºåˆ™ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ¥å£ä¸­çš„å¤šä¸ªå®ç°ç±»éœ€è¦çš„å†…å­˜å¯èƒ½ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ–¹æ³•ä¸­çš„å¤šä¸ªåˆ†æ”¯éœ€è¦çš„å†…å­˜ä¹Ÿå¯èƒ½ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬åªæœ‰åœ¨ç¨‹åºå¤„äºè¿è¡ŒæœŸæ‰çŸ¥é“é‚£äº›å¯¹è±¡ä¼šåˆ›å»ºï¼Œè¿™éƒ¨åˆ†å†…å­˜çš„åˆ†é…å’Œå›æ”¶éƒ½æ˜¯åŠ¨æ€çš„ï¼Œåƒåœ¾å›æ”¶æœŸæ‰€å…³æ³¨çš„å°±æ˜¯è¿™éƒ¨åˆ†å†…å­˜ã€‚</p>
</blockquote>
<h3 id="2-2-å¯¹è±¡å·²æ­»å—ï¼Ÿ"><a href="#2-2-å¯¹è±¡å·²æ­»å—ï¼Ÿ" class="headerlink" title="2.2 å¯¹è±¡å·²æ­»å—ï¼Ÿ"></a>2.2 å¯¹è±¡å·²æ­»å—ï¼Ÿ</h3><blockquote>
<p>åœ¨è¿›è¡Œå†…å­˜å›æ”¶ä¹‹å‰è¦åšçš„äº‹æƒ…å°±æ˜¯åˆ¤æ–­é‚£äº›å¯¹è±¡æ˜¯â€˜æ­»â€™çš„ï¼Œå“ªäº›æ˜¯â€˜æ´»â€™çš„ã€‚</p>
</blockquote>
<h4 id="2-2-1-å¼•ç”¨è®¡æ•°æ³•"><a href="#2-2-1-å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="2.2.1 å¼•ç”¨è®¡æ•°æ³•"></a>2.2.1 å¼•ç”¨è®¡æ•°æ³•</h4><blockquote>
<p>ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ã€‚ä½†æ˜¯éš¾ä»¥è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/referenceCount.png" alt=""><br><br>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœä¸ä¸‹å°å¿ƒç›´æ¥æŠŠ Obj1-reference å’Œ Obj2-reference ç½® nullã€‚åˆ™åœ¨ Java å †å½“ä¸­çš„ä¸¤å—å†…å­˜ä¾ç„¶ä¿æŒç€äº’ç›¸å¼•ç”¨æ— æ³•å›æ”¶ã€‚</p>
<h4 id="2-2-2-å¯è¾¾æ€§åˆ†ææ³•"><a href="#2-2-2-å¯è¾¾æ€§åˆ†ææ³•" class="headerlink" title="2.2.2 å¯è¾¾æ€§åˆ†ææ³•"></a>2.2.2 å¯è¾¾æ€§åˆ†ææ³•</h4><blockquote>
<p>é€šè¿‡ä¸€ç³»åˆ—çš„ â€˜GC Rootsâ€™ çš„å¯¹è±¡ä½œä¸ºèµ·å§‹ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å‡ºå‘æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ° GC Roots æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿çš„æ—¶å€™è¯´æ˜å¯¹è±¡ä¸å¯ç”¨ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/gcTree.png" alt=""></p>
<p>å¯ä½œä¸º GC Roots çš„å¯¹è±¡ï¼š<br></p>
<ul>
<li>è™šæ‹Ÿæœºæ ˆ(æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨)ä¸­å¼•ç”¨çš„å¯¹è±¡</li>
<li>æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡</li>
<li>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡</li>
<li>æœ¬åœ°æ–¹æ³•æ ˆä¸­ JNI(å³ä¸€èˆ¬è¯´çš„ Native æ–¹æ³•) å¼•ç”¨çš„å¯¹è±¡</li>
</ul>
<h4 id="2-2-3-å†è°ˆå¼•ç”¨"><a href="#2-2-3-å†è°ˆå¼•ç”¨" class="headerlink" title="2.2.3 å†è°ˆå¼•ç”¨"></a>2.2.3 å†è°ˆå¼•ç”¨</h4><blockquote>
<p>å‰é¢çš„ä¸¤ç§æ–¹å¼åˆ¤æ–­å­˜æ´»æ—¶éƒ½ä¸â€˜å¼•ç”¨â€™æœ‰å…³ã€‚ä½†æ˜¯ JDK 1.2 ä¹‹åï¼Œå¼•ç”¨æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œä¸‹é¢å…·ä½“ä»‹ç»ã€‚</p>
</blockquote>
<p>ä¸‹é¢å››ç§å¼•ç”¨å¼ºåº¦ä¸€æ¬¡é€æ¸å‡å¼±<br></p>
<h5 id="å¼ºå¼•ç”¨"><a href="#å¼ºå¼•ç”¨" class="headerlink" title="å¼ºå¼•ç”¨"></a>å¼ºå¼•ç”¨</h5><blockquote>
<p>ç±»ä¼¼äº <code>Object obj = new Object();</code> åˆ›å»ºçš„ï¼Œåªè¦å¼ºå¼•ç”¨åœ¨å°±ä¸å›æ”¶ã€‚ </p>
</blockquote>
<h5 id="è½¯å¼•ç”¨"><a href="#è½¯å¼•ç”¨" class="headerlink" title="è½¯å¼•ç”¨"></a>è½¯å¼•ç”¨</h5><blockquote>
<p>SoftReference ç±»å®ç°è½¯å¼•ç”¨ã€‚åœ¨ç³»ç»Ÿè¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œå°†ä¼šæŠŠè¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡ŒäºŒæ¬¡å›æ”¶ã€‚</p>
</blockquote>
<h5 id="å¼±å¼•ç”¨"><a href="#å¼±å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨"></a>å¼±å¼•ç”¨</h5><blockquote>
<p>WeakReference ç±»å®ç°å¼±å¼•ç”¨ã€‚å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†ä¹‹å‰ã€‚åœ¨åƒåœ¾æ”¶é›†å™¨å·¥ä½œæ—¶ï¼Œæ— è®ºå†…å­˜æ˜¯å¦è¶³å¤Ÿéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚</p>
</blockquote>
<h5 id="è™šå¼•ç”¨"><a href="#è™šå¼•ç”¨" class="headerlink" title="è™šå¼•ç”¨"></a>è™šå¼•ç”¨</h5><blockquote>
<p>PhantomReference ç±»å®ç°è™šå¼•ç”¨ã€‚æ— æ³•é€šè¿‡è™šå¼•ç”¨è·å–ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨å…³è”çš„å”¯ä¸€ç›®çš„å°±æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</p>
</blockquote>
<h4 id="2-2-4-ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡"><a href="#2-2-4-ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡" class="headerlink" title="2.2.4 ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡"></a>2.2.4 ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡</h4><blockquote>
<p>å³ä½¿åœ¨å¯è¾¾æ€§åˆ†æç®—æ³•ä¸­ä¸å¯è¾¾çš„å¯¹è±¡ï¼Œä¹Ÿå¹¶éæ˜¯â€œfacebookâ€çš„ï¼Œè¿™æ—¶å€™å®ƒä»¬æš‚æ—¶å‡ºäºâ€œç¼“åˆ‘â€é˜¶æ®µï¼Œä¸€ä¸ªå¯¹è±¡çš„çœŸæ­£æ­»äº¡è‡³å°‘è¦ç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼šå¦‚æœå¯¹è±¡åœ¨è¿›è¡Œä¸­å¯è¾¾æ€§åˆ†æåå‘ç°æ²¡æœ‰ä¸ GC Roots ç›¸è¿æ¥çš„å¼•ç”¨é“¾ï¼Œé‚£ä»–å°†ä¼šè¢«ç¬¬ä¸€æ¬¡æ ‡è®°å¹¶ä¸”è¿›è¡Œä¸€æ¬¡ç­›é€‰ï¼Œç­›é€‰æ¡ä»¶æ˜¯æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ã€‚å½“å¯¹è±¡æ²¡æœ‰è¦†ç›– finalize() æ–¹æ³•ï¼Œæˆ–è€… finalize() æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ï¼Œè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æƒ…å†µéƒ½è§†ä¸ºâ€œæ²¡æœ‰å¿…è¦æ‰§è¡Œâ€ã€‚<br><br>å¦‚æœè¿™ä¸ªå¯¹è±¡è¢«åˆ¤å®šä¸ºæœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ç«Ÿä¼šæ”¾ç½®åœ¨ä¸€ä¸ªå«åš F-Queue çš„é˜Ÿåˆ—ä¸­ï¼Œå¹¶åœ¨ç¨åç”±ä¸€ä¸ªç”±è™šæ‹Ÿæœºè‡ªåŠ¨å»ºç«‹çš„ã€ä½ä¼˜å…ˆçº§çš„ Finalizer çº¿ç¨‹å»æ‰§è¡Œå®ƒã€‚è¿™é‡Œæ‰€è°“çš„â€œæ‰§è¡Œâ€æ˜¯æŒ‡è™šæ‹Ÿæœºä¼šå‡ºå‘è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸æ‰¿è¯ºæˆ–ç­‰å¾…ä»–è¿è¡Œç»“æŸã€‚finalize() æ–¹æ³•æ˜¯å¯¹è±¡é€ƒè„±æ­»äº¡å‘½è¿çš„æœ€åä¸€æ¬¡æœºä¼šï¼Œç¨å GC å°†å¯¹ F-Queue ä¸­çš„å¯¹è±¡è¿›è¡Œç¬¬äºŒæ¬¡å°è§„æ¨¡çš„æ ‡è®°ï¼Œå¦‚æœå¯¹è±¡è¦åœ¨ finalize() ä¸­æˆåŠŸæ‹¯æ•‘è‡ªå·± â€”â€” åªè¦é‡æ–°ä¸å¼•ç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ç®€å†å…³è”å³å¯ã€‚<br><br>finalize() æ–¹æ³•åªä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ã€‚</p>
</blockquote>
<h4 id="2-2-5-å›æ”¶æ–¹æ³•åŒº"><a href="#2-2-5-å›æ”¶æ–¹æ³•åŒº" class="headerlink" title="2.2.5 å›æ”¶æ–¹æ³•åŒº"></a>2.2.5 å›æ”¶æ–¹æ³•åŒº</h4><blockquote>
<p>åœ¨å †ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œä¸€æ¬¡åƒåœ¾å›æ”¶ä¸€èˆ¬å¯ä»¥å›æ”¶ 70% ~ 95% çš„ç©ºé—´ï¼Œè€Œæ°¸ä¹…ä»£çš„åƒåœ¾æ”¶é›†æ•ˆç‡è¿œä½äºæ­¤ã€‚<br><br>æ°¸ä¹…ä»£åƒåœ¾å›æ”¶ä¸»è¦ä¸¤éƒ¨åˆ†å†…å®¹ï¼šåºŸå¼ƒçš„å¸¸é‡å’Œæ— ç”¨çš„ç±»ã€‚</p>
</blockquote>
<p>åˆ¤æ–­åºŸå¼ƒå¸¸é‡ï¼šä¸€èˆ¬æ˜¯åˆ¤æ–­æ²¡æœ‰è¯¥å¸¸é‡çš„å¼•ç”¨ã€‚<br><br>åˆ¤æ–­æ— ç”¨çš„ç±»ï¼šè¦ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ <br></p>
<ul>
<li>è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ Java å †ä¸­ä¸å­˜åœ¨è¯¥ç±»çš„ä»»ä½•å®ä¾‹</li>
<li>åŠ è½½è¯¥ç±»çš„ ClassLoader å·²ç»è¢«å›æ”¶</li>
<li>è¯¥ç±»å¯¹åº”çš„ java.lang.Class å¯¹è±¡æ²¡æœ‰ä»»ä½•åœ°æ–¹å‘—å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•</li>
</ul>
<h3 id="2-3-åƒåœ¾å›æ”¶ç®—æ³•"><a href="#2-3-åƒåœ¾å›æ”¶ç®—æ³•" class="headerlink" title="2.3 åƒåœ¾å›æ”¶ç®—æ³•"></a>2.3 åƒåœ¾å›æ”¶ç®—æ³•</h3><blockquote>
<p>ä»…æä¾›æ€è·¯</p>
</blockquote>
<h4 id="2-3-1-æ ‡è®°-â€”â€”-æ¸…é™¤ç®—æ³•"><a href="#2-3-1-æ ‡è®°-â€”â€”-æ¸…é™¤ç®—æ³•" class="headerlink" title="2.3.1 æ ‡è®° â€”â€” æ¸…é™¤ç®—æ³•"></a>2.3.1 æ ‡è®° â€”â€” æ¸…é™¤ç®—æ³•</h4><blockquote>
<p>ç›´æ¥æ ‡è®°æ¸…é™¤å°±å¯ã€‚</p>
</blockquote>
<p>ä¸¤ä¸ªä¸è¶³ï¼š</p>
<ul>
<li>æ•ˆç‡ä¸é«˜</li>
<li>ç©ºé—´ä¼šäº§ç”Ÿå¤§é‡ç¢ç‰‡</li>
</ul>
<h4 id="2-3-2-å¤åˆ¶ç®—æ³•"><a href="#2-3-2-å¤åˆ¶ç®—æ³•" class="headerlink" title="2.3.2 å¤åˆ¶ç®—æ³•"></a>2.3.2 å¤åˆ¶ç®—æ³•</h4><blockquote>
<p>æŠŠç©ºé—´åˆ†æˆä¸¤å—ï¼Œæ¯æ¬¡åªå¯¹å…¶ä¸­ä¸€å—è¿›è¡Œ GCã€‚å½“è¿™å—å†…å­˜ä½¿ç”¨å®Œæ—¶ï¼Œå°±å°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šé¢ã€‚</p>
</blockquote>
<p>è§£å†³å‰ä¸€ç§æ–¹æ³•çš„ä¸è¶³ï¼Œä½†æ˜¯ä¼šé€ æˆç©ºé—´åˆ©ç”¨ç‡ä½ä¸‹ã€‚å› ä¸ºå¤§å¤šæ•°æ–°ç”Ÿä»£å¯¹è±¡éƒ½ä¸ä¼šç†¬è¿‡ç¬¬ä¸€æ¬¡ GCã€‚æ‰€ä»¥æ²¡å¿…è¦ 1 : 1 åˆ’åˆ†ç©ºé—´ã€‚å¯ä»¥åˆ†ä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivor ç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden ç©ºé—´å’Œå…¶ä¸­ä¸€å— Survivorã€‚å½“å›æ”¶æ—¶ï¼Œå°† Eden å’Œ Survivor ä¸­è¿˜å­˜æ´»çš„å¯¹è±¡ä¸€æ¬¡æ€§å¤åˆ¶åˆ°å¦ä¸€å— Survivor ä¸Šï¼Œæœ€åæ¸…ç† Eden å’Œ Survivor ç©ºé—´ã€‚å¤§å°æ¯”ä¾‹ä¸€èˆ¬æ˜¯ 8 : 1 : 1ï¼Œæ¯æ¬¡æµªè´¹ 10% çš„ Survivor ç©ºé—´ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœå­˜æ´»çš„å¤§äº 10% æ€ä¹ˆåŠï¼Ÿè¿™é‡Œé‡‡ç”¨ä¸€ç§åˆ†é…æ‹…ä¿ç­–ç•¥ï¼šå¤šå‡ºæ¥çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚</p>
<h4 id="2-3-3-æ ‡è®°-æ•´ç†ç®—æ³•"><a href="#2-3-3-æ ‡è®°-æ•´ç†ç®—æ³•" class="headerlink" title="2.3.3 æ ‡è®°-æ•´ç†ç®—æ³•"></a>2.3.3 æ ‡è®°-æ•´ç†ç®—æ³•</h4><blockquote>
<p>ä¸åŒäºé’ˆå¯¹æ–°ç”Ÿä»£çš„å¤åˆ¶ç®—æ³•ï¼Œé’ˆå¯¹è€å¹´ä»£çš„ç‰¹ç‚¹ï¼Œåˆ›å»ºè¯¥ç®—æ³•ã€‚ä¸»è¦æ˜¯æŠŠå­˜æ´»å¯¹è±¡ç§»åˆ°å†…å­˜çš„ä¸€ç«¯ã€‚</p>
</blockquote>
<h4 id="2-3-4-åˆ†ä»£å›æ”¶"><a href="#2-3-4-åˆ†ä»£å›æ”¶" class="headerlink" title="2.3.4 åˆ†ä»£å›æ”¶"></a>2.3.4 åˆ†ä»£å›æ”¶</h4><blockquote>
<p>æ ¹æ®å­˜æ´»å¯¹è±¡åˆ’åˆ†å‡ å—å†…å­˜åŒºï¼Œä¸€èˆ¬æ˜¯åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚ç„¶åæ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹åˆ¶å®šç›¸åº”çš„å›æ”¶ç®—æ³•ã€‚</p>
</blockquote>
<h5 id="æ–°ç”Ÿä»£"><a href="#æ–°ç”Ÿä»£" class="headerlink" title="æ–°ç”Ÿä»£"></a>æ–°ç”Ÿä»£</h5><blockquote>
<p>æ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œåªæœ‰å°‘é‡å­˜æ´»ï¼Œé€‰ç”¨å¤åˆ¶ç®—æ³•æ¯”è¾ƒåˆç†ã€‚</p>
</blockquote>
<h5 id="è€å¹´ä»£"><a href="#è€å¹´ä»£" class="headerlink" title="è€å¹´ä»£"></a>è€å¹´ä»£</h5><blockquote>
<p>è€å¹´ä»£ä¸­å¯¹è±¡å­˜æ´»ç‡è¾ƒé«˜ã€æ²¡æœ‰é¢å¤–çš„ç©ºé—´åˆ†é…å¯¹å®ƒè¿›è¡Œæ‹…ä¿ã€‚æ‰€ä»¥å¿…é¡»ä½¿ç”¨ <code>æ ‡è®° â€”â€” æ¸…é™¤</code> æˆ–è€… <code>æ ‡è®° â€”â€” æ•´ç†</code> ç®—æ³•å›æ”¶ã€‚</p>
</blockquote>
<h3 id="2-4-HotSpot-çš„ç®—æ³•å®ç°"><a href="#2-4-HotSpot-çš„ç®—æ³•å®ç°" class="headerlink" title="2.4 HotSpot çš„ç®—æ³•å®ç°"></a>2.4 HotSpot çš„ç®—æ³•å®ç°</h3><blockquote>
<p>// å¾…å¡«</p>
</blockquote>
<h3 id="2-5-åƒåœ¾å›æ”¶å™¨"><a href="#2-5-åƒåœ¾å›æ”¶å™¨" class="headerlink" title="2.5 åƒåœ¾å›æ”¶å™¨"></a>2.5 åƒåœ¾å›æ”¶å™¨</h3><blockquote>
<p>æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶çš„ç†è®ºï¼Œè€Œåƒåœ¾å›æ”¶å™¨æ˜¯å†…å­˜å›æ”¶çš„å®è·µã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/hotspotGCDevice.png" alt=""><br><br>è¯´æ˜ï¼šå¦‚æœä¸¤ä¸ªæ”¶é›†å™¨ä¹‹é—´å­˜åœ¨è¿çº¿è¯´æ˜ä»–ä»¬ä¹‹é—´å¯ä»¥æ­é…ä½¿ç”¨ã€‚</p>
<h4 id="2-5-1-Serial-æ”¶é›†å™¨"><a href="#2-5-1-Serial-æ”¶é›†å™¨" class="headerlink" title="2.5.1 Serial æ”¶é›†å™¨"></a>2.5.1 Serial æ”¶é›†å™¨</h4><blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨ã€‚æ„å‘³ç€å®ƒåªä¼šä½¿ç”¨ä¸€ä¸ª CPU æˆ–ä¸€æ¡æ”¶é›†çº¿ç¨‹å»å®Œæˆæ”¶é›†å·¥ä½œï¼Œå¹¶ä¸”åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶å¿…é¡»æš‚åœå…¶å®ƒæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ç›´åˆ°æ”¶é›†ç»“æŸã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/serial.png" alt=""></p>
<h4 id="2-5-2-ParNew-æ”¶é›†å™¨"><a href="#2-5-2-ParNew-æ”¶é›†å™¨" class="headerlink" title="2.5.2 ParNew æ”¶é›†å™¨"></a>2.5.2 ParNew æ”¶é›†å™¨</h4><blockquote>
<p>å¯ä»¥è®¤ä¸ºæ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/parnew.png" alt=""></p>
<h5 id="å¹¶è¡Œï¼šParallel"><a href="#å¹¶è¡Œï¼šParallel" class="headerlink" title="å¹¶è¡Œï¼šParallel"></a>å¹¶è¡Œï¼šParallel</h5><blockquote>
<p>æŒ‡å¤šæ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œæ­¤æ—¶ç”¨æˆ·çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€</p>
</blockquote>
<h5 id="å¹¶å‘ï¼šConcurrent"><a href="#å¹¶å‘ï¼šConcurrent" class="headerlink" title="å¹¶å‘ï¼šConcurrent"></a>å¹¶å‘ï¼šConcurrent</h5><blockquote>
<p>æŒ‡ç”¨æˆ·çº¿ç¨‹å’Œåƒåœ¾å›æ”¶çº¿ç¨‹åŒæ—¶æ‰§è¡Œ(ä¸ä¸€å®šæ˜¯å¹¶è¡Œï¼Œæœ‰å¯èƒ½æ˜¯äº¤å‰æ‰§è¡Œ)ï¼Œç”¨æˆ·è¿›ç¨‹åœ¨è¿è¡Œï¼Œè€Œåƒåœ¾å›æ”¶çº¿ç¨‹åœ¨å¦ä¸€ä¸ª CPU ä¸Šè¿è¡Œã€‚</p>
</blockquote>
<h4 id="2-5-3-Parallel-Scavenge-æ”¶é›†å™¨"><a href="#2-5-3-Parallel-Scavenge-æ”¶é›†å™¨" class="headerlink" title="2.5.3 Parallel Scavenge æ”¶é›†å™¨"></a>2.5.3 Parallel Scavenge æ”¶é›†å™¨</h4><blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªæ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œä¹Ÿæ˜¯ä½¿ç”¨å¤åˆ¶ç®—æ³•å®ç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¹¶è¡Œçš„å¤šçº¿ç¨‹æ”¶é›†å™¨ã€‚</p>
</blockquote>
<p>CMS ç­‰æ”¶é›†å™¨çš„å…³æ³¨ç‚¹æ˜¯å°½å¯èƒ½åœ°ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶ç”¨æˆ·çº¿ç¨‹æ‰€åœé¡¿çš„æ—¶é—´ï¼Œè€Œ Parallel Scavenge æ”¶é›†å™¨çš„ç›®çš„æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡(Throughput = è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´ / (è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´ + åƒåœ¾æ”¶é›†æ—¶é—´))ã€‚<br><br>ä½œä¸ºä¸€ä¸ªååé‡ä¼˜å…ˆçš„æ”¶é›†å™¨ï¼Œè™šæ‹Ÿæœºä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æ§ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒæ•´åœé¡¿æ—¶é—´ã€‚è¿™å°±æ˜¯ GC çš„è‡ªé€‚åº”è°ƒæ•´ç­–ç•¥(GC Ergonomics)ã€‚</p>
<h4 id="2-5-4-Serial-Old-æ”¶é›†å™¨"><a href="#2-5-4-Serial-Old-æ”¶é›†å™¨" class="headerlink" title="2.5.4 Serial Old æ”¶é›†å™¨"></a>2.5.4 Serial Old æ”¶é›†å™¨</h4><blockquote>
<p>æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œå•çº¿ç¨‹ï¼Œä½¿ç”¨ <code>æ ‡è®° â€”â€” æ•´ç†</code>ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/serial.png" alt=""></p>
<h4 id="2-5-5-Parallel-Old-æ”¶é›†å™¨"><a href="#2-5-5-Parallel-Old-æ”¶é›†å™¨" class="headerlink" title="2.5.5 Parallel Old æ”¶é›†å™¨"></a>2.5.5 Parallel Old æ”¶é›†å™¨</h4><blockquote>
<p>Parallel Old æ˜¯ Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ã€‚å¤šçº¿ç¨‹ï¼Œä½¿ç”¨ <code>æ ‡è®° â€”â€” æ•´ç†</code></p>
</blockquote>
<p><img src="/2017/09/02/reJVM/parallelOld.png" alt=""></p>
<h4 id="2-5-6-CMS-æ”¶é›†å™¨"><a href="#2-5-6-CMS-æ”¶é›†å™¨" class="headerlink" title="2.5.6 CMS æ”¶é›†å™¨"></a>2.5.6 CMS æ”¶é›†å™¨</h4><blockquote>
<p>CMS (Concurrent Mark Sweep) æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚åŸºäº <code>æ ‡è®° â€”â€” æ¸…é™¤</code> ç®—æ³•å®ç°ã€‚</p>
</blockquote>
<p>è¿ä½œæ­¥éª¤: <br></p>
<ol>
<li>åˆå§‹æ ‡è®°(CMS initial mark)ï¼šæ ‡è®° GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡</li>
<li>å¹¶å‘æ ‡è®°(CMS concurrent mark)ï¼šè¿›è¡Œ GC Roots Tracing</li>
<li>é‡æ–°æ ‡è®°(CMS remark)ï¼šä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´çš„å˜åŠ¨éƒ¨åˆ†</li>
<li>å¹¶å‘æ¸…é™¤(CMS concurrent sweep)</li>
</ol>
<p><img src="/2017/09/02/reJVM/concurrentMarkSweep.png" alt=""></p>
<p>ç¼ºç‚¹ï¼šå¯¹ CPU èµ„æºæ•æ„Ÿã€æ— æ³•æ”¶é›†æµ®åŠ¨åƒåœ¾ã€<code>æ ‡è®° â€”â€” æ¸…é™¤</code> ç®—æ³•å¸¦æ¥çš„ç©ºé—´ç¢ç‰‡</p>
<h4 id="2-5-7-G1-æ”¶é›†å™¨"><a href="#2-5-7-G1-æ”¶é›†å™¨" class="headerlink" title="2.5.7 G1 æ”¶é›†å™¨"></a>2.5.7 G1 æ”¶é›†å™¨</h4><blockquote>
<p>é¢å‘æœåŠ¡ç«¯çš„åƒåœ¾å›æ”¶å™¨ã€‚</p>
</blockquote>
<p>ä¼˜ç‚¹ï¼šå¹¶è¡Œä¸å¹¶å‘ã€åˆ†ä»£æ”¶é›†ã€ç©ºé—´æ•´åˆã€å¯é¢„æµ‹åœé¡¿ã€‚</p>
<p>è¿ä½œæ­¥éª¤: <br></p>
<ol>
<li>åˆå§‹æ ‡è®°(Initial Marking)</li>
<li>å¹¶å‘æ ‡è®°(Concurrent Marking)</li>
<li>æœ€ç»ˆæ ‡è®°(Final Marking)</li>
<li>ç­›é€‰å›æ”¶(Live Data Counting and Evacuation)</li>
</ol>
<p><img src="/2017/09/02/reJVM/G1.png" alt=""></p>
<h3 id="2-6-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥"><a href="#2-6-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥" class="headerlink" title="2.6 å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥"></a>2.6 å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥</h3><h4 id="2-6-1-å¯¹è±¡ä¼˜å…ˆåœ¨-Eden-åˆ†é…"><a href="#2-6-1-å¯¹è±¡ä¼˜å…ˆåœ¨-Eden-åˆ†é…" class="headerlink" title="2.6.1 å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…"></a>2.6.1 å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…</h4><blockquote>
<p>å¯¹è±¡ä¸»è¦åˆ†é…åœ¨æ–°ç”Ÿä»£çš„ Eden åŒºä¸Šï¼Œå¦‚æœå¯åŠ¨äº†æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²åŒºï¼Œå°†çº¿ç¨‹ä¼˜å…ˆåœ¨ (TLAB) ä¸Šåˆ†é…ã€‚å°‘æ•°æƒ…å†µä¼šç›´æ¥åˆ†é…åœ¨è€å¹´ä»£ä¸­ã€‚</p>
</blockquote>
<p>ä¸€èˆ¬æ¥è¯´ Java å †çš„å†…å­˜æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><br><img src="/2017/09/02/reJVM/heapModel.png" alt=""></p>
<h5 id="æ–°ç”Ÿä»£-GC-Minor-GC"><a href="#æ–°ç”Ÿä»£-GC-Minor-GC" class="headerlink" title="æ–°ç”Ÿä»£ GC (Minor GC)"></a>æ–°ç”Ÿä»£ GC (Minor GC)</h5><blockquote>
<p>å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶åŠ¨ä½œï¼Œé¢‘ç¹ï¼Œé€Ÿåº¦å¿«ã€‚</p>
</blockquote>
<h5 id="è€å¹´ä»£-GC-Major-GC-Full-GC"><a href="#è€å¹´ä»£-GC-Major-GC-Full-GC" class="headerlink" title="è€å¹´ä»£ GC (Major GC / Full GC)"></a>è€å¹´ä»£ GC (Major GC / Full GC)</h5><blockquote>
<p>å‘ç”Ÿåœ¨è€å¹´ä»£çš„åƒåœ¾å›æ”¶åŠ¨ä½œï¼Œå‡ºç°äº† Major GC ç»å¸¸ä¼šä¼´éšè‡³å°‘ä¸€æ¬¡ Minor GC(éç»å¯¹)ã€‚Major GC çš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯” Minor GC æ…¢åå€ä»¥ä¸Šã€‚</p>
</blockquote>
<h4 id="2-6-2-å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£"><a href="#2-6-2-å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£" class="headerlink" title="2.6.2 å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£"></a>2.6.2 å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£</h4><h4 id="2-6-3-é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£"><a href="#2-6-3-é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£" class="headerlink" title="2.6.3 é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£"></a>2.6.3 é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£</h4><h4 id="2-6-4-åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š"><a href="#2-6-4-åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š" class="headerlink" title="2.6.4 åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š"></a>2.6.4 åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š</h4><h4 id="2-6-5-ç©ºé—´åˆ†é…æ‹…ä¿"><a href="#2-6-5-ç©ºé—´åˆ†é…æ‹…ä¿" class="headerlink" title="2.6.5 ç©ºé—´åˆ†é…æ‹…ä¿"></a>2.6.5 ç©ºé—´åˆ†é…æ‹…ä¿</h4><h2 id="3-Java-å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹"><a href="#3-Java-å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹" class="headerlink" title="3. Java å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹"></a>3. Java å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹</h2><p><img src="/2017/09/02/reJVM/cpuCacheMemory.png" alt=""></p>
<h3 id="3-1-Java-å†…å­˜æ¨¡å‹"><a href="#3-1-Java-å†…å­˜æ¨¡å‹" class="headerlink" title="3.1 Java å†…å­˜æ¨¡å‹"></a>3.1 Java å†…å­˜æ¨¡å‹</h3><blockquote>
<p>å±è”½æ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/threadMemory.png" alt=""></p>
<h4 id="3-1-1-ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„äº¤äº’"><a href="#3-1-1-ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„äº¤äº’" class="headerlink" title="3.1.1 ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„äº¤äº’"></a>3.1.1 ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„äº¤äº’</h4><table>
<thead>
<tr>
<th style="text-align:center">æ“ä½œ</th>
<th style="text-align:center">ä½œç”¨å¯¹è±¡</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">lock</td>
<td style="text-align:center">ä¸»å†…å­˜</td>
<td style="text-align:center">æŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€</td>
</tr>
<tr>
<td style="text-align:center">unlock</td>
<td style="text-align:center">ä¸»å†…å­˜</td>
<td style="text-align:center">æŠŠä¸€ä¸ªå¤„äºé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åæ‰å¯è¢«å…¶ä»–çº¿ç¨‹é”å®š</td>
</tr>
<tr>
<td style="text-align:center">read</td>
<td style="text-align:center">ä¸»å†…å­˜</td>
<td style="text-align:center">æŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿ load æ“ä½œä½¿ç”¨</td>
</tr>
<tr>
<td style="text-align:center">load</td>
<td style="text-align:center">å·¥ä½œå†…å­˜</td>
<td style="text-align:center">æŠŠ read æ“ä½œä»ä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜ä¸­</td>
</tr>
<tr>
<td style="text-align:center">use</td>
<td style="text-align:center">å·¥ä½œå†…å­˜</td>
<td style="text-align:center">æŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“ï¼Œ<br> æ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œ</td>
</tr>
<tr>
<td style="text-align:center">assign</td>
<td style="text-align:center">å·¥ä½œå†…å­˜</td>
<td style="text-align:center">æŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹æ¥æ”¶åˆ°çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œ<br> æ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œ</td>
</tr>
<tr>
<td style="text-align:center">store</td>
<td style="text-align:center">å·¥ä½œå†…å­˜</td>
<td style="text-align:center">æŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿ write æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:center">write</td>
<td style="text-align:center">å·¥ä½œå†…å­˜</td>
<td style="text-align:center">æŠŠ store æ“ä½œä»å·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­</td>
</tr>
</tbody>
</table>
<h4 id="3-1-2-å¯¹äº-volatile-å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™"><a href="#3-1-2-å¯¹äº-volatile-å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™" class="headerlink" title="3.1.2 å¯¹äº volatile å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™"></a>3.1.2 å¯¹äº volatile å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™</h4><blockquote>
<p>å…³é”®å­— volatile æ˜¯ Java è™šæ‹Ÿæœºæä¾›çš„æœ€è½»é‡çº§çš„åŒæ­¥æœºåˆ¶ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªå˜é‡è¢«å®šä¹‰ä¸º volatile çš„ç‰¹æ€§ï¼š<br></p>
<ol>
<li>ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ã€‚ä½†æ˜¯æ“ä½œå¹¶éåŸå­æ“ä½œï¼Œå¹¶å‘æƒ…å†µä¸‹ä¸å®‰å…¨ã€‚<br></li>
</ol>
<blockquote>
<p>å¦‚æœä¸ç¬¦åˆ <code>è¿ç®—ç»“æœå¹¶ä¸ä¾èµ–å˜é‡å½“å‰å€¼ï¼Œæˆ–è€…èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¿®æ”¹å˜é‡çš„å€¼</code> å’Œ <code>å˜é‡ä¸éœ€è¦ä¸å…¶ä»–çš„çŠ¶æ€å˜é‡å…±åŒå‚ä¸ä¸å˜çº¦æŸ</code> å°±è¦é€šè¿‡åŠ é”(ä½¿ç”¨ synchronize æˆ– java.util.concurrent ä¸­çš„åŸå­ç±»)æ¥ä¿è¯åŸå­æ€§ã€‚</p>
</blockquote>
<ol>
<li>ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ã€‚</li>
</ol>
<blockquote>
<p>é€šè¿‡æ’å…¥å†…å­˜å±éšœä¿è¯ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<h4 id="3-1-3-å¯¹äº-long-å’Œ-double-å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™"><a href="#3-1-3-å¯¹äº-long-å’Œ-double-å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™" class="headerlink" title="3.1.3 å¯¹äº long å’Œ double å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™"></a>3.1.3 å¯¹äº long å’Œ double å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™</h4><blockquote>
<p>Java è¦æ±‚å¯¹äºä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„å…«ä¸ªæ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œä½†æ˜¯å¯¹äº 64 ä½çš„æ•°æ®ç±»å‹ï¼Œæœ‰ä¸€æ¡å®½æ¾çš„è§„å®šï¼šå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢« volatile ä¿®é¥°çš„ 64 ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡ 32 ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œå³å…è®¸è™šæ‹Ÿæœºå®ç°é€‰æ‹©å¯ä»¥ä¸ä¿è¯ 64 ä½æ•°æ®ç±»å‹çš„ loadã€storeã€read å’Œ write è¿™ 4 ä¸ªæ“ä½œçš„åŸå­æ€§ã€‚è¿™å°±æ˜¯ long å’Œ double çš„éåŸå­æ€§åå®šã€‚</p>
</blockquote>
<h4 id="3-1-4-åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§"><a href="#3-1-4-åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§" class="headerlink" title="3.1.4 åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§"></a>3.1.4 åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§</h4><blockquote>
<p>å›é¡¾ä¸‹å¹¶å‘ä¸‹åº”è¯¥æ³¨æ„æ“ä½œçš„é‚£äº›ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼ŒåŒæ—¶åŠ æ·±ç†è§£ã€‚</p>
</blockquote>
<ul>
<li>åŸå­æ€§(Atomicity)</li>
</ul>
<blockquote>
<p>ç”± Java å†…å­˜æ¨¡å‹æ¥ç›´æ¥ä¿è¯çš„åŸå­æ€§å˜é‡æ“ä½œåŒ…æ‹¬ readã€loadã€assignã€useã€store å’Œ writeã€‚å¤§è‡´å¯ä»¥è®¤ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚åŒæ—¶ lock å’Œ unlock å¯ä»¥ä¿è¯æ›´å¤§èŒƒå›´æ“ä½œçš„åŸå­æ€§ã€‚è€Œ synchronize åŒæ­¥å—æ“ä½œçš„åŸå­æ€§æ˜¯ç”¨æ›´é«˜å±‚æ¬¡çš„å­—èŠ‚ç æŒ‡ä»¤ monitorenter å’Œ monitorexit æ¥éšå¼æ“ä½œçš„ã€‚</p>
</blockquote>
<ul>
<li>å¯è§æ€§(Visibility)</li>
</ul>
<blockquote>
<p>æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿèƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªé€šçŸ¥ã€‚ä¸»è¦æ“ä½œç»†èŠ‚å°±æ˜¯ä¿®æ”¹å€¼åå°†å€¼åŒæ­¥è‡³ä¸»å†…å­˜(volatile å€¼ä½¿ç”¨å‰éƒ½ä¼šä»ä¸»å†…å­˜åˆ·æ–°)ï¼Œé™¤äº† volatile è¿˜æœ‰ synchronize å’Œ final å¯ä»¥ä¿è¯å¯è§æ€§ã€‚åŒæ­¥å—çš„å¯è§æ€§æ˜¯ç”±â€œå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥ä¼šä¸»å†…å­˜ä¸­( storeã€write æ“ä½œ)â€è¿™æ¡è§„åˆ™è·å¾—ã€‚è€Œ final å¯è§æ€§æ˜¯æŒ‡ï¼šè¢« final ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦å®Œæˆï¼Œå¹¶ä¸”æ„é€ å™¨æ²¡æœ‰æŠŠ â€œthisâ€ çš„å¼•ç”¨ä¼ é€’å‡ºå»( this å¼•ç”¨é€ƒé€¸æ˜¯ä¸€ä»¶å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå…¶ä»–çº¿ç¨‹æœ‰å¯èƒ½é€šè¿‡è¿™ä¸ªå¼•ç”¨è®¿é—®åˆ°â€œåˆå§‹åŒ–äº†ä¸€åŠâ€çš„å¯¹è±¡)ï¼Œé‚£åœ¨å…¶ä»–çº¿ç¨‹ä¸­å°±èƒ½çœ‹è§ final å­—æ®µçš„å€¼ã€‚</p>
</blockquote>
<ul>
<li>æœ‰åºæ€§(Ordering)</li>
</ul>
<blockquote>
<p>å¦‚æœåœ¨è¢«çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚å‰åŠå¥æŒ‡â€œçº¿ç¨‹å†…è¡¨ç°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ŒååŠå¥æ˜¯æŒ‡â€œæŒ‡ä»¤é‡æ’â€ç°è±¡å’Œâ€œå·¥ä½œå†…å­˜ä¸ä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿâ€ç°è±¡ã€‚Java è¯­è¨€é€šè¿‡ volatile å’Œ synchronize ä¸¤ä¸ªå…³é”®å­—æ¥ä¿è¯çº¿ç¨‹ä¹‹é—´æ“ä½œçš„æœ‰åºæ€§ã€‚volatile è‡ªèº«å°±ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œè€Œ synchronize åˆ™æ˜¯ç”±â€œä¸€ä¸ªå˜é‡åœ¨åŒä¸€æ—¶åˆ»æŒ‡å…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œ lock æ“ä½œâ€è¿™æ¡è§„åˆ™è·å¾—ï¼Œè¿™æ¡è§„åˆ™å†³å®šäº†æŒæœ‰åŒä¸€ä¸ªé”çš„ä¸¤ä¸ªåŒæ­¥å—åªèƒ½ä¸²è¡Œçš„è¿›å…¥ã€‚</p>
</blockquote>
<h4 id="3-1-5-å…ˆè¡Œå‘ç”ŸåŸåˆ™"><a href="#3-1-5-å…ˆè¡Œå‘ç”ŸåŸåˆ™" class="headerlink" title="3.1.5 å…ˆè¡Œå‘ç”ŸåŸåˆ™"></a>3.1.5 å…ˆè¡Œå‘ç”ŸåŸåˆ™</h4><blockquote>
<p>ä¹Ÿå°±æ˜¯ happens-before åŸåˆ™ã€‚è¿™ä¸ªåŸåˆ™æ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«äº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¸»è¦ä¾æ®ã€‚å…ˆè¡Œå‘ç”Ÿæ˜¯ Java å†…å­˜æ¨¡å‹ä¸­å®šä¹‰çš„ä¸¤é¡¹æ“ä½œä¹‹é—´çš„ååºå…³ç³»ã€‚</p>
</blockquote>
<p>å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»</p>
<table>
<thead>
<tr>
<th style="text-align:center">è§„åˆ™</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç¨‹åºæ¬¡åºè§„åˆ™</td>
<td style="text-align:center">åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œä»£ç æŒ‰ç…§ä¹¦å†™çš„æ§åˆ¶æµé¡ºåºæ‰§è¡Œ</td>
</tr>
<tr>
<td style="text-align:center">ç®¡ç¨‹é”å®šè§„åˆ™</td>
<td style="text-align:center">ä¸€ä¸ª unlock æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lock æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:center">volatile å˜é‡è§„åˆ™</td>
<td style="text-align:center">volatile å˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:center">çº¿ç¨‹å¯åŠ¨è§„åˆ™</td>
<td style="text-align:center">Thread å¯¹è±¡çš„ start() æ–¹æ³•å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œ</td>
</tr>
<tr>
<td style="text-align:center">çº¿ç¨‹ç»ˆæ­¢è§„åˆ™</td>
<td style="text-align:center">çº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹<br>(é€šè¿‡ Thread.join() æ–¹æ³•ç»“æŸã€ Thread.isAlive() çš„è¿”å›å€¼æ£€æµ‹)</td>
</tr>
<tr>
<td style="text-align:center">çº¿ç¨‹ä¸­æ–­è§„åˆ™</td>
<td style="text-align:center">å¯¹çº¿ç¨‹ interrupt() æ–¹æ³•è°ƒç”¨ä¼˜å…ˆå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿ <br> (é€šè¿‡ Thread.interrupted() æ–¹æ³•æ£€æµ‹)</td>
</tr>
<tr>
<td style="text-align:center">å¯¹è±¡ç»ˆç»“è§„åˆ™</td>
<td style="text-align:center">ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆ(æ„é€ å‡½æ•°æ‰§è¡Œç»“æŸ)å…ˆè¡Œå‘ç”Ÿäºå®ƒçš„ finalize() æ–¹æ³•çš„å¼€å§‹</td>
</tr>
<tr>
<td style="text-align:center">ä¼ é€’æ€§</td>
<td style="text-align:center">å¦‚æœæ“ä½œ A å…ˆäº æ“ä½œ B å‘ç”Ÿï¼Œæ“ä½œ B å…ˆäº æ“ä½œ C å‘ç”Ÿï¼Œé‚£ä¹ˆæ“ä½œ A å…ˆäº æ“ä½œ C</td>
</tr>
</tbody>
</table>
<h3 id="3-2-Java-ä¸çº¿ç¨‹"><a href="#3-2-Java-ä¸çº¿ç¨‹" class="headerlink" title="3.2 Java ä¸çº¿ç¨‹"></a>3.2 Java ä¸çº¿ç¨‹</h3><h4 id="3-2-1-çº¿ç¨‹çš„å®ç°"><a href="#3-2-1-çº¿ç¨‹çš„å®ç°" class="headerlink" title="3.2.1 çº¿ç¨‹çš„å®ç°"></a>3.2.1 çº¿ç¨‹çš„å®ç°</h4><h5 id="ä½¿ç”¨å†…æ ¸çº¿ç¨‹å®ç°"><a href="#ä½¿ç”¨å†…æ ¸çº¿ç¨‹å®ç°" class="headerlink" title="ä½¿ç”¨å†…æ ¸çº¿ç¨‹å®ç°"></a>ä½¿ç”¨å†…æ ¸çº¿ç¨‹å®ç°</h5><blockquote>
<p>ç›´æ¥ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ”¯æŒçš„çº¿ç¨‹ï¼Œè¿™ç§çº¿ç¨‹ç”±å†…æ ¸å®Œæˆåˆ‡æ¢ã€‚ç¨‹åºä¸€èˆ¬ä¸ä¼šç›´æ¥å»ä½¿ç”¨å†…æ ¸çº¿ç¨‹ï¼Œè€Œæ˜¯å»ä½¿ç”¨å†…æ ¸çº¿ç¨‹çš„ä¸€ç§é«˜çº§æ¥å£ â€”â€” è½»é‡çº§è¿›ç¨‹(LWP)ï¼Œè½»é‡çº§è¿›ç¨‹å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è®²çš„çº¿ç¨‹ï¼Œæ¯ä¸ªè½»é‡çº§è¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹æ”¯æŒã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/klt.png" alt=""></p>
<h5 id="ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å®ç°"><a href="#ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å®ç°" class="headerlink" title="ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å®ç°"></a>ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å®ç°</h5><blockquote>
<p>å¹¿ä¹‰ä¸Šæ¥è¯´ï¼Œåªè¦ä¸æ˜¯å†…æ ¸çº¿ç¨‹å°±å¯ä»¥è®¤ä¸ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºè½»é‡çº§è¿›ç¨‹ä¹Ÿå±äºç”¨æˆ·çº¿ç¨‹ã€‚ç‹­ä¹‰ä¸Šè¯´æ˜¯å®Œå…¨å»ºç«‹åœ¨ç”¨æˆ·ç©ºé—´çš„çº¿ç¨‹åº“ä¸Šçš„å¹¶ä¸”å†…æ ¸ç³»ç»Ÿä¸å¯æ„ŸçŸ¥çš„ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/ut.png" alt=""></p>
<h5 id="ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å¤¹åŠ è½»é‡çº§è¿›ç¨‹æ··åˆå®ç°"><a href="#ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å¤¹åŠ è½»é‡çº§è¿›ç¨‹æ··åˆå®ç°" class="headerlink" title="ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å¤¹åŠ è½»é‡çº§è¿›ç¨‹æ··åˆå®ç°"></a>ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å¤¹åŠ è½»é‡çº§è¿›ç¨‹æ··åˆå®ç°</h5><blockquote>
<p>ç›´æ¥çœ‹å›¾</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/kltAndut.png" alt=""></p>
<h5 id="Java-çº¿ç¨‹å®ç°"><a href="#Java-çº¿ç¨‹å®ç°" class="headerlink" title="Java çº¿ç¨‹å®ç°"></a>Java çº¿ç¨‹å®ç°</h5><blockquote>
<p>å¹³å°ä¸åŒå®ç°æ–¹å¼ä¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¡ Java çº¿ç¨‹æ˜ å°„åˆ°ä¸€æ¡è½»é‡çº§è¿›ç¨‹ã€‚</p>
</blockquote>
<h4 id="3-2-2-Java-çº¿ç¨‹è°ƒåº¦"><a href="#3-2-2-Java-çº¿ç¨‹è°ƒåº¦" class="headerlink" title="3.2.2 Java çº¿ç¨‹è°ƒåº¦"></a>3.2.2 Java çº¿ç¨‹è°ƒåº¦</h4><h5 id="ååŒå¼çº¿ç¨‹è°ƒåº¦"><a href="#ååŒå¼çº¿ç¨‹è°ƒåº¦" class="headerlink" title="ååŒå¼çº¿ç¨‹è°ƒåº¦"></a>ååŒå¼çº¿ç¨‹è°ƒåº¦</h5><blockquote>
<p>çº¿ç¨‹æ‰§è¡Œæ—¶é—´ç”±çº¿ç¨‹è‡ªèº«æ§åˆ¶ï¼Œå®ç°ç®€å•ï¼Œåˆ‡æ¢çº¿ç¨‹è‡ªå·±å¯çŸ¥ï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚åå¤„æ˜¯æ‰§è¡Œæ—¶é—´ä¸å¯æ§ï¼Œå®¹æ˜“é˜»å¡ã€‚</p>
</blockquote>
<h5 id="æŠ¢å å¼çº¿ç¨‹è°ƒåº¦"><a href="#æŠ¢å å¼çº¿ç¨‹è°ƒåº¦" class="headerlink" title="æŠ¢å å¼çº¿ç¨‹è°ƒåº¦"></a>æŠ¢å å¼çº¿ç¨‹è°ƒåº¦</h5><blockquote>
<p>æ¯ä¸ªçº¿ç¨‹ç”±ç³»ç»Ÿæ¥åˆ†é…æ‰§è¡Œæ—¶é—´ã€‚</p>
</blockquote>
<h4 id="3-2-3-çŠ¶æ€è½¬æ¢"><a href="#3-2-3-çŠ¶æ€è½¬æ¢" class="headerlink" title="3.2.3 çŠ¶æ€è½¬æ¢"></a>3.2.3 çŠ¶æ€è½¬æ¢</h4><p>äº”ç§çŠ¶æ€ï¼š</p>
<ul>
<li>æ–°å»º(new)</li>
</ul>
<blockquote>
<p>åˆ›å»ºåå°šæœªå¯åŠ¨çš„çº¿ç¨‹ã€‚</p>
</blockquote>
<ul>
<li>è¿è¡Œ(Runable)</li>
</ul>
<blockquote>
<p>Runable åŒ…æ‹¬äº†æ“ä½œç³»ç»Ÿçº¿ç¨‹çŠ¶æ€ä¸­çš„ Running å’Œ Readyï¼Œä¹Ÿå°±æ˜¯å‡ºäºæ­¤çŠ¶æ€çš„çº¿ç¨‹æœ‰å¯èƒ½æ­£åœ¨æ‰§è¡Œï¼Œä¹Ÿæœ‰å¯èƒ½æ­£åœ¨ç­‰å¾… CPU ä¸ºä»–åˆ†é…æ—¶é—´ã€‚</p>
</blockquote>
<ul>
<li>æ— é™æœŸç­‰å¾…(Waiting)</li>
</ul>
<blockquote>
<p>å‡ºäºè¿™ç§çŠ¶æ€çš„çº¿ç¨‹ä¸ä¼šè¢« CPU åˆ†é…æ—¶é—´ï¼Œå®ƒä»¬è¦ç­‰å…¶ä»–çº¿ç¨‹æ˜¾ç¤ºçš„å”¤é†’ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ–¹æ³•ä¼šç„¶çº¿ç¨‹è¿›å…¥æ— é™æœŸç­‰å¾…çŠ¶æ€ï¼š<br>1.æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•ã€‚<br>2.æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•ã€‚<br>3.LookSupport.park() æ–¹æ³•ã€‚</p>
<ul>
<li>é™æœŸç­‰å¾…(Timed Waiting)</li>
</ul>
<blockquote>
<p>å¤„äºè¿™ç§çŠ¶æ€çš„çº¿ç¨‹ä¹Ÿä¸ä¼šåˆ†é…æ—¶é—´ï¼Œä¸è¿‡æ— éœ€ç­‰å¾…é…å…¶ä»–çº¿ç¨‹æ˜¾ç¤ºåœ°å”¤é†’ï¼Œåœ¨ä¸€å®šæ—¶é—´åä»–ä»¬ä¼šç”±ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ–¹æ³•ä¼šè®©çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…çŠ¶æ€ï¼š<br>1.Thread.sleep() æ–¹æ³•ã€‚<br>2.è®¾ç½®äº† Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•ã€‚<br>3.è®¾ç½®äº† Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•ã€‚<br>4.LockSupport.parkNanos() æ–¹æ³•ã€‚<br>5.LockSupport.parkUntil() æ–¹æ³•ã€‚</p>
<ul>
<li>é˜»å¡(Blocked)</li>
</ul>
<blockquote>
<p>çº¿ç¨‹è¢«é˜»å¡äº†ï¼Œâ€œé˜»å¡çŠ¶æ€â€å’Œâ€œç­‰å¾…çŠ¶æ€â€çš„åŒºåˆ«æ˜¯ï¼šâ€œé˜»å¡çŠ¶æ€â€åœ¨ç­‰å¾…ç€è·å–ä¸€ä¸ªæ’ä»–é”ï¼Œè¿™ä¸ªæ—¶é—´å°†åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ”¾å¼ƒè¿™ä¸ªé”çš„æ—¶å€™å‘ç”Ÿï¼›è€Œâ€œç­‰å¾…çŠ¶æ€â€åˆ™æ˜¯åœ¨ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæˆ–è€…å”¤é†’åŠ¨ä½œçš„å‘ç”Ÿã€‚åœ¨ç¨‹åºç­‰å¾…è¿›å…¥åŒæ­¥åŒºåŸŸçš„æ—¶å€™ï¼Œçº¿ç¨‹å°†è¿›å…¥è¿™ç§çŠ¶æ€ã€‚</p>
</blockquote>
<ul>
<li>ç»“æŸ(Terminated)</li>
</ul>
<blockquote>
<p>å·²ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚</p>
</blockquote>
<p><img src="/2017/09/02/reJVM/threadTranslate.png" alt=""></p>
<h2 id="4-çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–"><a href="#4-çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–" class="headerlink" title="4. çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–"></a>4. çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–</h2><blockquote>
<p>// å¾…å¡«</p>
</blockquote>
<h2 id="5-ç±»æ–‡ä»¶ç»“æ„"><a href="#5-ç±»æ–‡ä»¶ç»“æ„" class="headerlink" title="5. ç±»æ–‡ä»¶ç»“æ„"></a>5. ç±»æ–‡ä»¶ç»“æ„</h2><blockquote>
<p>// å¾…å¡«</p>
</blockquote>
<p>æœ‰ç‚¹æ‡’äº†ã€‚ã€‚ã€‚å…ˆè´´å‡ ä¸ªç½‘å€å§ã€‚</p>
<p><a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html" target="_blank" rel="external">1. Officialï¼šThe class File Format</a><br><a href="http://blog.csdn.net/luanlouis/article/details/39892027" target="_blank" rel="external">2.äº¦å±±: ã€ŠJavaè™šæ‹ŸæœºåŸç†å›¾è§£ã€‹ 1.1ã€classæ–‡ä»¶åŸºæœ¬ç»„ç»‡ç»“æ„</a></p>
<h2 id="6-è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶"><a href="#6-è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶" class="headerlink" title="6. è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶"></a>6. è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶</h2><blockquote>
<p>è™šæ‹ŸæœºæŠŠæè¿°ç±»çš„æ•°æ®ä» Class æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€è£…æ¢è§£æå’Œåˆå§‹åŒ–ï¼Œæœ€ç»ˆå½¢æˆå¯ä»¥è¢«è™šæ‹Ÿæœºç›´æ¥ä½¿ç”¨çš„ Java ç±»å‹ã€‚</p>
</blockquote>
<p>åœ¨ Java è¯­è¨€ä¸­ï¼Œç±»å‹çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–è¿‡ç¨‹éƒ½æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å®Œæˆçš„ã€‚</p>
<h3 id="6-1-ç±»åŠ è½½æ—¶æœº"><a href="#6-1-ç±»åŠ è½½æ—¶æœº" class="headerlink" title="6.1 ç±»åŠ è½½æ—¶æœº"></a>6.1 ç±»åŠ è½½æ—¶æœº</h3><h4 id="ç±»çš„ç”Ÿå‘½å‘¨æœŸ-7-ä¸ªé˜¶æ®µ"><a href="#ç±»çš„ç”Ÿå‘½å‘¨æœŸ-7-ä¸ªé˜¶æ®µ" class="headerlink" title="ç±»çš„ç”Ÿå‘½å‘¨æœŸ( 7 ä¸ªé˜¶æ®µ)"></a>ç±»çš„ç”Ÿå‘½å‘¨æœŸ( 7 ä¸ªé˜¶æ®µ)</h4><p><img src="/2017/09/02/reJVM/classLifeCircle.png" alt=""></p>
<p>å…¶ä¸­åŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€åˆå§‹åŒ–å’Œå¸è½½è¿™äº”ä¸ªé˜¶æ®µçš„é¡ºåºæ˜¯ç¡®å®šçš„ã€‚è§£æé˜¶æ®µå¯ä»¥åœ¨åˆå§‹åŒ–ä¹‹åå†å¼€å§‹(è¿è¡Œæ—¶ç»‘å®šæˆ–åŠ¨æ€ç»‘å®šæˆ–æ™šæœŸç»‘å®š)ã€‚</p>
<p>ä»¥ä¸‹äº”ç§æƒ…å†µå¿…é¡»å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–(è€ŒåŠ è½½ã€éªŒè¯ã€å‡†å¤‡è‡ªç„¶éœ€è¦åœ¨æ­¤ä¹‹å‰å®Œæˆ)ï¼š</p>
<ol>
<li>é‡åˆ° newã€getstaticã€putstatic æˆ– invokestatic è¿™ 4 æ¡å­—èŠ‚ç æŒ‡ä»¤æ—¶æ²¡åˆå§‹åŒ–è§¦å‘åˆå§‹åŒ–ã€‚ä½¿ç”¨åœºæ™¯ï¼šä½¿ç”¨ new å…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡ã€è¯»å–ä¸€ä¸ªç±»çš„é™æ€å­—æ®µ(è¢« final ä¿®é¥°ã€å·²åœ¨ç¼–è¯‘æœŸæŠŠç»“æœæ”¾å…¥å¸¸é‡æ± çš„é™æ€å­—æ®µé™¤å¤–)ã€è°ƒç”¨ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨ java.lang.reflect åŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨çš„æ—¶å€™ã€‚</li>
<li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</li>
<li>å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€æŒ‡å®šä¸€ä¸ªè¦åŠ è½½çš„ä¸»ç±»(åŒ…å« main() æ–¹æ³•çš„é‚£ä¸ªç±»)ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±»ã€‚ </li>
<li>å½“ä½¿ç”¨ JDK 1.7 çš„åŠ¨æ€è¯­è¨€æ”¯æŒæ—¶ï¼Œå¦‚æœä¸€ä¸ª java.lang.invoke.MethodHandle å®ä¾‹æœ€åçš„è§£æç»“æœ REF_getStaticã€REF_putStaticã€REF_invokeStatic çš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„æ‰€å¯¹åº”çš„ç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€å…ˆè§¦å‘å…¶åˆå§‹åŒ–ã€‚</li>
</ol>
<p>å‰é¢çš„äº”ç§æ–¹å¼æ˜¯å¯¹ä¸€ä¸ªç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰å¼•ç”¨ç±»çš„æ–¹æ³•éƒ½ä¸ä¼šè§¦å‘åˆå§‹åŒ–ï¼Œä½³ä½œè¢«åŠ¨å¼•ç”¨ã€‚ä¸¾å‡ ä¸ªä¾‹å­~</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"SuperClass init!"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> value = <span class="number">1127</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"SubClass init!"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstClass</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"ConstClass init!"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String HELLOWORLD = <span class="string">"hello world!"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NotInitialization</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		System.out.println(SubClass.value);</div><div class="line">		<span class="comment">/**</span></div><div class="line">		 *  output : SuperClass init!</div><div class="line">		 * </div><div class="line">		 * é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å¯¹è±¡ä¸ä¼šå¯¼è‡´å­ç±»çš„åˆå§‹åŒ–</div><div class="line">		 * åªæœ‰ç›´æ¥å®šä¹‰è¿™ä¸ªå­—æ®µçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–</div><div class="line">		 */</div><div class="line">		 </div><div class="line">		SuperClass[] sca = <span class="keyword">new</span> SuperClass[<span class="number">10</span>];</div><div class="line">		<span class="comment">/**</span></div><div class="line">		 *  output : </div><div class="line">		 * </div><div class="line">		 * é€šè¿‡æ•°ç»„å®šä¹‰æ¥å¼•ç”¨ç±»ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</div><div class="line">		 * è™šæ‹Ÿæœºåœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ç±»</div><div class="line">		 */</div><div class="line">		 </div><div class="line">		System.out.println(ConstClass.HELLOWORLD);</div><div class="line">		<span class="comment">/**</span></div><div class="line">		 *  output : </div><div class="line">		 * </div><div class="line">		 * å¸¸é‡åœ¨ç¼–è¯‘é˜¶æ®µä¼šå­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± å½“ä¸­ï¼Œæœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ç›´æ¥å¼•ç”¨åˆ°å®šä¹‰ç±»å¸¸é‡çš„ç±»ï¼Œ</div><div class="line">		 * å› æ­¤ä¸ä¼šè§¦å‘å®šä¹‰å¸¸é‡çš„ç±»çš„åˆå§‹åŒ–ã€‚</div><div class="line">		 * â€œhello worldâ€ åœ¨ç¼–è¯‘æœŸå¸¸é‡ä¼ æ’­ä¼˜åŒ–æ—¶å·²ç»å­˜å‚¨åˆ° NotInitialization å¸¸é‡æ± ä¸­äº†ã€‚</div><div class="line">		 */</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-2-ç±»çš„åŠ è½½è¿‡ç¨‹"><a href="#6-2-ç±»çš„åŠ è½½è¿‡ç¨‹" class="headerlink" title="6.2 ç±»çš„åŠ è½½è¿‡ç¨‹"></a>6.2 ç±»çš„åŠ è½½è¿‡ç¨‹</h4><h5 id="6-2-1-åŠ è½½"><a href="#6-2-1-åŠ è½½" class="headerlink" title="6.2.1 åŠ è½½"></a>6.2.1 åŠ è½½</h5><ol>
<li>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ¬¡ç±»çš„äºŒè¿›åˆ¶æµ(ZIP åŒ…ã€ç½‘ç»œã€è¿ç®—ç”Ÿæˆã€JSP ç”Ÿæˆã€æ•°æ®åº“è¯»å–)ã€‚</li>
<li>å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ã€‚</li>
<li>åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•å»è¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£ã€‚</li>
</ol>
<p>æ•°ç»„ç±»çš„ç‰¹æ®Šæ€§ï¼šæ•°ç»„ç±»æœ¬èº«ä¸é€šè¿‡ç±»åŠ è½½å™¨åˆ›å»ºï¼Œå®ƒæ˜¯ç”± Java è™šæ‹Ÿæœºç›´æ¥åˆ›å»ºçš„ã€‚ä½†æ•°ç»„ç±»ä¸ç±»åŠ è½½å™¨ä»ç„¶æœ‰å¾ˆå¯†åˆ‡çš„å…³ç³»ï¼Œå› ä¸ºæ•°ç»„ç±»çš„å…ƒç´ ç±»å‹æœ€ç»ˆæ˜¯è¦é ç±»åŠ è½½å™¨å»åˆ›å»ºçš„ï¼Œæ•°ç»„åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£å°±é€’å½’é‡‡ç”¨ç±»åŠ è½½åŠ è½½ã€‚</li>
<li>å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼ŒJava è™šæ‹Ÿæœºä¼šæŠŠæ•°ç»„æ ‡è®°ä¸ºå¼•å¯¼ç±»åŠ è½½å™¨å…³è”ã€‚</li>
<li>æ•°ç»„ç±»çš„å¯è§æ€§ä¸ä»–çš„ç»„ä»¶ç±»å‹çš„å¯è§æ€§ä¸€è‡´ï¼Œå¦‚æœç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£æ•°ç»„ç±»çš„å¯è§æ€§å°†é»˜è®¤ä¸º publicã€‚</li>
</ol>
<p>å†…å­˜ä¸­å®ä¾‹çš„ java.lang.Class å¯¹è±¡å­˜åœ¨æ–¹æ³•åŒºä¸­ã€‚ä½œä¸ºç¨‹åºè®¿é—®æ–¹æ³•åŒºä¸­è¿™äº›ç±»å‹æ•°æ®çš„å¤–éƒ¨æ¥å£ã€‚<br>åŠ è½½é˜¶æ®µä¸è¿æ¥é˜¶æ®µçš„éƒ¨åˆ†å†…å®¹æ˜¯äº¤å‰è¿›è¡Œçš„ï¼Œä½†æ˜¯å¼€å§‹æ—¶é—´ä¿æŒå…ˆåé¡ºåºã€‚</p>
<h5 id="6-2-2-éªŒè¯"><a href="#6-2-2-éªŒè¯" class="headerlink" title="6.2.2 éªŒè¯"></a>6.2.2 éªŒè¯</h5><blockquote>
<p>æ˜¯è¿æ¥çš„ç¬¬ä¸€æ­¥ï¼Œç¡®ä¿ Class æ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºè¦æ±‚ã€‚</p>
</blockquote>
<h5 id="æ–‡ä»¶æ ¼å¼éªŒè¯"><a href="#æ–‡ä»¶æ ¼å¼éªŒè¯" class="headerlink" title="æ–‡ä»¶æ ¼å¼éªŒè¯"></a>æ–‡ä»¶æ ¼å¼éªŒè¯</h5><ol>
<li>æ˜¯å¦ä»¥é­”æ•° 0xCAFEBABE å¼€å¤´</li>
<li>ä¸»ã€æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨å½“å‰è™šæ‹Ÿæœºå¤„ç†èŒƒå›´ä¹‹å†…</li>
<li>å¸¸é‡æ± çš„å¸¸é‡æ˜¯å¦æœ‰ä¸è¢«æ”¯æŒå¸¸é‡çš„ç±»å‹ï¼ˆæ£€æŸ¥å¸¸é‡ tag æ ‡å¿—ï¼‰</li>
<li>æŒ‡å‘å¸¸é‡çš„å„ç§ç´¢å¼•å€¼ä¸­æ˜¯å¦æœ‰æŒ‡å‘ä¸å­˜åœ¨çš„å¸¸é‡æˆ–ä¸ç¬¦åˆç±»å‹çš„å¸¸é‡</li>
<li>CONSTANT_Utf8_info å‹çš„å¸¸é‡ä¸­æ˜¯å¦æœ‰ä¸ç¬¦åˆ UTF8 ç¼–ç çš„æ•°æ®</li>
<li>Class æ–‡ä»¶ä¸­å„ä¸ªéƒ¨åˆ†é›†æ–‡ä»¶æœ¬èº«æ˜¯å¦æœ‰è¢«åˆ é™¤çš„é™„åŠ çš„å…¶ä»–ä¿¡æ¯</li>
<li>â€¦â€¦</li>
</ol>
<p>åªæœ‰é€šè¿‡è¿™ä¸ªé˜¶æ®µçš„éªŒè¯åï¼Œå­—èŠ‚æµæ‰ä¼šè¿›å…¥å†…å­˜çš„æ–¹æ³•åŒºè¿›è¡Œå­˜å‚¨ï¼Œæ‰€ä»¥åé¢ 3 ä¸ªéªŒè¯é˜¶æ®µå…¨éƒ¨æ˜¯åŸºäºæ–¹æ³•åŒºçš„å­˜å‚¨ç»“æ„è¿›è¡Œçš„ï¼Œä¸å†ç›´æ¥æ“ä½œå­—èŠ‚æµã€‚</p>
<h5 id="å…ƒæ•°æ®éªŒè¯"><a href="#å…ƒæ•°æ®éªŒè¯" class="headerlink" title="å…ƒæ•°æ®éªŒè¯"></a>å…ƒæ•°æ®éªŒè¯</h5><ol>
<li>è¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼ˆé™¤ java.lang.Object ä¹‹å¤–ï¼‰</li>
<li>è¿™ä¸ªç±»çš„çˆ¶ç±»æ˜¯å¦ç»§æ‰¿äº†ä¸å…è®¸è¢«ç»§æ‰¿çš„ç±»ï¼ˆfinal ä¿®é¥°çš„ç±»ï¼‰</li>
<li>å¦‚æœè¿™ä¸ªç±»ä¸æ˜¯æŠ½è±¡ç±»ï¼Œæ˜¯å¦å®ç°äº†å…¶çˆ¶ç±»æˆ–æ¥å£ä¹‹ä¸­è¦æ±‚å®ç°çš„æ‰€æœ‰æ–¹æ³•</li>
<li>ç±»ä¸­çš„å­—æ®µã€æ–¹æ³•æ˜¯å¦ä¸çˆ¶ç±»äº§ç”ŸçŸ›ç›¾ï¼ˆè¦†ç›–çˆ¶ç±» final å­—æ®µã€å‡ºç°ä¸ç¬¦åˆè§„èŒƒçš„é‡è½½ï¼‰</li>
</ol>
<p>è¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯å¯¹ç±»çš„å…ƒæ•°æ®ä¿¡æ¯è¿›è¡Œè¯­ä¹‰æ ¡éªŒï¼Œä¿è¯ä¸å­˜åœ¨ä¸ç¬¦åˆ Java è¯­è¨€è§„èŒƒçš„å…ƒæ•°æ®ä¿¡æ¯ã€‚</p>
<h5 id="å­—èŠ‚ç éªŒè¯"><a href="#å­—èŠ‚ç éªŒè¯" class="headerlink" title="å­—èŠ‚ç éªŒè¯"></a>å­—èŠ‚ç éªŒè¯</h5><ol>
<li>ä¿è¯ä»»æ„æ—¶åˆ»æ“ä½œæ•°æ ˆçš„æ•°æ®ç±»å‹ä¸æŒ‡ä»¤ä»£ç åºåˆ—éƒ½é¥é…åˆå·¥ä½œï¼ˆä¸ä¼šå‡ºç°æŒ‰ç…§ long ç±»å‹è¯»ä¸€ä¸ª int å‹æ•°æ®ï¼‰</li>
<li>ä¿è¯è·³è½¬æŒ‡ä»¤ä¸ä¼šè·³è½¬åˆ°æ–¹æ³•ä½“ä»¥å¤–çš„å­—èŠ‚ç æŒ‡ä»¤ä¸Š</li>
<li>ä¿è¯æ–¹æ³•ä½“ä¸­çš„ç±»å‹è½¬æ¢æ˜¯æœ‰æ•ˆçš„ï¼ˆå­ç±»å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»æ•°æ®ç±»å‹æ˜¯å®‰å…¨çš„ï¼Œåè¿‡æ¥ä¸åˆæ³•çš„ï¼‰</li>
<li>â€¦â€¦</li>
</ol>
<p>è¿™æ˜¯æ•´ä¸ªéªŒè¯è¿‡ç¨‹ä¸­æœ€å¤æ‚çš„ä¸€ä¸ªé˜¶æ®µï¼Œä¸»è¦ç›®çš„æ˜¯é€šè¿‡æ•°æ®æµå’Œæ§åˆ¶æµåˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„ã€ç¬¦åˆé€»è¾‘çš„ã€‚è¿™ä¸ªé˜¶æ®µå¯¹ç±»çš„æ–¹æ³•ä½“è¿›è¡Œæ ¡éªŒåˆ†æï¼Œä¿è¯æ ¡éªŒç±»çš„æ–¹æ³•åœ¨è¿è¡Œæ—¶ä¸ä¼šåšå‡ºå±å®³è™šæ‹Ÿæœºå®‰å…¨çš„äº‹ä»¶ã€‚</p>
<h5 id="ç¬¦å·å¼•ç”¨éªŒè¯"><a href="#ç¬¦å·å¼•ç”¨éªŒè¯" class="headerlink" title="ç¬¦å·å¼•ç”¨éªŒè¯"></a>ç¬¦å·å¼•ç”¨éªŒè¯</h5><ol>
<li>ç¬¦å·å¼•ç”¨ä¸­é€šè¿‡å­—ç¬¦åˆ›æè¿°çš„å…¨é™å®šåæ˜¯å¦èƒ½æ‰¾åˆ°å¯¹åº”çš„ç±»</li>
<li>åœ¨æŒ‡å®šç±»ä¸­æ˜¯å¦å­˜åœ¨ç¬¦æ–¹æ³•çš„å­—æ®µæè¿°ç¬¦ä»¥åŠç®€å•åç§°æ‰€æè¿°çš„æ–¹æ³•å’Œå­—æ®µ</li>
<li>ç¬¦å·å¼•ç”¨ä¸­çš„ç±»ã€å­—æ®µã€æ–¹æ³•çš„è®¿é—®æ€§ï¼ˆprivateã€protectedã€publicã€defaultï¼‰æ˜¯å¦å¯è¢«å½“å‰ç±»è®¿é—®</li>
<li>â€¦â€¦</li>
</ol>
<p>æœ€åä¸€ä¸ªé˜¶æ®µçš„æ ¡éªŒå‘ç”Ÿåœ¨è¿…ç–¾å°†ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºç›´æ¥å¼•ç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªè½¬åŒ–åŠ¨ä½œå°†åœ¨è¿æ¥çš„ç¬¬ä¸‰é˜¶æ®µâ€”â€”è§£æé˜¶æ®µä¸­å‘ç”Ÿã€‚ç¬¦å·å¼•ç”¨éªŒè¯å¯ä»¥çœ‹åšæ˜¯å¯¹ç±»è‡ªèº«ä»¥å¤–ï¼ˆå¸¸é‡æ± ä¸­çš„å„ç§ç¬¦å·å¼•ç”¨ï¼‰çš„ä¿¡æ¯è¿›è¡ŒåŒ¹é…æ€§æ ¡éªŒï¼Œè¿˜æœ‰ä»¥ä¸ŠæåŠçš„å†…å®¹ã€‚<br>ç¬¦å·å¼•ç”¨çš„ç›®çš„æ˜¯ç¡®ä¿è§£æåŠ¨ä½œèƒ½æ­£å¸¸æ‰§è¡Œï¼Œå¦‚æœæ— æ³•é€šè¿‡ç¬¦å·å¼•ç”¨éªŒè¯å°†æŠ›å‡ºä¸€ä¸ª java.lang.IncompatibleClass.ChangeError å¼‚å¸¸çš„å­ç±»ã€‚å¦‚ java.lang.IllegalAccessErrorã€java.lang.NoSuchFieldErrorã€java.lang.NoSuchMethodError ç­‰ã€‚</p>
<h5 id="6-2-3-å‡†å¤‡"><a href="#6-2-3-å‡†å¤‡" class="headerlink" title="6.2.3 å‡†å¤‡"></a>6.2.3 å‡†å¤‡</h5><blockquote>
<p>è¿™ä¸ªé˜¶æ®µæ­£å¼ä¸ºç±»åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼ï¼Œå†…å­˜åœ¨æ–¹æ³•å»ä¸­åˆ†é…(å« static ä¿®é¥°çš„å˜é‡ä¸å«å®ä¾‹å˜é‡)ã€‚</p>
</blockquote>
<p><code>public static int value = 1127;</code><br>è¿™å¥ä»£ç åœ¨åˆå§‹å€¼è®¾ç½®ä¹‹åä¸º 0ï¼Œå› ä¸ºè¿™æ—¶å€™å°šæœªå¼€å§‹æ‰§è¡Œä»»ä½• Java æ–¹æ³•ã€‚è€ŒæŠŠ value èµ‹å€¼ä¸º 1127 çš„ putstatic æŒ‡ä»¤æ˜¯ç¨‹åºè¢«ç¼–è¯‘åï¼Œå­˜æ”¾äº clinit() æ–¹æ³•ä¸­ï¼Œæ‰€ä»¥åˆå§‹åŒ–é˜¶æ®µæ‰ä¼šå¯¹ value è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>åŸºæœ¬æ•°æ®ç±»å‹çš„é›¶å€¼</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ•°æ®ç±»å‹</th>
<th style="text-align:center">é›¶å€¼</th>
<th style="text-align:center">æ•°æ®ç±»å‹</th>
<th style="text-align:center">é›¶å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">0</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">false</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">0L</td>
<td style="text-align:center">float</td>
<td style="text-align:center">0.0f</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">(short) 0</td>
<td style="text-align:center">double</td>
<td style="text-align:center">0.0d</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">â€˜\u0000â€™</td>
<td style="text-align:center">reference</td>
<td style="text-align:center">null</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">(byte) 0</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>ç‰¹æ®Šæƒ…å†µï¼šå¦‚æœç±»å­—æ®µçš„å­—æ®µå±æ€§è¡¨ä¸­å­˜åœ¨ ConstantValue å±æ€§ï¼Œåœ¨å‡†å¤‡é˜¶æ®µè™šæ‹Ÿæœºå°±ä¼šæ ¹æ® ConstantValue çš„è®¾ç½®å°† value èµ‹å€¼ä¸º 1127ã€‚</p>
<h5 id="6-2-4-è§£æ"><a href="#6-2-4-è§£æ" class="headerlink" title="6.2.4 è§£æ"></a>6.2.4 è§£æ</h5><blockquote>
<p>è¿™ä¸ªé˜¶æ®µæ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<ol>
<li>ç¬¦å·å¼•ç”¨<br>ç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥ä½¿ä»»ä½•å½¢å¼çš„å­—é¢é‡ã€‚</li>
<li>ç›´æ¥å¼•ç”¨<br>ç›´æ¥å¼•ç”¨å¯ä»¥ä½¿ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚ç›´æ¥å¼•ç”¨å’Œè¿…ç–¾çš„å†…å­˜å¸ƒå±€å®ç°æœ‰å…³</li>
</ol>
<p>è§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£ã€å­—æ®µã€ç±»æ–¹æ³•ã€æ¥å£æ–¹æ³•ã€æ–¹æ³•ç±»å‹ã€æ–¹æ³•å¥æŸ„å’Œè°ƒç”¨ç‚¹é™å®šç¬¦ 7 ç±»ç¬¦å·å¼•ç”¨è¿›è¡Œï¼Œåˆ†åˆ«å¯¹åº”äºå¸¸é‡æ± çš„ 7 ä¸­å¸¸é‡ç±»å‹ã€‚</p>
<h5 id="6-2-5-åˆå§‹åŒ–"><a href="#6-2-5-åˆå§‹åŒ–" class="headerlink" title="6.2.5 åˆå§‹åŒ–"></a>6.2.5 åˆå§‹åŒ–</h5><blockquote>
<p>å‰é¢è¿‡ç¨‹éƒ½æ˜¯ä»¥è™šæ‹Ÿæœºä¸»å¯¼ï¼Œè€Œåˆå§‹åŒ–é˜¶æ®µå¼€å§‹æ‰§è¡Œç±»ä¸­çš„ Java ä»£ç ã€‚</p>
</blockquote>
<h4 id="6-3-ç±»åŠ è½½å™¨"><a href="#6-3-ç±»åŠ è½½å™¨" class="headerlink" title="6.3 ç±»åŠ è½½å™¨"></a>6.3 ç±»åŠ è½½å™¨</h4><blockquote>
<p>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–æè¿°æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµã€‚</p>
</blockquote>
<h5 id="6-3-1-åŒäº²å§”æ´¾æ¨¡å‹"><a href="#6-3-1-åŒäº²å§”æ´¾æ¨¡å‹" class="headerlink" title="6.3.1 åŒäº²å§”æ´¾æ¨¡å‹"></a>6.3.1 åŒäº²å§”æ´¾æ¨¡å‹</h5><blockquote>
<p>ä» Java è™šæ‹Ÿæœºè§’åº¦è®²ï¼Œåªå­˜åœ¨ä¸¤ç§ç±»åŠ è½½å™¨ï¼šä¸€ç§æ˜¯å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆC++ å®ç°ï¼Œæ˜¯è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ï¼‰ï¼›å¦ä¸€ç§æ˜¯å…¶ä»–æ‰€æœ‰ç±»çš„åŠ è½½å™¨ï¼ˆJava å®ç°ï¼Œç‹¬ç«‹äºè™šæ‹Ÿæœºå¤–éƒ¨ä¸”å…¨ç»§æ‰¿è‡ª java.lang.ClassLoaderï¼‰</p>
</blockquote>
<ol>
<li><p>å¯åŠ¨ç±»åŠ è½½å™¨<br>åŠ è½½ lib ä¸‹æˆ–è¢« -Xbootclasspath è·¯å¾„ä¸‹çš„ç±»</p>
</li>
<li><p>æ‰©å±•ç±»åŠ è½½å™¨<br>åŠ è½½ lib/ext æˆ–è€…è¢« java.ext.dirs ç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šçš„è·¯å¾„ä¸‹çš„ç±»</p>
</li>
<li><p>å¼•ç”¨ç¨‹åºç±»åŠ è½½å™¨<br>ClassLoaderè´Ÿè´£ï¼ŒåŠ è½½ç”¨æˆ·è·¯å¾„ä¸Šæ‰€æŒ‡å®šçš„ç±»åº“ã€‚</p>
</li>
</ol>
<p><img src="/2017/09/02/reJVM/classLoader.png" alt=""><br>é™¤é¡¶å±‚å¯åŠ¨ç±»åŠ è½½å™¨ä¹‹å¤–ï¼Œå…¶ä»–éƒ½æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨ã€‚<br>å·¥ä½œè¿‡ç¨‹ï¼šå¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°ä¸€ä¸ªç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨ã€‚åªæœ‰çˆ¶ç±»æ— æ³•å®Œæˆæ—¶å­ç±»æ‰ä¼šå°è¯•åŠ è½½ã€‚</p>
<h5 id="6-3-2-ç ´ååŒäº²å§”æ´¾æ¨¡å‹"><a href="#6-3-2-ç ´ååŒäº²å§”æ´¾æ¨¡å‹" class="headerlink" title="6.3.2 ç ´ååŒäº²å§”æ´¾æ¨¡å‹"></a>6.3.2 ç ´ååŒäº²å§”æ´¾æ¨¡å‹</h5><blockquote>
<p>keywordï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨(Thread Context ClassLoader)</p>
</blockquote>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><blockquote>
<p>å‰é¢ä¸¤æ¬¡ç²—ç•¥çš„é˜…è¯»ï¼Œèƒ½ç†è§£å†…å®¹ï¼Œä½†æ˜¯å¾ˆéš¾è®°ä½ç»†èŠ‚ã€‚æ¯æ¯ç¢°åˆ°ä¸ä¼šçš„çŸ¥è¯†ç‚¹å°±ä¸Šç½‘æŸ¥ï¼Œæ‰€ä»¥çŸ¥è¯†ç‚¹å¤ªç¢ç‰‡è„‘å­é‡Œæ²¡æœ‰ä½“ç³»ä¸ä»…æ›´ä¸å®¹æ˜“è®°ä½ï¼Œè€Œä¸”æ›´åŠ å®¹æ˜“æ··ä¹±ã€‚ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è®°å½•å‘ç°è‡ªå·±æ¸…æ™°äº†å¾ˆå¤šï¼Œå°±ç®—ä»¥åå¿˜è®°ï¼ŒçŸ¥è¯†å†æ¬¡æ¡èµ·çš„æˆæœ¬ä¹Ÿä½äº†å¾ˆå¤šã€‚</p>
<p>è¿™æ¬¡è¿˜æœ‰ä¸€äº›ç« èŠ‚è™½ç„¶é˜…è¯»äº†ï¼Œä½†æ˜¯è¿˜æœªå®Œæˆè®°å½•ã€‚ç­‰è‡ªå·±ç†è§£æ·±åˆ»æœ‰ç©ºé—²äº†å°±å†æ¬¡è®°å½•ä¸‹æ¥ï¼Œè¿™é‡Œçš„å†…å®¹å‡å‡ºè‡ªå‘¨å¿—æ˜è€å¸ˆçš„ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å…¥æ‰‹çº¸è´¨ç‰ˆã€‚</p>
<p>å¤šè°¢é˜…è¯»</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç§‹æ‹›å¼€å§‹äº†ï¼Œå‰é¢ç”±äºåšåˆ«çš„äº‹è€½è¯¯äº†åŠä¸ªæœˆï¼Œä»¥å‰å­¦çš„ä¸œè¥¿ä¸ç”¨å°±å¾ˆå®¹æ˜“å¿˜è®°ã€‚æ‰€ä»¥ï¼Œè¿™æ¬¡é‡æ–°é˜…è¯»ã€Šæ·±å…¥ç†è§£ JVM è™šæ‹Ÿæœºã€‹æ—¶ï¼Œæƒ³åšä¸€ä¸ªè®°å½•ã€‚å°†ç¢ç‰‡çš„çŸ¥è¯†æ•´åˆï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åé˜…è¯»ï¼ŒåŒæ—¶ä¹Ÿå’Œå¤§å®¶ä¸€èµ·åˆ†äº«ã€‚å†…å®¹ä¸­ä¼šæ·»åŠ æˆ‘è‡ªå·±çš„ç†è§£ï¼Œå…¶ä¸­å¦‚æœæœ‰é”™è¯¯ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å…³é˜…è¯»:&lt;br&gt;&lt;a href=&quot;http://fitzeng.org/2017/08/02/reDS/&quot;&gt;1. é‡æ‹¾æ•°æ®ç»“æ„&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://fitzeng.org/2017/08/07/reOS/&quot;&gt;2. é‡æ‹¾æ“ä½œç³»ç»Ÿ&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://fitzeng.org/2017/08/31/reCN/&quot;&gt;3. é‡æ‹¾è®¡ç®—æœºç½‘ç»œ(æœªå®Œæˆ)ï¼‰&lt;/a&gt;&lt;br&gt;æ³¨æ„ï¼šä»¥ä¸Šå†…å®¹ä¼šæŒç»­æ›´æ–°ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨&lt;a href=&quot;https://github.com/mk43&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt; GitHub &lt;/a&gt; &amp;amp;&amp;amp; &lt;a href=&quot;http://fitzeng.org/&quot;&gt; Blog &lt;/a&gt; &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://fitzeng.org/tags/Java/"/>
    
      <category term="JVM" scheme="http://fitzeng.org/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ‹¾è®¡ç®—æœºç½‘ç»œ</title>
    <link href="http://fitzeng.org/2017/08/31/reCN/"/>
    <id>http://fitzeng.org/2017/08/31/reCN/</id>
    <published>2017-08-30T16:00:00.000Z</published>
    <updated>2017-09-02T02:00:18.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¸»è¦æ˜¯æŠŠåœ¨é‡è¯» ã€Šè®¡ç®—æœºç½‘ç»œã€‹ å’Œ ã€Šæ•°æ®é€šè®¯ä¸ç½‘ç»œã€‹ä¸­è§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿è®°å½•ä¸‹æ¥ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="1-è®¡ç®—æœºç½‘ç»œåŸºç¡€æ¦‚å¿µ"><a href="#1-è®¡ç®—æœºç½‘ç»œåŸºç¡€æ¦‚å¿µ" class="headerlink" title="1. è®¡ç®—æœºç½‘ç»œåŸºç¡€æ¦‚å¿µ"></a>1. è®¡ç®—æœºç½‘ç»œåŸºç¡€æ¦‚å¿µ</h2><blockquote>
<p>ä¸€äº›äº’ç›¸è¿æ¥çš„ã€è‡ªæ²»çš„è®¡ç®—æœºçš„é›†åˆã€‚</p>
</blockquote>
<h3 id="1-1-ç½‘ç»œåˆ†ç±»"><a href="#1-1-ç½‘ç»œåˆ†ç±»" class="headerlink" title="1.1 ç½‘ç»œåˆ†ç±»"></a>1.1 ç½‘ç»œåˆ†ç±»</h3><h4 id="ä¸åŒä½œç”¨èŒƒå›´çš„ç½‘ç»œ"><a href="#ä¸åŒä½œç”¨èŒƒå›´çš„ç½‘ç»œ" class="headerlink" title="ä¸åŒä½œç”¨èŒƒå›´çš„ç½‘ç»œ"></a>ä¸åŒä½œç”¨èŒƒå›´çš„ç½‘ç»œ</h4><ol>
<li>å¹¿åŸŸç½‘ WAN (Wide Area Network)</li>
<li>åŸåŸŸç½‘ MAN (Metropolitan Area Network)</li>
<li>å±€åŸŸç½‘ LAN (Local Area Network)</li>
<li>ä¸ªäººåŒºåŸŸç½‘ PAN (Personal Area Network)</li>
</ol>
<h4 id="ä¸åŒä½¿ç”¨è€…çš„ç½‘ç»œ"><a href="#ä¸åŒä½¿ç”¨è€…çš„ç½‘ç»œ" class="headerlink" title="ä¸åŒä½¿ç”¨è€…çš„ç½‘ç»œ"></a>ä¸åŒä½¿ç”¨è€…çš„ç½‘ç»œ</h4><ol>
<li>å…¬ç”¨ç½‘ (public network)</li>
<li>ä¸“ç”¨ç½‘ (private network)</li>
</ol>
<h4 id="ç”¨æ¥æŠŠç”¨æˆ·æ¥å…¥åˆ°å› ç‰¹ç½‘çš„ç½‘ç»œ"><a href="#ç”¨æ¥æŠŠç”¨æˆ·æ¥å…¥åˆ°å› ç‰¹ç½‘çš„ç½‘ç»œ" class="headerlink" title="ç”¨æ¥æŠŠç”¨æˆ·æ¥å…¥åˆ°å› ç‰¹ç½‘çš„ç½‘ç»œ"></a>ç”¨æ¥æŠŠç”¨æˆ·æ¥å…¥åˆ°å› ç‰¹ç½‘çš„ç½‘ç»œ</h4><ol>
<li>æ¥å…¥ç½‘ AN (Access Network)</li>
</ol>
<h3 id="1-2-è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡"><a href="#1-2-è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="1.2 è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡"></a>1.2 è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡</h3><h4 id="é€Ÿç‡-bit-s"><a href="#é€Ÿç‡-bit-s" class="headerlink" title="é€Ÿç‡ (bit/s)"></a>é€Ÿç‡ (bit/s)</h4><h4 id="å¸¦å®½"><a href="#å¸¦å®½" class="headerlink" title="å¸¦å®½"></a>å¸¦å®½</h4><ol>
<li>ä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ (xxxHZ)</li>
<li>åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œä»æ¥è¡¨ç¤ºé€šè®¯çº¿è·¯æ‰€èƒ½ä¼ é€æ•°æ®çš„èƒ½åŠ›ã€‚å› æ­¤ç½‘ç»œä¸­çš„å¸¦å®½è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…ongoing ç½‘ç»œä¸­çš„æŸä¸€ç‚¹åˆ°å¦ä¸€ç‚¹æ‰€èƒ½é€šè¿‡çš„<code>æœ€é«˜æ•°æ®ç‡</code>ã€‚å•ä½æ˜¯æ¯”ç‰¹æ¯ç§’(b/s)</li>
</ol>
<h4 id="ååé‡"><a href="#ååé‡" class="headerlink" title="ååé‡"></a>ååé‡</h4><blockquote>
<p>å•ä½æ—¶é—´é€šè¿‡æŸä¸ªç½‘ç»œ(æˆ–ä¿¡é“ã€æ¥å£)çš„æ•°æ®é‡</p>
</blockquote>
<h4 id="æ—¶å»¶"><a href="#æ—¶å»¶" class="headerlink" title="æ—¶å»¶"></a>æ—¶å»¶</h4><blockquote>
<p>æ•°æ®ä»ç½‘ç»œçš„ä¸€ç«¯å‘é€åˆ°å¦ä¸€ç«¯æ‰€éœ€çš„æ—¶é—´</p>
</blockquote>
<p><code>æ€»å»¶æ—¶ = å‘é€æ—¶å»¶ + ä¼ æ’­æ—¶å»¶ + å¤„ç†æ—¶å»¶ + æ’é˜Ÿæ—¶å»¶</code></p>
<p>å‘é€æ—¶å»¶(ä¼ è¾“æ—¶å»¶)</p>
<blockquote>
<p>å‘é€æ•°æ®å¸§çš„æ—¶é—´</p>
</blockquote>
<p><code>å‘é€æ—¶å»¶ = æ•°æ®å¸§é•¿åº¦(b) / ä¿¡é“å¸¦å®½(b/s)</code></p>
<p>ä¼ æ’­æ—¶å»¶</p>
<blockquote>
<p>ç”µç£æ³¢åœ¨ä¿¡é“ä¸­ä¼ æ’­ä¸€å®šè·ç¦»èŠ±è´¹çš„æ—¶é—´</p>
</blockquote>
<p><code>ä¼ æ’­æ—¶å»¶ = ä¿¡é“é•¿åº¦(m) / ç”µç£æ³¢åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€Ÿç‡(m/s)</code></p>
<p>å¤„ç†æ—¶å»¶</p>
<blockquote>
<p>ä¸»æœºæˆ–è·¯ç”±å™¨åœ¨æ”¶åˆ°åˆ†ç»„æ—¶è¦èŠ±è´¹ä¸€å®šæ—¶é—´å¤„ç†ã€‚</p>
</blockquote>
<p>æ’é˜Ÿæ—¶å»¶</p>
<blockquote>
<p>åœ¨è·¯ç”±å™¨ä¸­è¾“å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…çš„æ—¶é—´</p>
</blockquote>
<h4 id="æ—¶å»¶å¸¦å®½ç§¯"><a href="#æ—¶å»¶å¸¦å®½ç§¯" class="headerlink" title="æ—¶å»¶å¸¦å®½ç§¯"></a>æ—¶å»¶å¸¦å®½ç§¯</h4><blockquote>
<p>ä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦(å¯ä»¥ç†è§£ä¸º <code>ä½“ç§¯ = æˆªé¢ * é•¿åº¦</code>)</p>
</blockquote>
<p><code>æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ * å¸¦å®½</code></p>
<h4 id="å¾€è¿”æ—¶é—´-RTT-Round-Trip-Time"><a href="#å¾€è¿”æ—¶é—´-RTT-Round-Trip-Time" class="headerlink" title="å¾€è¿”æ—¶é—´ RTT (Round-Trip Time)"></a>å¾€è¿”æ—¶é—´ RTT (Round-Trip Time)</h4><blockquote>
<p>ä»å‘é€æ–¹å‘é€æ•°æ®å¼€å§‹åˆ°å‘é€æ–¹æ¥æ”¶åˆ°æ¥è‡ªæ¥æ”¶æ–¹çš„ç¡®è®¤æ€»å…±ç»å†çš„æ—¶é—´ã€‚</p>
</blockquote>
<h4 id="åˆ©ç”¨ç‡"><a href="#åˆ©ç”¨ç‡" class="headerlink" title="åˆ©ç”¨ç‡"></a>åˆ©ç”¨ç‡</h4><p>ä¿¡é“åˆ©ç”¨ç‡</p>
<blockquote>
<p>æŸä¿¡é“æœ‰ç™¾åˆ†ä¹‹å‡ çš„æ—¶é—´æ˜¯è¢«åˆ©ç”¨çš„</p>
</blockquote>
<p>ç½‘ç»œåˆ©ç”¨ç‡</p>
<blockquote>
<p>D0 : ç½‘ç»œç©ºé—²æ—¶çš„æ—¶å»¶ D : å½“å‰ç½‘ç»œçš„æ—¶å»¶ U : åˆ©ç”¨ç‡</p>
</blockquote>
<p><code>D = D0 / (1 - U)</code></p>
<h3 id="1-3-è®¡ç®—æœºç½‘ç»œçš„ä½“ç³»ç»“æ„"><a href="#1-3-è®¡ç®—æœºç½‘ç»œçš„ä½“ç³»ç»“æ„" class="headerlink" title="1.3 è®¡ç®—æœºç½‘ç»œçš„ä½“ç³»ç»“æ„"></a>1.3 è®¡ç®—æœºç½‘ç»œçš„ä½“ç³»ç»“æ„</h3><blockquote>
<p>æ¯å±‚çš„å…·ä½“ä»‹ç»åé¢ç« èŠ‚ç»™å‡º</p>
</blockquote>
<p><img src="/2017/08/31/reCN/osi7.png" alt=""></p>
<h2 id="2-ç‰©ç†å±‚"><a href="#2-ç‰©ç†å±‚" class="headerlink" title="2. ç‰©ç†å±‚"></a>2. ç‰©ç†å±‚</h2>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸»è¦æ˜¯æŠŠåœ¨é‡è¯» ã€Šè®¡ç®—æœºç½‘ç»œã€‹ å’Œ ã€Šæ•°æ®é€šè®¯ä¸ç½‘ç»œã€‹ä¸­è§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="http://fitzeng.org/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ‹¾æ“ä½œç³»ç»Ÿ</title>
    <link href="http://fitzeng.org/2017/08/07/reOS/"/>
    <id>http://fitzeng.org/2017/08/07/reOS/</id>
    <published>2017-08-06T16:00:00.000Z</published>
    <updated>2017-08-31T07:15:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¸»è¦æ˜¯æŠŠåœ¨é‡è¯» ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ ä¸­è§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œä»¥ Tips çš„å½¢å¼è®°å½•ä¸‹æ¥ã€‚ä¸å¯èƒ½é¢é¢ä¿±åˆ°ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€å®šçš„åŸºç¡€åº”è¯¥æ˜¯ä¼šå›æƒ³èµ·å¾ˆå¤šçŸ¥è¯†çš„ã€‚å…·ä½“è§£é‡Šå°†ä¼šä»¥é“¾æ¥å½¢å¼è¡¥å……ã€‚</p>
</blockquote>
<a id="more"></a>
<h3 id="1-è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#1-è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="1. è¿›ç¨‹ä¸çº¿ç¨‹"></a>1. è¿›ç¨‹ä¸çº¿ç¨‹</h3><h4 id="1-1-è¿›ç¨‹"><a href="#1-1-è¿›ç¨‹" class="headerlink" title="1.1 è¿›ç¨‹"></a>1.1 è¿›ç¨‹</h4><blockquote>
<p>ä¸»è¦æ˜¯ä¸ºäº†æ”¯æŒä¼ªå¹¶å‘èƒ½åŠ›</p>
</blockquote>
<p><img src="/2017/08/07/reOS/threadstate.png" alt=""></p>
<ul>
<li>è¿è¡Œæ€ : å®é™…å ç”¨ CPU èµ„æº</li>
<li>å°±ç»ªæ€ : å¯è¿è¡Œï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰æ—¶é—´ç‰‡è€Œè¢«æš‚åœç­‰å¾… CPU é‡æ–°è°ƒåº¦</li>
<li>é˜»å¡æ€ : å¤–éƒ¨æŸç§äº‹ä»¶å¯¼è‡´ï¼ˆèµ„æºä¸è¶³ï¼‰ä¸å¯è¿è¡Œ</li>
</ul>
<p><code>CPU åˆ©ç”¨ç‡ = 1 - p ^ n</code> <br><br>p : IO ç­‰å¾…æ—¶é—´æ¯” <br><br>n : è¿›ç¨‹æ•°</p>
<h4 id="1-2-çº¿ç¨‹"><a href="#1-2-çº¿ç¨‹" class="headerlink" title="1.2 çº¿ç¨‹"></a>1.2 çº¿ç¨‹</h4><blockquote>
<p>æ¯ä¸€ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªåœ°å€ç©ºé—´å’Œä¸€ä¸ªæ§åˆ¶çº¿ç¨‹ï¼Œä¸»è¦æ˜¯ä½¿æŸä¸ªè¿›ç¨‹å†…çš„ä»»åŠ¡ä¹‹é—´ä¸è¢«ç›¸äº’é˜»å¡ï¼Œå®ç°ä¸€ç§è¿›ç¨‹å†…å¹¶è¡Œæ“ä½œçš„å‡è±¡ã€‚åˆ›å»ºé”€æ¯æ›´åŠ è½»é‡çº§ã€‚</p>
<p>å…±äº«ä¸€ç»„èµ„æºï¼ŒååŒå®Œæˆä»»åŠ¡ã€‚æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆåŒºï¼ˆå› ä¸ºè¦åŒºåˆ†åŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹ï¼ŒCPU è°ƒåº¦è¦è¿›è¡ŒçŠ¶æ€çš„ä¿å­˜ï¼‰</p>
</blockquote>
<p><img src="/2017/08/07/reOS/thread.png" alt=""></p>
<h5 id="çº¿ç¨‹æ¨¡å‹"><a href="#çº¿ç¨‹æ¨¡å‹" class="headerlink" title="çº¿ç¨‹æ¨¡å‹"></a>çº¿ç¨‹æ¨¡å‹</h5><h6 id="ç”¨æˆ·ç©ºé—´ä¸­å®ç°çº¿ç¨‹"><a href="#ç”¨æˆ·ç©ºé—´ä¸­å®ç°çº¿ç¨‹" class="headerlink" title="ç”¨æˆ·ç©ºé—´ä¸­å®ç°çº¿ç¨‹"></a>ç”¨æˆ·ç©ºé—´ä¸­å®ç°çº¿ç¨‹</h6><h6 id="å†…æ ¸ä¸­å®ç°çº¿ç¨‹"><a href="#å†…æ ¸ä¸­å®ç°çº¿ç¨‹" class="headerlink" title="å†…æ ¸ä¸­å®ç°çº¿ç¨‹"></a>å†…æ ¸ä¸­å®ç°çº¿ç¨‹</h6><h6 id="æ··åˆå®ç°"><a href="#æ··åˆå®ç°" class="headerlink" title="æ··åˆå®ç°"></a>æ··åˆå®ç°</h6><h4 id="1-3-è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰"><a href="#1-3-è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰" class="headerlink" title="1.3 è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰"></a>1.3 è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰</h4><h5 id="1-ç«äº‰æ¡ä»¶"><a href="#1-ç«äº‰æ¡ä»¶" class="headerlink" title="1.ç«äº‰æ¡ä»¶"></a>1.ç«äº‰æ¡ä»¶</h5><blockquote>
<p>ä¸¤ä¸ªæˆ–è€…å¤šä¸ªè¿›ç¨‹è¯»å†™æŸäº›å…±äº«æ•°æ®</p>
</blockquote>
<h5 id="2-ä¸´ç•ŒåŒº"><a href="#2-ä¸´ç•ŒåŒº" class="headerlink" title="2.ä¸´ç•ŒåŒº"></a>2.ä¸´ç•ŒåŒº</h5><blockquote>
<p>å°†å…±äº«å†…å­˜çš„è®¿é—®ä»£ç ç§°ä¸ºä¸´ç•ŒåŒºï¼Œç¡®ä¿åœ¨æ¯ä¸ªæ—¶åˆ»ä¸¤ä¸ªè¿›ç¨‹ä¸å¯èƒ½åŒæ—¶å¤„äºä¸´ç•ŒåŒºä¸­ï¼Œè¿™æ ·å¯ä»¥é¿å…ç«äº‰æ¡ä»¶ã€‚æ ¸å¿ƒæ€æƒ³ä¸ºäº’æ–¥ã€‚</p>
</blockquote>
<p>å¹¶å‘ç¨‹åºå‡†ç¡®é«˜æ•ˆè¦æ»¡è¶³ä¸€ä¸‹å››ä¸ªæ¡ä»¶</p>
<ul>
<li>ä»»ä½•ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶å¤„äºå…¶ä¸´ç•ŒåŒº</li>
<li>ä¸åº”å¯¹ CPU çš„é€Ÿåº¦å’Œæ•°é‡åšä»»ä½•å‡è®¾</li>
<li>ä¸´ç•ŒåŒºå¤–è¿è¡Œçš„ç¨‹åºä¸å¾—é˜»å¡å…¶ä»–è¿›ç¨‹</li>
<li>ä¸å¾—ä½¿è¿›ç¨‹æ— é™æœŸç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒº</li>
</ul>
<h5 id="3-å¿™ç­‰å¾…çš„äº’æ–¥"><a href="#3-å¿™ç­‰å¾…çš„äº’æ–¥" class="headerlink" title="3.å¿™ç­‰å¾…çš„äº’æ–¥"></a>3.å¿™ç­‰å¾…çš„äº’æ–¥</h5><blockquote>
<p>äº’æ–¥å®ç°æ–¹æ¡ˆ</p>
</blockquote>
<h6 id="å±è”½ä¸­æ–­"><a href="#å±è”½ä¸­æ–­" class="headerlink" title="å±è”½ä¸­æ–­"></a>å±è”½ä¸­æ–­</h6><blockquote>
<p>æ¯ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºåç«‹å³å±è”½æ‰€æœ‰ä¸­æ–­ï¼Œè¿™æ · CPU æ— æ³•è¿›è¡Œè¿›ç¨‹åˆ‡æ¢ï¼Œå°±è¦ç¦»å¼€ä¸´ç•ŒåŒºæ˜¯æ‰“å¼€ä¸­æ–­ã€‚</p>
</blockquote>
<h6 id="é”å˜é‡"><a href="#é”å˜é‡" class="headerlink" title="é”å˜é‡"></a>é”å˜é‡</h6><blockquote>
<p>è®¾ç½®ä¸€ä¸ªå…±äº«é”å˜é‡ï¼Œåˆå§‹å€¼ä¸º 0ã€‚å½“ä¸€ä¸ªè¿›ç¨‹æƒ³è¦è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¿…é¡»æ£€æµ‹é”çš„å€¼æ˜¯å¦ä¸º 0ï¼Œæ˜¯åˆ™ç½® 1 è¿›å…¥ä¸´ç•ŒåŒºã€‚ä¸æ˜¯åˆ™ç­‰å¾…å…¶ä»–è¿›ç¨‹é€€å‡ºä¸´ç•ŒåŒºæ—¶é‡Šæ”¾é”ç›´åˆ°è‡ªå·±èƒ½è·å–åˆ°é”å¼€å§‹è¿›å…¥ä¸´ç•ŒåŒºã€‚</p>
<p>é”å˜é‡è¿˜æ˜¯ä¼šäº§ç”Ÿç«äº‰æ¡ä»¶</p>
</blockquote>
<h6 id="ä¸¥æ ¼è½®æ¢æ³•"><a href="#ä¸¥æ ¼è½®æ¢æ³•" class="headerlink" title="ä¸¥æ ¼è½®æ¢æ³•"></a>ä¸¥æ ¼è½®æ¢æ³•</h6><blockquote>
<p>ä¸€ç›´å¾ªç¯ç­‰å¾…ç›´åˆ°å‡ºç°å…è®¸è¯¥è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„æ¡ä»¶æ‰å¼€å§‹è¿è¡Œï¼Œååˆ†æ¶ˆè€— CPU èµ„æºã€‚</p>
<p>é¿å…äº†ç«äº‰æ¡ä»¶ï¼Œä½†æ˜¯ä¸´ç•ŒåŒºå¤–è¿è¡Œçš„ç¨‹åºä¼šå‘ç”Ÿé˜»å¡</p>
<p>ç”¨äºå¿™ç­‰å¾…çš„é”ç§°ä¸ºè‡ªæ—‹é”ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">A:</div><div class="line"><span class="keyword">while</span> (TRUE) &#123;</div><div class="line">	<span class="keyword">while</span> (turn != <span class="number">0</span>);</div><div class="line">	critical_region();</div><div class="line">	turn = <span class="number">1</span>;</div><div class="line">	noncritical_region();</div><div class="line">&#125;</div><div class="line"></div><div class="line">B:</div><div class="line"><span class="keyword">while</span> (TRUE) &#123;</div><div class="line">	<span class="keyword">while</span> (turn != <span class="number">1</span>); </div><div class="line">	critical_region();</div><div class="line">	turn = <span class="number">0</span>;</div><div class="line">	noncritical_region();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="Peterson-è§£æ³•"><a href="#Peterson-è§£æ³•" class="headerlink" title="Peterson è§£æ³•"></a>Peterson è§£æ³•</h6><blockquote>
<p>ä¸€ç§äº’æ–¥ç®—æ³•</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> turn;</div><div class="line"><span class="keyword">int</span> interested[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">enter_region</span><span class="params">(<span class="keyword">int</span> process)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> other;</div><div class="line">	other = <span class="number">1</span> - process;</div><div class="line">	interested[process] = TRUE;</div><div class="line">	turn = process;</div><div class="line">	<span class="comment">// å¦‚æœæœ‰å¦ä¸€ä¸ªç¨‹åºè¿›å…¥ä¸´ç•ŒåŒºçš„è¯åˆ™ä¸€ç›´ç©ºå¾ªç¯</span></div><div class="line">	<span class="keyword">while</span> (turn == process &amp;&amp; interested[other] == TRUE);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">leave_region</span><span class="params">(<span class="keyword">int</span> process)</span> </span>&#123;</div><div class="line">	interested[process] = FALSE;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="4-ç¡çœ ä¸å”¤é†’"><a href="#4-ç¡çœ ä¸å”¤é†’" class="headerlink" title="4.ç¡çœ ä¸å”¤é†’"></a>4.ç¡çœ ä¸å”¤é†’</h5><blockquote>
<p>å‰é¢çš„å¼Šç«¯æ˜¯å¿™ç­‰å¾…ä¼šæ¶ˆè€— CPU èµ„æºã€‚å¦‚æœåœ¨ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºæ—¶å¯ä»¥æŒ‚èµ·ï¼Œç­‰åˆ°æŸä¸ªä¿¡å·åˆ°è¾¾å†å”¤é†’å°±å¯ä»¥é¿å…è¿™ç§æƒ…å†µäº†ã€‚</p>
</blockquote>
<h6 id="ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜"><a href="#ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜"></a>ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜</h6><blockquote>
<p>åˆ©ç”¨èµ„æºç¼“å†²åŒºå®ç°è¿›ç¨‹é—´çš„åè°ƒ</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100 </span></div><div class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">producer</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> item;</div><div class="line">	<span class="keyword">while</span> (TURE) &#123;</div><div class="line">		item = produce_item();</div><div class="line">		<span class="keyword">if</span> (count == N) &#123;</div><div class="line">			sleep();</div><div class="line">		&#125;</div><div class="line">		insert_item(item);</div><div class="line">		count = count + <span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</div><div class="line">			wakeup(consumer);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">consumer</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> item;</div><div class="line">	<span class="keyword">while</span> (TURE) &#123;</div><div class="line">		<span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</div><div class="line">			sleep();</div><div class="line">		&#125;</div><div class="line">		item = remove_item();</div><div class="line">		count = count - <span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span> (count == N - <span class="number">1</span>) &#123;</div><div class="line">			wakeup(producer);</div><div class="line">		&#125;</div><div class="line">		consume_item(item);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="5-ä¿¡å·é‡"><a href="#5-ä¿¡å·é‡" class="headerlink" title="5.ä¿¡å·é‡"></a>5.ä¿¡å·é‡</h5><blockquote>
<p>å¼•å…¥ä¸€ä¸ªä¿¡å·é‡æ¥ç´¯è®¡å”¤é†’æ¬¡æ•°ï¼Œå¯ä»¥ä¸º 0 æˆ–æ­£æ•° <br><br>ä½¿ç”¨ down å’Œ up æ“ä½œä»£æ›¿ sleep å’Œ wakeup</p>
</blockquote>
<pre><code class="c"><span class="meta">#<span class="meta-keyword">define</span> N 100</span>
<span class="keyword">typedef</span> <span class="keyword">int</span> semaphore
semaphore mutex = <span class="number">1</span>;  <span class="comment">// æ§åˆ¶å¯¹ä¸´ç•ŒåŒºçš„è®¿é—®</span>
semaphore empty = N; <span class="comment">// è®¡æ•°ç¼“å†²åŒºçš„ç©ºæ§½æ•°ç›®</span>
semaphore full = <span class="number">0</span>; <span class="comment">// è®¡æ•°ç¼“å†²åŒºçš„æ»¡æ§½æ•°ç›®</span>

<span class="function"><span class="keyword">void</span> <span class="title">producer</span><span class="params">(<span class="keyword">void</span>)</span> </span>{
    <span class="keyword">int</span> item;
    <span class="keyword">while</span> (TRUE) {
        utem = produce_item();
        down(&amp;empty);
        down(&amp;mutex);
        insert_item(item);
        up(&amp;mutex);
        up(&amp;full);
    }
}

<span class="function"><span class="keyword">void</span> <span class="title">consumer</span><span class="params">(<span class="keyword">void</span>)</span> </span>{
    <span class="keyword">int</span> item;
    <span class="keyword">while</span> (TRUE) {
        down(&amp;full);
        down(&amp;mutex);
        item = remove_item();
        up(&amp;mutex);
        up(&amp;empty);
        consume_item(item);
    }
}
</code></pre>
<ul>
<li>mutex : ç”¨äºäº’æ–¥ï¼Œä¿è¯ä»»ä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹è¯»å†™ç¼“å†²åŒº</li>
<li>full &amp;&amp; empty : å®ç°åŒæ­¥ï¼Œä¿è¯æŸç§æ—¶é—´çš„é¡ºåºå‘ç”Ÿæˆ–è€…ä¸å‘ç”Ÿ</li>
</ul>
<h5 id="6-äº’æ–¥é‡"><a href="#6-äº’æ–¥é‡" class="headerlink" title="6.äº’æ–¥é‡"></a>6.äº’æ–¥é‡</h5><blockquote>
<p>ä»…ä»…é€‚ç”¨äºç®¡ç†å…±äº«èµ„æºæˆ–ä¸€å°æ®µä»£ç </p>
</blockquote>
<h5 id="7-ç®¡ç¨‹"><a href="#7-ç®¡ç¨‹" class="headerlink" title="7.ç®¡ç¨‹"></a>7.ç®¡ç¨‹</h5><h5 id="8-æ¶ˆæ¯ä¼ é€’"><a href="#8-æ¶ˆæ¯ä¼ é€’" class="headerlink" title="8.æ¶ˆæ¯ä¼ é€’"></a>8.æ¶ˆæ¯ä¼ é€’</h5><h5 id="9-å±éšœ"><a href="#9-å±éšœ" class="headerlink" title="9.å±éšœ"></a>9.å±éšœ</h5><h5 id="1-4-è°ƒåº¦"><a href="#1-4-è°ƒåº¦" class="headerlink" title="1.4 è°ƒåº¦"></a>1.4 è°ƒåº¦</h5><blockquote>
<p>å½“æœ‰å¤šä¸ªè¿›ç¨‹å¤„äºå°±ç»ªæ€æ—¶å°±é¢ä¸´è°ƒåº¦çš„é€‰æ‹©ã€‚<br><br>å†…æ ¸ç®¡ç†çº¿ç¨‹æ—¶è°ƒåº¦å¯ä»¥è®¤ä¸ºæ˜¯çº¿ç¨‹çº§åˆ«çš„ã€‚<br><br>è¿›ç¨‹è¡Œä¸ºæœ‰ <code>è®¡ç®—å¯†é›†å‹</code> å’Œ <code>I/O å¯†é›†å‹</code>ã€‚è€Œç°åœ¨ç”±äº CPU æ”¹è¿›é€Ÿåº¦åŠ å¿«ï¼Œè¿›ç¨‹è¡Œä¸ºæ›´å€¾å‘äºåè€…ï¼Œæ‰€ä»¥åº”è¯¥å¤šè¿è¡Œè¯¥ç±»è¿›ç¨‹ä¿æŒ CPU çš„åˆ©ç”¨ç‡ã€‚<br></p>
</blockquote>
<h6 id="è°ƒåº¦ç®—æ³•"><a href="#è°ƒåº¦ç®—æ³•" class="headerlink" title="è°ƒåº¦ç®—æ³•"></a>è°ƒåº¦ç®—æ³•</h6><ol>
<li><p>æ‰¹å¤„ç†</p>
<ul>
<li>å…ˆæ¥å…ˆæœåŠ¡</li>
<li>æœ€çŸ­ä½œä¸šä¼˜å…ˆ</li>
<li>æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ</li>
</ul>
</li>
<li><p>äº¤äº’å¼</p>
<ul>
<li>è½®è½¬è°ƒåº¦ï¼ˆæ¯ä¸ªè¿›ç¨‹ä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œç”¨å®Œå°±è½®è½¬ï¼‰</li>
<li>ä¼˜å…ˆçº§è°ƒåº¦</li>
<li>å¤šçº§é˜Ÿåˆ—</li>
<li>æœ€çŸ­è¿›ç¨‹ä¼˜å…ˆ ï¼ˆ<code>aT0 + (1 - a)T1</code>ï¼‰</li>
<li>ä¿è¯ä¼˜å…ˆ</li>
<li>å½©ç¥¨è°ƒåº¦</li>
<li>å…¬å¹³åˆ†äº«è°ƒåº¦</li>
</ul>
</li>
<li><p>å®æ—¶</p>
</li>
</ol>
<p>çº¿ç¨‹è°ƒåº¦</p>
<blockquote>
<p>å’Œç³»ç»Ÿæ”¯æŒçš„çº¿ç¨‹å®ç°æ–¹å¼æœ‰å…³ï¼ˆç†è§£ : çº¿ç¨‹è¡¨å­˜åœ¨å“ªçš„åŒºåˆ«ï¼‰<br></p>
</blockquote>
<p>ç”¨æˆ·çº§çº¿ç¨‹ : å†…æ ¸å¹¶ä¸çŸ¥é“ï¼Œå†…æ ¸åªæ˜¯é€‰ä¸­è¯¥è¿›ç¨‹ï¼Œè‡³äºè¿›ç¨‹ä¸­è·‘å“ªä¸ªçº¿ç¨‹ç”±ç”¨æˆ·æ€è°ƒåº¦å†³å®šã€‚<br><br>å†…æ ¸çº§çº¿ç¨‹ : ç›´æ¥è°ƒåº¦æŸä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹ã€‚<br><br>ä»¥ä¸Šä¸¤ç§æ–¹å¼åœ¨æ€§èƒ½ä¸Šæœ‰ä¸»è¦å·®åˆ« : å‰é¢æåŠ I/O æ“ä½œå…¶å®æ˜¯å¾ˆè€—æ—¶çš„ï¼Œæ‰€ä»¥åœ¨è¿›ç¨‹é—´åˆ‡æ¢æ¯”åœ¨çº¿ç¨‹é—´åˆ‡æ¢æ›´åŠ è€—æ—¶ã€‚å› ä¸ºçº¿ç¨‹è½»é‡ï¼Œè€Œè¿›ç¨‹å®Œæˆåˆ‡æ¢è¦å®Œæ•´çš„å±±ä¸‹æ–‡åˆ‡æ¢ï¼Œä¿®æ”¹å†…å­˜æ˜ åƒã€‚è€Œä¸”åŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹ I/O è®¿é—® cache çš„å±€éƒ¨æ€§æ›´é«˜ï¼Œä¸åŒè¿›ç¨‹é—´åˆ‡æ¢çš„æ¸…ç†ç¼“å­˜ï¼Œè¿™ä¹Ÿä¼šæ¶ˆè€—æ—¶é—´ã€‚</p>
<h3 id="2-å­˜å‚¨ç®¡ç†"><a href="#2-å­˜å‚¨ç®¡ç†" class="headerlink" title="2. å­˜å‚¨ç®¡ç†"></a>2. å­˜å‚¨ç®¡ç†</h3><blockquote>
<p>ä¸»è¦æ€æƒ³å°±æ˜¯å†…å­˜æŠ½è±¡</p>
</blockquote>
<h4 id="2-1-ç©ºé—²å†…å­˜ç®¡ç†"><a href="#2-1-ç©ºé—²å†…å­˜ç®¡ç†" class="headerlink" title="2.1 ç©ºé—²å†…å­˜ç®¡ç†"></a>2.1 ç©ºé—²å†…å­˜ç®¡ç†</h4><h5 id="ä½¿ç”¨ä½å›¾çš„å­˜å‚¨ç®¡ç†"><a href="#ä½¿ç”¨ä½å›¾çš„å­˜å‚¨ç®¡ç†" class="headerlink" title="ä½¿ç”¨ä½å›¾çš„å­˜å‚¨ç®¡ç†"></a>ä½¿ç”¨ä½å›¾çš„å­˜å‚¨ç®¡ç†</h5><h5 id="ä½¿ç”¨é“¾è¡¨çš„å­˜å‚¨ç®¡ç†"><a href="#ä½¿ç”¨é“¾è¡¨çš„å­˜å‚¨ç®¡ç†" class="headerlink" title="ä½¿ç”¨é“¾è¡¨çš„å­˜å‚¨ç®¡ç†"></a>ä½¿ç”¨é“¾è¡¨çš„å­˜å‚¨ç®¡ç†</h5><h4 id="2-2-è™šæ‹Ÿå†…å­˜"><a href="#2-2-è™šæ‹Ÿå†…å­˜" class="headerlink" title="2.2 è™šæ‹Ÿå†…å­˜"></a>2.2 è™šæ‹Ÿå†…å­˜</h4><blockquote>
<p>ç¨‹åºäº§ç”Ÿçš„åœ°å€ä¸ºè™šæ‹Ÿåœ°å€ï¼Œåœ¨æ²¡æœ‰è™šæ‹Ÿå†…å­˜çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œç›´æ¥å°†åœ°å€è¾“é€åˆ°å†…å­˜æ€»çº¿ä¸Šã€‚è€Œæœ‰è™šæ‹Ÿå†…å­˜çš„æ“ä½œç³»ç»Ÿä¸Šï¼ŒæŠŠè™šæ‹Ÿåœ°å€è¾“é€åˆ° MMUï¼ˆMemory Management Unitï¼‰ï¼Œç”± MMU å°†è™šæ‹Ÿåœ°å€æ˜ å°„ä¸ºä¸ºç‰©ç†åœ°å€ã€‚</p>
</blockquote>
<h5 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h5><p>è™šæ‹Ÿåœ°å€ç©ºé—´ : é¡µé¢ ç‰©ç†å†…å­˜åœ°å€ : å¶æ¡† 4kå¤§å° <br><br>è™šæ‹Ÿåœ°å€ = è™šæ‹Ÿé¡µå·(é«˜ä½) + åç§»é‡(ä½ä½) <br><br>é¡µè¡¨ : æŠŠè™šæ‹Ÿåœ°å€çš„é¡µé¢æ˜ å°„ä¸ºé¡µæ¡†ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„é¡µè¡¨<br></p>
<p>åŠ é€Ÿåˆ†é¡µæ–¹æ³• : è½¬æ¢æ£€æµ‹ç¼“å†²åŒºï¼ˆTLBï¼‰ä¸»è¦æ˜¯ä¼˜å…ˆåœ¨ TLB ä¸­æŸ¥æ‰¾é¡µé¢å·ã€‚<br></p>
<p>å¤§å†…å­˜é¡µè¡¨<br></p>
<ol>
<li>å¤šçº§é¡µè¡¨</li>
<li>å€’æ’é¡µè¡¨ : æ¯ä¸ªé¡µæ¡†ä¸€ä¸ªè¡¨é¡¹ + TLB å¿«è¡¨</li>
</ol>
<h4 id="2-3-é¡µé¢ç½®æ¢ç®—æ³•"><a href="#2-3-é¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="2.3 é¡µé¢ç½®æ¢ç®—æ³•"></a>2.3 é¡µé¢ç½®æ¢ç®—æ³•</h4><blockquote>
<p>æœ€ä¼˜é¡µé¢ç½®æ¢ç®—æ³•ä¸å¯å®ç°ï¼Œå› ä¸ºæ— æ³•ç¡®å®šæœªæ¥ã€‚</p>
</blockquote>
<h5 id="1-æœ€è¿‘æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•-NRU"><a href="#1-æœ€è¿‘æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•-NRU" class="headerlink" title="1.æœ€è¿‘æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•(NRU)"></a>1.æœ€è¿‘æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•(NRU)</h5><blockquote>
<p>è®¾ç½®è®¿é—®ï¼ˆè¯»ã€å†™ï¼‰ä½ Rï¼Œé¡µé¢ä¿®æ”¹ä½ Mã€‚<br></p>
</blockquote>
<h5 id="2-å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•-FIFO"><a href="#2-å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•-FIFO" class="headerlink" title="2.å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•(FIFO)"></a>2.å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•(FIFO)</h5><h5 id="3-ç¬¬äºŒæ¬¡æœºä¼šé¡µé¢ç½®æ¢ç®—æ³•"><a href="#3-ç¬¬äºŒæ¬¡æœºä¼šé¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="3.ç¬¬äºŒæ¬¡æœºä¼šé¡µé¢ç½®æ¢ç®—æ³•"></a>3.ç¬¬äºŒæ¬¡æœºä¼šé¡µé¢ç½®æ¢ç®—æ³•</h5><blockquote>
<p>è®¾ç½®ä¸€ä¸ªæ£€æµ‹æœ€è€é¡µé¢ä½ R</p>
</blockquote>
<h5 id="4-æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•"><a href="#4-æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="4.æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•"></a>4.æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•</h5><blockquote>
<p>é“¾è¡¨å®ç°é¡µé¢é€‰æ‹©</p>
</blockquote>
<h5 id="5-æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•-LRU"><a href="#5-æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•-LRU" class="headerlink" title="5.æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•(LRU)"></a>5.æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•(LRU)</h5><blockquote>
<p>åˆ©ç”¨çŸ©é˜µæ¨¡æ‹Ÿ : å¢åŠ è‡ªèº«æƒé‡å‡å°‘å…¶ä»–æƒé‡ï¼Œè¡Œç½® 1ï¼Œåˆ—ç½® 0ã€‚</p>
</blockquote>
<h5 id="6-ç”¨è½¯ä»¶æ¨¡æ‹Ÿ-LRU"><a href="#6-ç”¨è½¯ä»¶æ¨¡æ‹Ÿ-LRU" class="headerlink" title="6.ç”¨è½¯ä»¶æ¨¡æ‹Ÿ LRU"></a>6.ç”¨è½¯ä»¶æ¨¡æ‹Ÿ LRU</h5><blockquote>
<p>è€åŒ–ç®—æ³•</p>
</blockquote>
<h5 id="7-å·¥ä½œé›†é¡µé¢ç½®æ¢ç®—æ³•"><a href="#7-å·¥ä½œé›†é¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="7.å·¥ä½œé›†é¡µé¢ç½®æ¢ç®—æ³•"></a>7.å·¥ä½œé›†é¡µé¢ç½®æ¢ç®—æ³•</h5><h5 id="8-å·¥ä½œé›†æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•"><a href="#8-å·¥ä½œé›†æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="8.å·¥ä½œé›†æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•"></a>8.å·¥ä½œé›†æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•</h5><table>
<thead>
<tr>
<th style="text-align:center">ç®—æ³•</th>
<th style="text-align:center">æ³¨é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æœ€ä¼˜ç®—æ³•</td>
<td style="text-align:center">ä¸å¯å®ç°ï¼Œä½†å¯ä½œä¸ºåŸºå‡†</td>
</tr>
<tr>
<td style="text-align:center">NRU(æœ€è¿‘æœªä½¿ç”¨)ç®—æ³•</td>
<td style="text-align:center">LRU çš„å¾ˆç²—ç³™è¿‘ä¼¼</td>
</tr>
<tr>
<td style="text-align:center">FIFO(å…ˆè¿›å…ˆå‡º)ç®—æ³•</td>
<td style="text-align:center">å¯èƒ½æŠ›å¼ƒé‡è¦é¡µé¢</td>
</tr>
<tr>
<td style="text-align:center">ç¬¬äºŒæ¬¡æœºä¼šç®—æ³•</td>
<td style="text-align:center">æ¯” FIFO æœ‰å¤§çš„æ”¹å–„</td>
</tr>
<tr>
<td style="text-align:center">æ—¶é’Ÿç®—æ³•</td>
<td style="text-align:center">ç°å®çš„</td>
</tr>
<tr>
<td style="text-align:center">LRU(æœ€è¿‘æœ€å°‘ä½¿ç”¨)ç®—æ³•</td>
<td style="text-align:center">å¾ˆä¼˜ç§€ï¼Œä½†å¾ˆéš¾å®ç°</td>
</tr>
<tr>
<td style="text-align:center">NFU(æœ€ä¸ç»å¸¸ä½¿ç”¨)ç®—æ³•</td>
<td style="text-align:center">LRU çš„ç›¸å¯¹ç²—ç•¥çš„è¿‘ä¼¼</td>
</tr>
<tr>
<td style="text-align:center">è€åŒ–ç®—æ³•</td>
<td style="text-align:center">éå¸¸è¿‘ä¼¼ LRU çš„æœ‰æ•ˆç®—æ³•</td>
</tr>
<tr>
<td style="text-align:center">å·¥ä½œé›†ç®—æ³•</td>
<td style="text-align:center">å®ç°èµ·æ¥å¼€é”€å¾ˆå¤§</td>
</tr>
<tr>
<td style="text-align:center">å·¥ä½œé›†æ—¶é’Ÿç®—æ³•</td>
<td style="text-align:center">å¥½çš„æœ‰æ•ˆç®—æ³•</td>
</tr>
</tbody>
</table>
<h4 id="2-4-å†…å­˜æ˜ å°„æ–‡ä»¶"><a href="#2-4-å†…å­˜æ˜ å°„æ–‡ä»¶" class="headerlink" title="2.4 å†…å­˜æ˜ å°„æ–‡ä»¶"></a>2.4 å†…å­˜æ˜ å°„æ–‡ä»¶</h4><blockquote>
<p>è¿›ç¨‹å‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠæ–‡ä»¶æ˜ å°„åˆ°å…¶è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¸€éƒ¨åˆ†ã€‚ä¸€èˆ¬å®ç°æ˜¯å¼€å§‹ä¸åŠ è½½ï¼Œåœ¨ç¨‹åºè®¿é—®æ—¶åœ¨æŒ‰é¡µåŠ è½½ã€‚</p>
</blockquote>
<p>// Linux å¾…å¡«</p>
<h4 id="2-5-å®ç°"><a href="#2-5-å®ç°" class="headerlink" title="2.5 å®ç°"></a>2.5 å®ç°</h4><h5 id="åˆ†é¡µå·¥ä½œ"><a href="#åˆ†é¡µå·¥ä½œ" class="headerlink" title="åˆ†é¡µå·¥ä½œ"></a>åˆ†é¡µå·¥ä½œ</h5><ul>
<li>è¿›ç¨‹åˆ›å»ºæ—¶ : æ“ä½œç³»ç»Ÿè¦ç¡®å®šç¨‹åºå’Œæ•°æ®åœ¨åˆå§‹æ—¶æœ‰å¤šå¤§ï¼Œå¹¶ä¸ºå®ƒä»¬åˆ›å»ºä¸€ä¸ªé¡µè¡¨ï¼Œæ“ä½œç³»ç»Ÿè¿˜è¦åœ¨å†…å­˜ä¸­ä¸ºé¡µè¡¨åˆ†é…ç©ºé—´å¹¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚<br></li>
<li>è¿›ç¨‹è¿è¡Œæ—¶ : é¡µè¡¨å¿…é¡»åœ¨å†…å­˜ä¸­(åä¹‹ä¸éœ€è¦)ï¼Œå¹¶ä¸”åœ¨ç£ç›˜äº¤æ¢åŒºä¸­åˆ†é…ç©ºé—´ã€‚<br></li>
<li>è°ƒåº¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œæ—¶ : ä¸ºæ–°è¿›ç¨‹å……å€¼ MMUï¼Œåˆ·æ–° TLBï¼Œæ›´æ¢é¡µè¡¨ã€‚<br></li>
<li>ç¼ºé¡µä¸­æ–­å‘ç”Ÿæ—¶ : æ“ä½œç³»ç»Ÿå¿…é¡»é€šè¿‡è¯»ç¡¬ä»¶å¯„å­˜å™¨ç¡®å®šæ˜¯å“ªä¸ªè™šæ‹Ÿåœ°å€é€ æˆäº†ç¼ºé¡µä¸­æ–­é€šè¿‡è¯¥ä¿¡æ¯è®¡ç®—éœ€è¦å“ªä¸ªé¡µé¢ï¼Œå®šä½ç£ç›˜ä½ç½®å¹¶æ‰¾åˆ°åˆé€‚çš„é¡µæ¡†æ¥å­˜æ”¾æ–°é¡µé¢ï¼Œå¿…è¦çš„è¯è¦ç½®æ¢è€é¡µé¢ï¼Œç„¶åæŠŠæ‰€éœ€é¡µé¢è¯»å…¥é¡µæ¡†ã€‚æœ€åï¼Œå¤‡ä»½ç¨‹åºè®¡æ•°å™¨ï¼Œæ˜¯ç¨‹åºè®¡æ•°å™¨æŒ‡å‘å¼•èµ·ç¼ºé¡µä¸­æ–­çš„æŒ‡ä»¤ï¼Œå¹¶é‡æ–°æ‰§è¡Œè¯¥æŒ‡ä»¤ã€‚<br></li>
<li>è¿›ç¨‹é€€å‡ºæ—¶ : é‡Šæ”¾é¡µè¡¨ï¼Œé¡µé¢å’Œé¡µé¢åœ¨ç¡¬ç›˜ä¸Šå çš„ç©ºé—´ã€‚</li>
</ul>
<h5 id="ç¼ºé¡µä¸­æ–­å¤„ç†"><a href="#ç¼ºé¡µä¸­æ–­å¤„ç†" class="headerlink" title="ç¼ºé¡µä¸­æ–­å¤„ç†"></a>ç¼ºé¡µä¸­æ–­å¤„ç†</h5><ol>
<li>ç¡¬ä»¶é™·å…¥å†…æ ¸ï¼Œåœ¨å †æ ˆä¸­ä¿å­˜ç¨‹åºè®¡æ•°å™¨ã€‚å¤§å¤šæ•°æœºå™¨å°†å½“å‰çš„æŒ‡ä»¤çš„å„ç§çŠ¶æ€ä¿¡æ¯ä¿å­˜åœ¨ç‰¹æ®Šçš„ CPU å¯„å­˜å™¨ä¸­ã€‚</li>
<li>å¯åŠ¨ä¸€ä¸ªæ±‡ç¼–ä»£ç ä¾‹ç¨‹ä¿å­˜é€šç”¨å¯„å­˜å™¨å’Œå…¶ä»–æ˜“å¤±ä¿¡æ¯ï¼Œä»¥å…è¢«æ“ä½œç³»ç»Ÿç ´åã€‚è¿™ä¸ªä¾‹ç¨‹å°†æ“ä½œç³»ç»Ÿåšä¸ºä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ã€‚</li>
<li>å½“æ“ä½œç³»ç»Ÿå‘ç°ä¸€ä¸ªç¼ºé¡µä¸­æ–­æ—¶ï¼Œå°è¯•å‘ç°éœ€è¦å“ªä¸ªè™šæ‹Ÿé¡µé¢ã€‚é€šå¸¸ä¸€ä¸ªç¡¬ä»¶å¯„å­˜å™¨åŒ…å«äº†è¿™ä¸€ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»æ£€ç´¢ç¨‹åºè®¡æ•°å™¨ï¼Œå–å‡ºè¿™æ¡æŒ‡ä»¤ï¼Œç”¨è½¯ä»¶åˆ†æè¿™æ¡æŒ‡ä»¤ï¼Œçœ‹çœ‹ä»–åœ¨ç¼ºé¡µä¸­æ–­æ—¶æ­£åœ¨åšä»€ä¹ˆã€‚</li>
<li>ä¸€æ—¦çŸ¥é“äº†å‘ç”Ÿç¼ºé¡µä¸­æ–­çš„è™šæ‹Ÿåœ°å€ï¼Œæ“ä½œç³»ç»Ÿæ£€æŸ¥è¿™ä¸ªåœ°å€æ˜¯å¦æœ‰æ•ˆï¼Œå¹¶æ£€æŸ¥å­˜å–ä¸ä¿æŠ¤æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œå‘è¿›ç¨‹å‘å‡ºä¸€ä¸ªä¿¡å·æˆ–æ€æ‰è¯¥è¿›ç¨‹ã€‚å¦‚æœåœ°å€æœ‰æ•ˆä¸”æ²¡æœ‰ä¿æŠ¤é”™è¯¯å‘ç”Ÿï¼Œç³»ç»Ÿåˆ™æ£€æŸ¥æ˜¯å¦æœ‰ç©ºé—²é¡µæ¡†ã€‚å¦‚æœæ²¡æœ‰ç©ºé—²é¡µæ¡†ï¼Œæ‰§è¡Œé¡µé¢ç½®æ¢ç®—æ³•å¯»æ‰¾ä¸€ä¸ªé¡µé¢æ¥æ·˜æ±°ã€‚</li>
<li>å¦‚æœé€‰æ‹©çš„é¡µæ¡†â€œè„â€äº†ï¼Œå®‰æ’è¯¥é¡µé¢å†™å›ç£ç›˜ï¼Œå¹¶å‘ç”Ÿä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ŒæŒ‚èµ·äº§ç”Ÿç¼ºé¡µä¸­æ–­çš„è¿›ç¨‹ï¼Œè®©å…¶ä»–è¿›ç¨‹è¿è¡Œç›´è‡³ç£ç›˜ä¼ è¾“ç»“æŸã€‚æ— è®ºå¦‚ä½•ï¼Œè¯¥é¡µæ¡†è¢«æ ‡è®°ä¸ºå¿™ï¼Œä»¥å…å› ä¸ºå…¶ä»–åŸå› è€Œè¢«å…¶ä»–è¿›ç¨‹å ç”¨ã€‚</li>
<li>ä¸€æ—¦é¡µæ¡†â€œå¹²å‡€â€åï¼ˆæ— è®ºæ˜¯ç«‹åˆ»è¿˜æ˜¯åœ¨å†™å›ç£ç›˜åï¼‰ï¼Œæ“ä½œç³»ç»ŸæŸ¥æ‰¾æ‰€éœ€é¡µé¢åœ¨ç£ç›˜ä¸Šçš„åœ°å€ï¼Œé€šè¿‡ç£ç›˜æ“ä½œå°†å…¶è£…å…¥ã€‚è¯¥é¡µé¢è¢«è£…å…¥åï¼Œäº§ç”Ÿç¼ºé¡µä¸­æ–­çš„è¿›ç¨‹ä»ç„¶è¢«æŒ‚èµ·ï¼Œå¹¶ä¸”å¦‚æœæœ‰å…¶ä»–å¯è¿è¡Œç”¨æˆ·è¿›ç¨‹ï¼Œåˆ™é€‰æ‹©å¦ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹è¿è¡Œã€‚</li>
<li>å½“ç£ç›˜ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œè¡¨æ˜è¯¥é¡µå·²è¢«è£…å…¥ï¼Œé¡µè¡¨å·²ç»æ›´æ–°å¯ä»¥åæ˜ ä»–çš„ä½ç½®ï¼Œé¡µæ¡†ä¹Ÿè¢«æ ‡è®°ä¸ºæ­£å¸¸çŠ¶æ€ã€‚</li>
<li>æ¢å¤å‘ç”Ÿç¼ºé¡µä¸­æ–­æŒ‡ä»¤ä»¥å‰çš„çŠ¶æ€ï¼Œç¨‹åºè®¡æ•°å™¨é‡æ–°å®šå‘è¿™æ¡æŒ‡ä»¤ã€‚</li>
<li>è°ƒåº¦å¼•å‘ç¼ºé¡µä¸­æ–­çš„è¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿè¿”å›è°ƒç”¨ä»–çš„æ±‡ç¼–è¯­è¨€ä¾‹ç¨‹ã€‚</li>
<li>è¯¥ä¾‹ç¨‹æ¢å¤å¯„å­˜å™¨å’Œå…¶ä»–çŠ¶æ€ä¿¡æ¯ï¼Œæ”¾å›åˆ°ç”¨æˆ·ç©ºé—´ç»§ç»­æ‰§è¡Œï¼Œå°±å¥½åƒç¼ºé¡µä¸­æ–­æ²¡æœ‰å‘ç”Ÿè¿‡ä¸€æ ·ã€‚</li>
</ol>
<h4 id="2-6-åˆ†æ®µ"><a href="#2-6-åˆ†æ®µ" class="headerlink" title="2.6 åˆ†æ®µ"></a>2.6 åˆ†æ®µ</h4><blockquote>
<p>æ®µæ˜¯é€»è¾‘å®ä½“ï¼Œå¤§å°ä¸å›ºå®šã€‚</p>
</blockquote>
<h4 id="2-7-åˆ†æ®µå’Œåˆ†é¡µç»“åˆ-MULTICS"><a href="#2-7-åˆ†æ®µå’Œåˆ†é¡µç»“åˆ-MULTICS" class="headerlink" title="2.7 åˆ†æ®µå’Œåˆ†é¡µç»“åˆ : MULTICS"></a>2.7 åˆ†æ®µå’Œåˆ†é¡µç»“åˆ : MULTICS</h4><blockquote>
<p>è¿˜æœ‰ Intel Pentuium æœªä»‹ç»</p>
</blockquote>
<p>34 ä½çš„ MULTICS è™šæ‹Ÿåœ°å€</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ®µå·</th>
<th style="text-align:center">é¡µå·</th>
<th style="text-align:center">é¡µå†…åç§»</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">6</td>
<td style="text-align:center">10</td>
</tr>
</tbody>
</table>
<ol>
<li>æ ¹æ®æ®µå·æ‰¾åˆ°æ®µæè¿°ç¬¦</li>
<li>æ£€æŸ¥è¯¥æ®µçš„é¡µè¡¨æ˜¯å¦å­˜åœ¨å†…å­˜ä¸­ã€‚å¦‚æœåœ¨ï¼Œåˆ™æ‰¾åˆ°ä»–ï¼›å¦‚æœä¸å†ï¼Œåˆ™äº§ç”Ÿä¸€ä¸ªæ®µé”™è¯¯ã€‚å¦‚æœè®¿é—®è¿åäº†æ®µçš„ä¿æŠ¤è¦æ±‚å°±è¦æ±‚å‘å‡ºä¸€ä¸ªè¶Šç•Œé”™è¯¯(é™·é˜±)ã€‚</li>
<li>æ£€æŸ¥æ‰€è¯·æ±‚è™šæ‹Ÿé¡µé¢çš„é¡µè¡¨é¡¹ï¼Œå¦‚æœè¯¥é¡µé¢ä¸å†å†…å­˜ä¸­åˆ™äº§ç”Ÿä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œå¦‚æœåœ¨å†…å­˜å°±ä»é¡µè¡¨ä¸­å–å‡ºè¿™ä¸ªé¡µé¢åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ã€‚</li>
<li>æŠŠåç§»é‡åŠ åˆ°é¡µé¢çš„èµ·å§‹åœ°å€ä¸Šï¼Œå¾—åˆ°è¦è®¿é—®çš„å­—åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚</li>
<li>æœ€åè¿›è¡Œè¯»æˆ–å†™æ“ä½œã€‚</li>
</ol>
<h3 id="3-æ–‡ä»¶ç³»ç»Ÿ"><a href="#3-æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="3. æ–‡ä»¶ç³»ç»Ÿ"></a>3. æ–‡ä»¶ç³»ç»Ÿ</h3><blockquote>
<p>æ–‡ä»¶ç³»ç»Ÿå­˜æ”¾åœ¨ç£ç›˜ä¸Šã€‚å¤šæ•°ç£ç›˜åˆ’åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºä¸­æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿã€‚ç£ç›˜çš„ 0 å·ç›˜æ‰‡åŒºç§°ä¸ºä¸»å¼•å¯¼è®°å½•(Master Boot Record, MBR)ï¼Œç”¨æ¥å¼•å¯¼è®¡ç®—æœºã€‚åœ¨ MBR çš„ç»“å°¾æ˜¯åˆ†åŒºè¡¨ï¼Œè¯¥è¡¨ç»™å‡ºäº†æ¯ä¸ªåˆ†åŒºçš„å…¶å®å’Œç»“æŸåœ°å€ã€‚è¡¨ä¸­çš„ä¸€ä¸ªåˆ†åŒºè¢«æ ‡è®°ä¸ºæ´»åŠ¨åˆ†åŒºã€‚åœ¨è®¡ç®—æœºè¢«å¼•å¯¼æ—¶ï¼ŒBIOS è¯»å…¥å¹¶æ‰§è¡Œ MBRã€‚MBR åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ç¡®å®šæ´»åŠ¨åˆ†åŒºï¼Œè¯»å…¥å®ƒçš„ç¬¬ä¸€ä¸ªå—ï¼Œç§°ä¸ºå¼•å¯¼å—ï¼Œå¹¶æ‰§è¡Œã€‚</p>
</blockquote>
<p>æ•´ä¸ªåˆ†åŒº: </p>
<table>
<thead>
<tr>
<th style="text-align:center">MBR</th>
<th style="text-align:center">åˆ†åŒºè¡¨</th>
<th style="text-align:center">ç£ç›˜åˆ†åŒº</th>
<th style="text-align:center">ç£ç›˜åˆ†åŒº</th>
<th style="text-align:center">ç£ç›˜åˆ†åŒºâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>ç£ç›˜åˆ†åŒº: </p>
<table>
<thead>
<tr>
<th style="text-align:center">å¼•å¯¼å—</th>
<th style="text-align:center">è¶…çº§å—</th>
<th style="text-align:center">ç©ºé—²ç©ºé—´ç®¡ç†</th>
<th style="text-align:center">i èŠ‚ç‚¹</th>
<th style="text-align:center">æ ¹ç›®å½•</th>
<th style="text-align:center">æ–‡ä»¶å’Œç›®å½•</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h4 id="3-1-æ–‡ä»¶å®ç°"><a href="#3-1-æ–‡ä»¶å®ç°" class="headerlink" title="3.1 æ–‡ä»¶å®ç°"></a>3.1 æ–‡ä»¶å®ç°</h4><h5 id="è¿ç»­åˆ†é…"><a href="#è¿ç»­åˆ†é…" class="headerlink" title="è¿ç»­åˆ†é…"></a>è¿ç»­åˆ†é…</h5><blockquote>
<p>æŠŠæ¯ä¸ªæ–‡ä»¶ä½œä¸ºä¸€è¿ä¸²è¿ç»­æ•°æ®å—å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚</p>
</blockquote>
<h5 id="é“¾è¡¨åˆ†é…"><a href="#é“¾è¡¨åˆ†é…" class="headerlink" title="é“¾è¡¨åˆ†é…"></a>é“¾è¡¨åˆ†é…</h5><blockquote>
<p>ä¸€ä¸ªæ–‡ä»¶ç”±å‡ ä¸ªç£ç›˜å—ç»„æˆã€‚</p>
</blockquote>
<h5 id="åœ¨å†…å­˜ä¸­é‡‡ç”¨è¡¨çš„é“¾è¡¨åˆ†é…"><a href="#åœ¨å†…å­˜ä¸­é‡‡ç”¨è¡¨çš„é“¾è¡¨åˆ†é…" class="headerlink" title="åœ¨å†…å­˜ä¸­é‡‡ç”¨è¡¨çš„é“¾è¡¨åˆ†é…"></a>åœ¨å†…å­˜ä¸­é‡‡ç”¨è¡¨çš„é“¾è¡¨åˆ†é…</h5><blockquote>
<p>æŠŠæ¯ä¸ªç£ç›˜å—çš„æŒ‡é’ˆå­—æ”¾åœ¨å†…å­˜çš„ä¸€ä¸ªè¡¨ä¸­</p>
</blockquote>
<h5 id="i-èŠ‚ç‚¹"><a href="#i-èŠ‚ç‚¹" class="headerlink" title="i èŠ‚ç‚¹"></a>i èŠ‚ç‚¹</h5><blockquote>
<p>æ¯ä¸ªæ–‡ä»¶èµ‹äºˆä¸€ä¸ªç§°ä¸º i èŠ‚ç‚¹(index-node)çš„æ•°æ®ç»“æ„ï¼Œåˆ—å‡ºæ–‡ä»¶å±æ€§å’Œæ–‡ä»¶å¿«çš„ç£ç›˜åœ°å€ã€‚</p>
</blockquote>
<h3 id="4-è¾“å…¥-è¾“å‡º"><a href="#4-è¾“å…¥-è¾“å‡º" class="headerlink" title="4. è¾“å…¥/è¾“å‡º"></a>4. è¾“å…¥/è¾“å‡º</h3><h5 id="4-1-I-O-ç¡¬ä»¶åŸç†"><a href="#4-1-I-O-ç¡¬ä»¶åŸç†" class="headerlink" title="4.1 I/O ç¡¬ä»¶åŸç†"></a>4.1 I/O ç¡¬ä»¶åŸç†</h5><h6 id="I-O-è®¾å¤‡"><a href="#I-O-è®¾å¤‡" class="headerlink" title="I/O è®¾å¤‡"></a>I/O è®¾å¤‡</h6><p>å—è®¾å¤‡ : ä»¥å—ä¸ºå•ä½ä¼ è¾“ï¼Œå¯å¯»å€<br><br>å­—ç¬¦è®¾å¤‡ : ä»¥å­—ç¬¦ä¸ºå•ä½æ”¶å‘å­—ç¬¦æµï¼Œä¸å¯å¯»å€<br></p>
<h6 id="è®¾å¤‡æ§åˆ¶å™¨"><a href="#è®¾å¤‡æ§åˆ¶å™¨" class="headerlink" title="è®¾å¤‡æ§åˆ¶å™¨"></a>è®¾å¤‡æ§åˆ¶å™¨</h6><h6 id="å†…å­˜æ˜ å°„-I-O"><a href="#å†…å­˜æ˜ å°„-I-O" class="headerlink" title="å†…å­˜æ˜ å°„ I/O"></a>å†…å­˜æ˜ å°„ I/O</h6><h6 id="ç›´æ¥å­˜å‚¨å™¨å­˜å–"><a href="#ç›´æ¥å­˜å‚¨å™¨å­˜å–" class="headerlink" title="ç›´æ¥å­˜å‚¨å™¨å­˜å–"></a>ç›´æ¥å­˜å‚¨å™¨å­˜å–</h6><p>DMA å·¥ä½œåŸç†:</p>
<ol>
<li>CPU å¯¹ DMA æ§åˆ¶å™¨è¿›è¡Œç¼–ç¨‹</li>
<li>DMA è¯·æ±‚ç£ç›˜ä¼ é€æ•°æ®åˆ°å†…å­˜</li>
<li>ç£ç›˜ä¼ é€æ•°æ®åˆ°å†…å­˜</li>
<li>ç£ç›˜ç»™ DMA æ§åˆ¶å™¨åº”ç­”</li>
<li>å®Œæˆä¸­æ–­</li>
</ol>
<h3 id="5-æ­»é”"><a href="#5-æ­»é”" class="headerlink" title="5. æ­»é”"></a>5. æ­»é”</h3><h4 id="5-1-èµ„æº"><a href="#5-1-èµ„æº" class="headerlink" title="5.1 èµ„æº"></a>5.1 èµ„æº</h4><blockquote>
<p>åœ¨è¿›ç¨‹å¯¹è®¾å¤‡ï¼Œæ–‡ä»¶ç­‰å–å¾—äº†æ’ä»–æ€§è®¿é—®æƒé™çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°æ­»é”ã€‚è¿™ç±»éœ€è¦æ’ä»–æ€§ä½¿ç”¨çš„å¯¹è±¡ç§°ä¸ºèµ„æºã€‚</p>
</blockquote>
<h5 id="å¯æŠ¢å èµ„æº"><a href="#å¯æŠ¢å èµ„æº" class="headerlink" title="å¯æŠ¢å èµ„æº"></a>å¯æŠ¢å èµ„æº</h5><blockquote>
<p>å¯ä»¥ä»æ‹¥æœ‰å®ƒçš„è¿›ç¨‹ä¸­æŠ¢å è€Œä¸ä¼šäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ã€‚ï¼ˆå­˜å‚¨å™¨ï¼‰</p>
</blockquote>
<h5 id="ä¸å¯æŠ¢å èµ„æº"><a href="#ä¸å¯æŠ¢å èµ„æº" class="headerlink" title="ä¸å¯æŠ¢å èµ„æº"></a>ä¸å¯æŠ¢å èµ„æº</h5><blockquote>
<p>æŒ‡åœ¨ä¸å¼•èµ·ç›¸å…³çš„è®¡ç®—å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæ— æ³•æŠŠä»–ä»å æœ‰å®ƒçš„è¿›ç¨‹å¤„æŠ¢å è¿‡æ¥ã€‚ï¼ˆ CD åˆ»å½•ï¼‰</p>
</blockquote>
<p>èµ„æºä½¿ç”¨æ­¥éª¤:</p>
<ol>
<li>è¯·æ±‚èµ„æº</li>
<li>ä½¿ç”¨èµ„æº</li>
<li>é‡Šæ”¾èµ„æº</li>
</ol>
<h4 id="5-2-æ­»é”æ¦‚è¿°"><a href="#5-2-æ­»é”æ¦‚è¿°" class="headerlink" title="5.2 æ­»é”æ¦‚è¿°"></a>5.2 æ­»é”æ¦‚è¿°</h4><blockquote>
<p>å¦‚æœä¸€ä¸ªè¿›ç¨‹é›†åˆä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…åªèƒ½ç”±è¯¥è¿›ç¨‹é›†åˆä¸­çš„å…¶ä»–è¿›ç¨‹æ‰èƒ½å¼•å‘çš„äº‹ä»¶ï¼Œé‚£ä¹ˆï¼Œè¯¥è¿›ç¨‹é›†åˆå°±æ˜¯æ­»é”çš„ã€‚</p>
</blockquote>
<h5 id="èµ„æºæ­»é”æ¡ä»¶"><a href="#èµ„æºæ­»é”æ¡ä»¶" class="headerlink" title="èµ„æºæ­»é”æ¡ä»¶"></a>èµ„æºæ­»é”æ¡ä»¶</h5><p>å‘ç”Ÿèµ„æºæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶:</p>
<ol>
<li>äº’æ–¥æ¡ä»¶ : æ¯ä¸ªèµ„æºè¦ä¹ˆå·²ç»åˆ†é…äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œè¦ä¹ˆå°±æ˜¯å¯ç”¨çš„ã€‚</li>
<li>å æœ‰å’Œç­‰å¾…æ¡ä»¶ : å·²ç»å¾—åˆ°äº†æŸä¸ªèµ„æºçš„è¿›ç¨‹å¯ä»¥å†è¯·æ±‚æ–°çš„èµ„æºã€‚</li>
<li>ä¸å¯æŠ¢å æ¡ä»¶ : å·²ç»åˆ†é…ç»™ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºä¸èƒ½å¼ºåˆ¶æ€§åœ°è¢«æŠ¢å ï¼Œå®ƒåªèƒ½è¢«å æœ‰å®ƒçš„è¿›ç¨‹æ˜¾ç¤ºåœ°é‡Šæ”¾ã€‚</li>
<li>ç¯è·¯ç­‰å¾…æ¡ä»¶ : æ­»é”å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä¸­ä¸€å®šæœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ç»„æˆçš„ä¸€æ¡ç¯è·¯ï¼Œè¯¥ç¯è·¯ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…ç€ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€å æœ‰çš„èµ„æºã€‚</li>
</ol>
<h4 id="5-3-æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"><a href="#5-3-æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤" class="headerlink" title="5.3 æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"></a>5.3 æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤</h4><blockquote>
<p>æ­»é”æ£€æµ‹ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰ç©ºé—²èµ„æºåœ¨æŸç§åˆç†åˆ†é…ä¸‹æ˜¯å¦èƒ½ä½¿æ‰€æœ‰è¿›ç¨‹éƒ½è¿è¡Œå®Œå¹¶ä¸”æœ€ç»ˆèµ„æºéƒ½èƒ½å¤Ÿé‡Šæ”¾ã€‚</p>
</blockquote>
<p>æ¢å¤æ–¹æ³• : </p>
<ol>
<li>åˆ©ç”¨æŠ¢å å¼æ¢å¤</li>
<li>åˆ©ç”¨å›æ»šæ¢å¤</li>
<li>åˆ©ç”¨æ€æ­»è¿›ç¨‹æ¢å¤</li>
</ol>
<h4 id="5-4-æ­»é”é¿å…"><a href="#5-4-æ­»é”é¿å…" class="headerlink" title="5.4 æ­»é”é¿å…"></a>5.4 æ­»é”é¿å…</h4><h5 id="èµ„æºè½¨è¿¹å›¾"><a href="#èµ„æºè½¨è¿¹å›¾" class="headerlink" title="èµ„æºè½¨è¿¹å›¾"></a>èµ„æºè½¨è¿¹å›¾</h5><h5 id="å®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€"><a href="#å®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€" class="headerlink" title="å®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€"></a>å®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€</h5><h5 id="å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•"><a href="#å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•" class="headerlink" title="å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•"></a>å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•</h5><h5 id="å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•"><a href="#å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•" class="headerlink" title="å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•"></a>å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•</h5><h4 id="5-5-æ­»é”é¢„é˜²"><a href="#5-5-æ­»é”é¢„é˜²" class="headerlink" title="5.5 æ­»é”é¢„é˜²"></a>5.5 æ­»é”é¢„é˜²</h4><blockquote>
<p>æ­»é”é¿å…ä»æœ¬è´¨ä¸Šæ¥è¯´æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºä»–è¦è·å–æœªæ¥çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<h5 id="ç ´åäº’æ–¥æ¡ä»¶"><a href="#ç ´åäº’æ–¥æ¡ä»¶" class="headerlink" title="ç ´åäº’æ–¥æ¡ä»¶"></a>ç ´åäº’æ–¥æ¡ä»¶</h5><blockquote>
<p>å¦‚æœèµ„æºä¸è¢«ä¸€ä¸ªè¿›ç¨‹ç‹¬å æ­»é”ä¸ä¼šå‘ç”Ÿã€‚ï¼ˆå‡è„±æœºæ‰“å°æœºï¼‰</p>
</blockquote>
<h5 id="ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶"><a href="#ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶" class="headerlink" title="ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶"></a>ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶</h5><blockquote>
<p>å¼€å§‹æ‰§è¡Œå‰è¯·æ±‚æ‰€æœ‰èµ„æºå°±ä¸ä¼šé€ æˆç­‰å¾…ã€‚å¦ä¸€ç§æ˜¯è¯·æ±‚èµ„æºæ—¶å…ˆé‡Šæ”¾è‡ªå·±æ‰€æŒæœ‰çš„èµ„æºï¼Œå†å°è¯•ä¸€æ¬¡è¯·æ±‚èµ„æºã€‚</p>
</blockquote>
<h5 id="ç ´åä¸å¯æŠ¢å æ¡ä»¶"><a href="#ç ´åä¸å¯æŠ¢å æ¡ä»¶" class="headerlink" title="ç ´åä¸å¯æŠ¢å æ¡ä»¶"></a>ç ´åä¸å¯æŠ¢å æ¡ä»¶</h5><blockquote>
<p>é’ˆå¯¹æŸäº›èµ„æºè¿›è¡Œè™šæ‹ŸåŒ–ï¼Œå®ç°å¯æŠ¢å ã€‚</p>
</blockquote>
<h5 id="ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶"><a href="#ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶" class="headerlink" title="ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶"></a>ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶</h5><blockquote>
<p>ä¿è¯æ¯ä¸ªè¿›ç¨‹åœ¨ä»»ä½•æ—¶åˆ»åªèƒ½å ç”¨ä¸€ä¸ªèµ„æºå¦‚æœè¦è¯·æ±‚å¦å¤–ä¸€ä¸ªèµ„æºå®ƒå¿…é¡»å…ˆé‡Šæ”¾ç¬¬ä¸€ä¸ªèµ„æºã€‚å¦ä¸€ç§æ˜¯å°†æ‰€æœ‰èµ„æºç»Ÿä¸€ç¼–å·ï¼Œè¿›ç¨‹å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»æå‡ºèµ„æºè¯·æ±‚ï¼Œä½†æ˜¯è¯·æ±‚å¿…é¡»æŒ‰ç…§èµ„æºç¼–å·é¡ºåº(å‡åº)æå‡ºã€‚</p>
</blockquote>
<h4 id="5-6-å…¶ä»–é—®é¢˜"><a href="#5-6-å…¶ä»–é—®é¢˜" class="headerlink" title="5.6 å…¶ä»–é—®é¢˜"></a>5.6 å…¶ä»–é—®é¢˜</h4><h5 id="ä¸¤é˜¶æ®µåŠ é”"><a href="#ä¸¤é˜¶æ®µåŠ é”" class="headerlink" title="ä¸¤é˜¶æ®µåŠ é”"></a>ä¸¤é˜¶æ®µåŠ é”</h5><h5 id="é€šè®¯æ­»é”"><a href="#é€šè®¯æ­»é”" class="headerlink" title="é€šè®¯æ­»é”"></a>é€šè®¯æ­»é”</h5><h5 id="æ´»é”"><a href="#æ´»é”" class="headerlink" title="æ´»é”"></a>æ´»é”</h5><h5 id="é¥¥é¥¿"><a href="#é¥¥é¥¿" class="headerlink" title="é¥¥é¥¿"></a>é¥¥é¥¿</h5>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸»è¦æ˜¯æŠŠåœ¨é‡è¯» ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ ä¸­è§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œä»¥ Tips çš„å½¢å¼è®°å½•ä¸‹æ¥ã€‚ä¸å¯èƒ½é¢é¢ä¿±åˆ°ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€å®šçš„åŸºç¡€åº”è¯¥æ˜¯ä¼šå›æƒ³èµ·å¾ˆå¤šçŸ¥è¯†çš„ã€‚å…·ä½“è§£é‡Šå°†ä¼šä»¥é“¾æ¥å½¢å¼è¡¥å……ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="C/C++" scheme="http://fitzeng.org/tags/C-C/"/>
    
      <category term="OS" scheme="http://fitzeng.org/tags/OS/"/>
    
  </entry>
  
  <entry>
    <title>Why Marvel ?</title>
    <link href="http://fitzeng.org/2017/08/03/WhyMarvel/"/>
    <id>http://fitzeng.org/2017/08/03/WhyMarvel/</id>
    <published>2017-08-02T16:00:00.000Z</published>
    <updated>2017-08-04T09:21:04.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å…ˆç»™è‡ªå·±æŒ–ä¸ªå‘, è®°å½•ä¸€ä¸‹ä» 12 - 17 è¿™äº”å¹´é—´çš„ç‚¹ç‚¹æ»´æ»´.å¾ˆä¹…ä¹‹å‰å°±å¾ˆæƒ³å†™å†™è‡ªå·±å¿ƒä¸­çš„ Marvel. äººæ€»å¾—æœ‰äº›çˆ±å¥½æ˜¯ä¸ç†æƒ³ç›¸å…³çš„, ä¸æ˜¯å—?</p>
</blockquote>
<a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å…ˆç»™è‡ªå·±æŒ–ä¸ªå‘, è®°å½•ä¸€ä¸‹ä» 12 - 17 è¿™äº”å¹´é—´çš„ç‚¹ç‚¹æ»´æ»´.å¾ˆä¹…ä¹‹å‰å°±å¾ˆæƒ³å†™å†™è‡ªå·±å¿ƒä¸­çš„ Marvel. äººæ€»å¾—æœ‰äº›çˆ±å¥½æ˜¯ä¸ç†æƒ³ç›¸å…³çš„, ä¸æ˜¯å—?&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Life" scheme="http://fitzeng.org/tags/Life/"/>
    
      <category term="Marvel" scheme="http://fitzeng.org/tags/Marvel/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ‹¾æ•°æ®ç»“æ„</title>
    <link href="http://fitzeng.org/2017/08/02/reDS/"/>
    <id>http://fitzeng.org/2017/08/02/reDS/</id>
    <published>2017-08-01T16:00:00.000Z</published>
    <updated>2017-08-08T07:17:45.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>åœ¨å¤§ä¸‰åˆ°å¤§å››è¿‡æ¸¡æœŸä¸­, ä»å››æœˆåˆ°ä¸ƒæœˆ, ç»å†è¿‡å‡ åœºé¢è¯•, æ‰¾å®ä¹ . (å¦‚æœå…«æœˆä»½æ‹¿åˆ°[çœŸ.offer]çš„è¯æˆ‘ä¹Ÿæƒ³æŠŠè¿™æ®µç»å†è®°å½•ä¸‹æ¥) ç»“æœå¾ˆæ‚²å‰§, è§‰å¾—æ–¹å‘ä¸æ˜¯ä»€ä¹ˆéšœç¢, åŸºç¡€æ¯”è¾ƒé‡, æ‰€ä»¥è¦é‡æ‹¾æ•°æ®ç»“æ„ä¸æ¶‰åŠç®—æ³•å…·ä½“å®ç°, å› ä¸ºæ˜¯é‡æ‹¾, æ‰€ä»¥å…ˆå‰æœ‰ä¸€å®šåŸºç¡€, åªè¦æœ‰ä¸€ç‚¹æç¤ºä¾¿èƒ½å”¤é†’æ— é™å›å¿†. è¿™é‡Œä¸»è¦æ˜¯è®°å½•å„ç§æ•°æ®ç»“æ„çš„ç»“æ„ä½“, è¿™æ˜¯ç»è¿‡é‡é‡æ€ç»´è¿‡ç¨‹å¾—å‡ºçš„ç²¾å, ååˆ†æœ‰ä»·å€¼. è‡³äºå…·ä½“å®ç°å’Œè®²è§£æ—¥åå›ä¼šä»¥é“¾æ¥å½¢å¼æä¾›, è¿™é‡Œåªæä¾›ä¸€ä¸ªæ€ç»´æ ‘, å»ºç«‹ä¸€ä¸ªæ•°æ®æœºæ„çš„æ€ç»´ä½“ç³», åç»­æ›´æ–°æ¬¢è¿å…³æ³¨ <a href="https://github.com/mk43/Algo-Math" target="_blank" rel="external">GitHub</a>.</p>
</blockquote>
<a id="more"></a>
<h3 id="1-çº¿æ€§è¡¨"><a href="#1-çº¿æ€§è¡¨" class="headerlink" title="1 çº¿æ€§è¡¨"></a>1 çº¿æ€§è¡¨</h3><h5 id="1-1-åŠ¨æ€åˆ†é…ç©ºé—´"><a href="#1-1-åŠ¨æ€åˆ†é…ç©ºé—´" class="headerlink" title="1.1 åŠ¨æ€åˆ†é…ç©ºé—´"></a>1.1 åŠ¨æ€åˆ†é…ç©ºé—´</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	ElemType * elem;</div><div class="line">	<span class="keyword">int</span> length;</div><div class="line">	<span class="keyword">int</span> listsize;</div><div class="line">&#125; SqList;</div></pre></td></tr></table></figure>
<h5 id="1-2-çº¿æ€§é“¾è¡¨"><a href="#1-2-çº¿æ€§é“¾è¡¨" class="headerlink" title="1.2 çº¿æ€§é“¾è¡¨"></a>1.2 çº¿æ€§é“¾è¡¨</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> &#123;</span></div><div class="line">	ElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> * <span class="title">next</span>;</span></div><div class="line">&#125; LNode, * LinkList;</div></pre></td></tr></table></figure>
<h5 id="1-3-é™æ€é“¾è¡¨"><a href="#1-3-é™æ€é“¾è¡¨" class="headerlink" title="1.3 é™æ€é“¾è¡¨"></a>1.3 é™æ€é“¾è¡¨</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	ElemType data;</div><div class="line">	<span class="keyword">int</span> cur;	<span class="comment">// æ¸¸æ ‡æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ä¸‹æ ‡</span></div><div class="line">&#125; component, SlinkList[MAXSIZE];</div></pre></td></tr></table></figure>
<h5 id="1-4-å¾ªç¯é“¾è¡¨-amp-åŒå‘é“¾è¡¨"><a href="#1-4-å¾ªç¯é“¾è¡¨-amp-åŒå‘é“¾è¡¨" class="headerlink" title="1.4 å¾ªç¯é“¾è¡¨ &amp; åŒå‘é“¾è¡¨"></a>1.4 å¾ªç¯é“¾è¡¨ &amp; åŒå‘é“¾è¡¨</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DuLNode</span>&#123;</span></div><div class="line">	ElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">DuLNode</span> * <span class="title">prior</span>;</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">DuLNode</span> * <span class="title">next</span>;</span></div><div class="line">&#125; DuLNode, * DuLinkList;</div></pre></td></tr></table></figure>
<h3 id="2-æ ˆå’Œé˜Ÿåˆ—"><a href="#2-æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="2 æ ˆå’Œé˜Ÿåˆ—"></a>2 æ ˆå’Œé˜Ÿåˆ—</h3><h5 id="2-1-æ ˆ"><a href="#2-1-æ ˆ" class="headerlink" title="2.1 æ ˆ"></a>2.1 æ ˆ</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	SELemType * base;</div><div class="line">	SElemType * top;####<span class="meta"># </span></div><div class="line">	int stacksize;</div><div class="line">&#125; SqStack;</div></pre></td></tr></table></figure>
<blockquote>
<p>åº”ç”¨: ä¸»è¦æ˜¯åˆ©ç”¨å…ˆè¿›åå‡ºçš„ç‰¹æ€§</p>
<ul>
<li><p>æ•°åˆ¶è½¬æ¢</p>
</li>
<li><p>æ‹¬å·åŒ¹é…æ£€æµ‹</p>
</li>
<li><p>è¡Œç¼–è¾‘ç¨‹åº</p>
</li>
<li><p>è¿·å®«éé€’å½’æ±‚è§£</p>
</li>
<li><p>è¡¨è¾¾å¼æ±‚å€¼</p>
</li>
<li><p>Hanoiå¡”é—®é¢˜</p>
</li>
</ul>
</blockquote>
<h5 id="2-2-é˜Ÿåˆ—"><a href="#2-2-é˜Ÿåˆ—" class="headerlink" title="2.2 é˜Ÿåˆ—"></a>2.2 é˜Ÿåˆ—</h5><ul>
<li>é“¾é˜Ÿåˆ—</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">QNode</span> &#123;</span></div><div class="line">	QElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">QNode</span> * <span class="title">next</span>;</span></div><div class="line">&#125; QNode, * QueuePtr;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	QueuePtr front;</div><div class="line">	QueuePtr rear;</div><div class="line">&#125; LinkQueue;</div></pre></td></tr></table></figure>
<ul>
<li>å¾ªç¯é˜Ÿåˆ—</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	QElemType * base;</div><div class="line">	<span class="keyword">int</span> front;</div><div class="line">	<span class="keyword">int</span> rear;</div><div class="line">&#125; SqQueue;</div></pre></td></tr></table></figure>
<h3 id="3-ä¸²"><a href="#3-ä¸²" class="headerlink" title="3 ä¸²"></a>3 ä¸²</h3><h5 id="3-1-å®šé•¿ä¸²"><a href="#3-1-å®šé•¿ä¸²" class="headerlink" title="3.1 å®šé•¿ä¸²"></a>3.1 å®šé•¿ä¸²</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> SString[MAXSTRLEN + <span class="number">1</span>];</div><div class="line">SString s;</div></pre></td></tr></table></figure>
<h5 id="3-2-å˜é•¿"><a href="#3-2-å˜é•¿" class="headerlink" title="3.2 å˜é•¿"></a>3.2 å˜é•¿</h5><ul>
<li>å †åˆ†é…å­˜å‚¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	<span class="keyword">char</span> * ch;</div><div class="line">	<span class="keyword">int</span> length;</div><div class="line">&#125;HString;</div></pre></td></tr></table></figure>
<ul>
<li>å—é“¾å­˜å‚¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Chunk</span>&#123;</span></div><div class="line">	<span class="keyword">char</span> ch[CHUNKSIZE];</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Chunk</span> * <span class="title">next</span>;</span></div><div class="line">&#125; Chunk;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	Chunk * head;</div><div class="line">	Chunk * tail;</div><div class="line">	<span class="keyword">int</span> curlen;</div><div class="line">&#125; LString;</div></pre></td></tr></table></figure>
<blockquote>
<p>åº”ç”¨</p>
<ul>
<li>å­ä¸²å®šä½ (KMP)</li>
</ul>
</blockquote>
<h3 id="4-æ•°ç»„å’Œå¹¿ä¹‰è¡¨"><a href="#4-æ•°ç»„å’Œå¹¿ä¹‰è¡¨" class="headerlink" title="4 æ•°ç»„å’Œå¹¿ä¹‰è¡¨"></a>4 æ•°ç»„å’Œå¹¿ä¹‰è¡¨</h3><h5 id="4-1-æ•°ç»„é¡ºåºå­˜å‚¨"><a href="#4-1-æ•°ç»„é¡ºåºå­˜å‚¨" class="headerlink" title="4.1 æ•°ç»„é¡ºåºå­˜å‚¨"></a>4.1 æ•°ç»„é¡ºåºå­˜å‚¨</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	ElemType * base;</div><div class="line">	<span class="keyword">int</span> dim;    <span class="comment">// æ•°ç»„ç»´æ•°</span></div><div class="line">	<span class="keyword">int</span> * bounds;    <span class="comment">// ç»´ç•ŒåŸºå€</span></div><div class="line">	<span class="keyword">int</span> * constants;    <span class="comment">// å°è±¡å‡½æ•°å¸¸é‡åŸºå€</span></div><div class="line">&#125; Array;</div></pre></td></tr></table></figure>
<h5 id="4-2-çŸ©é˜µ"><a href="#4-2-çŸ©é˜µ" class="headerlink" title="4.2 çŸ©é˜µ"></a>4.2 çŸ©é˜µ</h5><blockquote>
<p>è®¨è®ºç¨€ç–çŸ©é˜µçš„å­˜å‚¨</p>
</blockquote>
<ul>
<li>ä¸‰å…ƒé¡ºåºè¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> i;</div><div class="line">	<span class="keyword">int</span> j;</div><div class="line">	ElemType e;</div><div class="line">&#125; Triple;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	Triple data[MAXSIZE + <span class="number">1</span>];</div><div class="line">	<span class="keyword">int</span> mu;    <span class="comment">// è¡Œ</span></div><div class="line">	<span class="keyword">int</span> nu;    <span class="comment">// åˆ—</span></div><div class="line">	<span class="keyword">int</span> tu;    <span class="comment">// éé›¶ä¸ªæ•°</span></div><div class="line">&#125;TSMatrix;</div></pre></td></tr></table></figure>
<ul>
<li>è¡Œé€»è¾‘é“¾æ¥</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	Triple data[MAXSIZE + <span class="number">1</span>];</div><div class="line">	<span class="keyword">int</span> rpos[MAXRC + <span class="number">1</span>];    <span class="comment">// å„è¡Œç¬¬ä¸€ä¸ªéé›¶å…ƒç´ ä½ç½®è¡¨</span></div><div class="line">	<span class="keyword">int</span> mu, nu, tu;</div><div class="line">&#125; RLSMatrix;</div></pre></td></tr></table></figure>
<ul>
<li>åå­—é“¾è¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> i;</div><div class="line">	<span class="keyword">int</span> j;</div><div class="line">	ElemType e;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> * <span class="title">right</span>;</span>    <span class="comment">// è¯¥éé›¶å…ƒç´ æ‰€åœ¨è¡Œçš„å³é“¾åŸŸ</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> * <span class="title">down</span>;</span>    <span class="comment">// è¯¥éé›¶å…ƒç´ æ‰€åœ¨åˆ—çš„ä¸‹é“¾åŸŸ</span></div><div class="line">&#125; OLNode, * OLink;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	OLink * rhead;    <span class="comment">// è¡Œé“¾è¡¨å¤´æŒ‡é’ˆåœ°å€</span></div><div class="line">	OLink * chead;    <span class="comment">// åˆ—é“¾è¡¨å¤´æŒ‡é’ˆåœ°å€</span></div><div class="line">	<span class="keyword">int</span> mu, nu, tu;</div><div class="line">&#125; CrossLink;</div></pre></td></tr></table></figure>
<h5 id="4-3-å¹¿ä¹‰è¡¨"><a href="#4-3-å¹¿ä¹‰è¡¨" class="headerlink" title="4.3 å¹¿ä¹‰è¡¨"></a>4.3 å¹¿ä¹‰è¡¨</h5><blockquote>
<p>è¡¨ä¸­æœ‰è¡¨</p>
</blockquote>
<ul>
<li>å¤´å°¾é“¾è¡¨å­˜å‚¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123; ATOM, LIST &#125; ElemTag;    <span class="comment">// 0 : åŸå­, 1 : å­è¡¨</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> &#123;</span></div><div class="line">	ElemTag tag;</div><div class="line">	<span class="keyword">union</span> &#123;</div><div class="line">		AtomType atom;</div><div class="line">		<span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">			<span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">hp</span>;</span>    <span class="comment">// è¡¨å¤´</span></div><div class="line">			<span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">tp</span>;</span>    <span class="comment">// è¡¨å°¾</span></div><div class="line">		&#125; ptr;    <span class="comment">// è¡¨èŠ‚ç‚¹æŒ‡é’ˆåŸŸ</span></div><div class="line">	&#125;;</div><div class="line">&#125; * GList;</div></pre></td></tr></table></figure>
<ul>
<li>æ‰©å±•çº¿æ€§é“¾è¡¨å­˜å‚¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123; ATOM, LIST &#125; ElemTag;    <span class="comment">// 0 : åŸå­, 1 : å­è¡¨</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> &#123;</span></div><div class="line">	ElemTag tag;</div><div class="line">	<span class="keyword">union</span> &#123;</div><div class="line">		AtomType atom;</div><div class="line">		<span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">			<span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">hp</span>;</span>    <span class="comment">// è¡¨å¤´</span></div><div class="line">		&#125; ptr;    <span class="comment">// è¡¨èŠ‚ç‚¹æŒ‡é’ˆåŸŸ</span></div><div class="line">	&#125;;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">tp</span>;</span>    <span class="comment">// è¡¨å°¾, ç›¸å½“äº next.</span></div><div class="line">&#125; * GList;</div></pre></td></tr></table></figure>
<h3 id="5-æ ‘å’ŒäºŒå‰æ ‘"><a href="#5-æ ‘å’ŒäºŒå‰æ ‘" class="headerlink" title="5 æ ‘å’ŒäºŒå‰æ ‘"></a>5 æ ‘å’ŒäºŒå‰æ ‘</h3><h5 id="5-1-äºŒå‰æ ‘å­˜å‚¨ç»“æ„"><a href="#5-1-äºŒå‰æ ‘å­˜å‚¨ç»“æ„" class="headerlink" title="5.1 äºŒå‰æ ‘å­˜å‚¨ç»“æ„"></a>5.1 äºŒå‰æ ‘å­˜å‚¨ç»“æ„</h5><ul>
<li>é¡ºåºå­˜å‚¨ç»“æ„</li>
</ul>
<blockquote>
<p>æ•°ç»„, åˆ©ç”¨ä¸‹æ ‡å¯»å€</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> TElemType SqBiTree[MAX_TREE_SIZE];</div></pre></td></tr></table></figure>
<ul>
<li>é“¾å¼å­˜å‚¨ç»“æ„</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> &#123;</span></div><div class="line">	TElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> * <span class="title">lchild</span>;</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> * <span class="title">rchild</span>;</span></div><div class="line">&#125; BiTNode, * BiTree;</div></pre></td></tr></table></figure>
<h5 id="5-2-éå†äºŒå‰æ ‘"><a href="#5-2-éå†äºŒå‰æ ‘" class="headerlink" title="5.2 éå†äºŒå‰æ ‘"></a>5.2 éå†äºŒå‰æ ‘</h5><ul>
<li>å…ˆåºéå†</li>
</ul>
<blockquote>
<p>æ ¹èŠ‚ç‚¹ -&gt; å·¦å­æ ‘ -&gt; å³å­æ ‘</p>
</blockquote>
<ul>
<li>ä¸­åºéå†</li>
</ul>
<blockquote>
<p>å·¦å­æ ‘ -&gt; æ ¹èŠ‚ç‚¹ -&gt; å³å­æ ‘</p>
</blockquote>
<ul>
<li>ååºéå†</li>
</ul>
<blockquote>
<p>å·¦å­æ ‘ -&gt; å³å­æ ‘ -&gt; æ ¹èŠ‚ç‚¹</p>
<p>ç®—æ•°è¡¨è¾¾å¼ a + b * (c - d) - e / f</p>
<p>å‰ç¼€è¡¨è¾¾å¼-å…ˆåºéå†(é€†æ³¢å…° : - + a * b - cd / ef)</p>
<p>ä¸­ç¼€è¡¨è¾¾å¼-ä¸­åºéå†(åŸè¡¨è¾¾å¼ : a + b * (c - d) - e / f)</p>
<p>åç¼€è¡¨è¾¾å¼-åç»­éå†(é€†æ³¢å…°å¼ : abcd - * + ef / -)</p>
</blockquote>
<h5 id="5-3-çº¿ç´¢äºŒå‰æ ‘"><a href="#5-3-çº¿ç´¢äºŒå‰æ ‘" class="headerlink" title="5.3 çº¿ç´¢äºŒå‰æ ‘"></a>5.3 çº¿ç´¢äºŒå‰æ ‘</h5><blockquote>
<p>ä¿å­˜æ¯”éå†è¿‡ç¨‹ä¸­çš„èŠ‚ç‚¹ç›¸å…³æ€§ç»“æœ</p>
<p>å‰é©±åç»§èŠ‚ç‚¹å’Œå·¦å³å­©å­æŒ‡ç¤º</p>
<table>
<thead>
<tr>
<th>lchild</th>
<th>LTag</th>
<th>data</th>
<th>RTag</th>
<th>rchild</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>LTag 0 : lchild åŸŸæŒ‡ç¤ºå·¦å­©å­ 1 : lchild åŸŸæŒ‡ç¤ºå‰é©±èŠ‚ç‚¹</p>
<p>RTag 0 : rchild åŸŸæŒ‡ç¤ºå³å­©å­ 1 : rchild åŸŸæŒ‡ç¤ºåç»§èŠ‚ç‚¹</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> PointerTag &#123;Link, Thread&#125;;    <span class="comment">// 0 : æŒ‡é’ˆ 1 : çº¿ç´¢</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> &#123;</span></div><div class="line">	TElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> * <span class="title">lchild</span>;</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> * <span class="title">rchild</span>;</span></div><div class="line">	PointerTag LTag;</div><div class="line">	PointerTag RTag;</div><div class="line">&#125; BiThrNode, * BiThrTree;</div></pre></td></tr></table></figure>
<h5 id="5-4-æ ‘å’Œæ£®æ—"><a href="#5-4-æ ‘å’Œæ£®æ—" class="headerlink" title="5.4 æ ‘å’Œæ£®æ—"></a>5.4 æ ‘å’Œæ£®æ—</h5><ul>
<li>åŒäº²è¡¨ç¤ºæ³•</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">PTNode</span> &#123;</span></div><div class="line">	TElemType data;</div><div class="line">	<span class="keyword">int</span> parent;</div><div class="line">&#125; PTNode;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	PTNode nodes[MAX_TREE_SIZE];</div><div class="line">	<span class="keyword">int</span> r;    <span class="comment">// æ ¹çš„ä½ç½®</span></div><div class="line">	<span class="keyword">int</span> n;    <span class="comment">// èŠ‚ç‚¹æ•°</span></div><div class="line">&#125; PTree;</div></pre></td></tr></table></figure>
<ul>
<li>å­©å­è¡¨ç¤ºæ³•</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CTNode</span> &#123;</span>    <span class="comment">// å­©å­èŠ‚ç‚¹</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">CTNode</span> * <span class="title">next</span>;</span></div><div class="line">	<span class="keyword">int</span> child;</div><div class="line">&#125; * ChildPtr;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	TElemType data;</div><div class="line">	ChildPtr firstchild;    <span class="comment">// å­©å­é“¾è¡¨å¤´æŒ‡é’ˆ</span></div><div class="line">&#125; CTBox;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	CTBox nodes[MAX_TREE_SIZE];</div><div class="line">	<span class="keyword">int</span> r;    <span class="comment">// æ ¹çš„ä½ç½®</span></div><div class="line">	<span class="keyword">int</span> n;    <span class="comment">// èŠ‚ç‚¹æ•°</span></div><div class="line">&#125; CTree;</div></pre></td></tr></table></figure>
<ul>
<li>å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> &#123;</span></div><div class="line">	ElemType data;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> * <span class="title">firstchild</span>;</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> * <span class="title">nextsibling</span>;</span></div><div class="line">&#125; CSNode, * CSTree;</div></pre></td></tr></table></figure>
<h5 id="5-5-äºŒå‰æ ‘å’Œæ£®æ—äº’æ¢"><a href="#5-5-äºŒå‰æ ‘å’Œæ£®æ—äº’æ¢" class="headerlink" title="5.5 äºŒå‰æ ‘å’Œæ£®æ—äº’æ¢"></a>5.5 äºŒå‰æ ‘å’Œæ£®æ—äº’æ¢</h5><ul>
<li>æ£®æ—è½¬æ¢æˆäºŒå‰æ ‘</li>
</ul>
<blockquote>
<p>å·¦å­©å­å³å…„å¼Ÿ(å·¦å³æ˜¯å¯¹äºŒå‰æ ‘è€Œè¨€, å­©å­å…„å¼Ÿæ˜¯å¯¹æ£®æ—è€Œè¨€, ä¸‹é¢åŒç†) </p>
</blockquote>
<ul>
<li>äºŒå‰æ ‘è½¬æ¢æˆæ£®æ—</li>
</ul>
<blockquote>
<p>å·¦å­©å­è½¬æ¢æˆå­©å­, å³å­©å­è½¬æ¢æˆå…„å¼Ÿ</p>
</blockquote>
<h5 id="5-6-æ ‘å’Œæ£®æ—éå†"><a href="#5-6-æ ‘å’Œæ£®æ—éå†" class="headerlink" title="5.6 æ ‘å’Œæ£®æ—éå†"></a>5.6 æ ‘å’Œæ£®æ—éå†</h5><ul>
<li>å…ˆåºéå†æ£®æ—</li>
</ul>
<blockquote>
<ol>
<li><p>ç¬¬ä¸€æ£µæ ‘çš„æ ¹</p>
</li>
<li><p>å…ˆåºéå†ç¬¬ä¸€æ£µæ ‘ä¸­æ ¹èŠ‚ç‚¹çš„å­æ ‘æ£®æ—</p>
</li>
<li><p>å…ˆåºéå†é™¤ç¬¬ä¸€æ£µæ ‘å‰©ä½™çš„æ ‘æ„æˆçš„æ£®æ—</p>
</li>
</ol>
</blockquote>
<ul>
<li>ä¸­åºéå†æ£®æ—</li>
</ul>
<blockquote>
<ol>
<li><p>ä¸­åºéå†ç¬¬ä¸€æ£µæ ‘ä¸­æ ¹èŠ‚ç‚¹çš„å­æ ‘æ£®æ—</p>
</li>
<li><p>ç¬¬ä¸€æ£µæ ‘çš„æ ¹</p>
</li>
<li><p>ä¸­åºéå†é™¤ç¬¬ä¸€æ£µæ ‘å‰©ä½™çš„æ ‘æ„æˆçš„æ£®æ—</p>
</li>
</ol>
</blockquote>
<h3 id="7-å›¾"><a href="#7-å›¾" class="headerlink" title="7 å›¾"></a>7 å›¾</h3><h5 id="7-1-å›¾çš„å­˜å‚¨ç»“æ„"><a href="#7-1-å›¾çš„å­˜å‚¨ç»“æ„" class="headerlink" title="7.1 å›¾çš„å­˜å‚¨ç»“æ„"></a>7.1 å›¾çš„å­˜å‚¨ç»“æ„</h5><ul>
<li>æ•°ç»„è¡¨ç¤ºæ³•</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;DG, DN, UDG, UDN&#125; GraphKind;    <span class="comment">// &#123;æœ‰å‘å›¾, æœ‰å‘ç½‘, æ— å‘å›¾, æ— å‘ç½‘&#125;</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcCell</span> &#123;</span></div><div class="line">	VRType adj;    <span class="comment">// é¡¶ç‚¹ç›¸å…³ç±»å‹. æ— æƒå›¾ : 1/0 è¡¨ç¤ºç›¸é‚»ä¸å¦ å¸¦æƒå›¾ : æƒå€¼ä¿¡æ¯</span></div><div class="line">	InfoType * info;    <span class="comment">// è¯¥å¼§ç›¸å…³çš„æŒ‡é’ˆ</span></div><div class="line">&#125; ArcCell, AdjMatrix[MAX_VERTEX_NUM][MAX_VERTEX_NUM];</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	VertexType vexs[MAX_VERTEX_NUM];    <span class="comment">// é¡¶ç‚¹å‘é‡</span></div><div class="line">	AdjMatrix arcs;    <span class="comment">// é‚»æ¥çŸ©é˜µ</span></div><div class="line">	<span class="keyword">int</span> vexnum;    <span class="comment">// é¡¶ç‚¹æ•°</span></div><div class="line">	<span class="keyword">int</span> arcnum;    <span class="comment">// å¼§æ•°</span></div><div class="line">	GraphKind kind;    <span class="comment">// å›¾çš„ç§ç±»æ ‡å¿—</span></div><div class="line">&#125; MGraph;</div></pre></td></tr></table></figure>
<ul>
<li>é‚»æ¥è¡¨</li>
</ul>
<blockquote>
<p> è¡¨èŠ‚ç‚¹</p>
<table>
<thead>
<tr>
<th>adjvex</th>
<th>nextarc</th>
<th>info</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>å¤´ç»“ç‚¹</p>
<table>
<thead>
<tr>
<th>data</th>
<th>firstarc</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> adjvex;    <span class="comment">// è¯¥å¼§æ‰€æŒ‡å‘é¡¶ç‚¹ä½ç½®</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> * <span class="title">nextarc</span>;</span>    <span class="comment">// æŒ‡å‘ä¸‹ä¸€æ¡å¼§çš„æŒ‡é’ˆ</span></div><div class="line">	InfoType * info;    <span class="comment">// è¯¥å¼§ç›¸å…³ä¿¡æ¯çš„æŒ‡é’ˆ</span></div><div class="line">&#125; ArcNode;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VNode</span> &#123;</span></div><div class="line">	VertexType data;    <span class="comment">// é¡¶ç‚¹ä¿¡æ¯</span></div><div class="line">	ArcNode * firstarc;    <span class="comment">// æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„å¼§çš„æŒ‡é’ˆ</span></div><div class="line">&#125; VNode, AdjList[MAX_VERTEX_NUM];</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	AdjList vertices;</div><div class="line">	<span class="keyword">int</span> vexnum;    <span class="comment">// é¡¶ç‚¹æ•°</span></div><div class="line">	<span class="keyword">int</span> arcnum;    <span class="comment">// å¼§æ•°</span></div><div class="line">	<span class="keyword">int</span> kind;    <span class="comment">// ç§ç±»æ ‡è®°</span></div><div class="line">&#125; ALGraph;</div><div class="line">```	</div><div class="line">	</div><div class="line">- åå­—é“¾è¡¨</div><div class="line">	</div><div class="line">&gt; å¼§èŠ‚ç‚¹</div><div class="line">&gt; </div><div class="line">&gt; | tailvex | headvex | hlink | tlink | info |</div><div class="line">&gt; |---------|---------|-------|-------|------|</div><div class="line">&gt; </div><div class="line">&gt; é¡¶ç‚¹èŠ‚ç‚¹</div><div class="line">&gt; </div><div class="line">&gt; | data | firstin | firstout |</div><div class="line">&gt; |------|---------|----------|</div><div class="line">&gt;</div><div class="line">	</div><div class="line">```C</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcBox</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> tailvex;    <span class="comment">// è¯¥å¼§çš„å°¾é¡¶ç‚¹ä½ç½®</span></div><div class="line">	<span class="keyword">int</span> headvex;    <span class="comment">// è¯¥å¼§çš„å¤´é¡¶ç‚¹ä½ç½®</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ArcBox</span> * <span class="title">hlink</span>;</span>    <span class="comment">// å¼§å¤´ç›¸åŒçš„å¼§çš„é“¾åŸŸ</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ArcBox</span> * <span class="title">tlink</span>;</span>    <span class="comment">// å¼§å°¾ç›¸åŒçš„å¼§çš„é“¾åŸŸ</span></div><div class="line">	InfoType * info;    <span class="comment">// è¯¥å¼§ç›¸å…³ä¿¡æ¯æŒ‡é’ˆ</span></div><div class="line">&#125; ArcBox;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VexNode</span> &#123;</span></div><div class="line">	VertexType data;</div><div class="line">	ArcBox * firstin;    <span class="comment">// æŒ‡å‘è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¡å…¥å¼§</span></div><div class="line">	ArcBox * firstout;    <span class="comment">// æŒ‡å‘è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¡å‡ºå¼§</span></div><div class="line">&#125; VexNode;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	VexNode xlist[MAX_VERTEX_NUM];    <span class="comment">// è¡¨å¤´å‘é‡</span></div><div class="line">	<span class="keyword">int</span> vexnum;    <span class="comment">// æœ‰å‘å›¾çš„å½“å‰é¡¶ç‚¹æ•°</span></div><div class="line">	<span class="keyword">int</span> arcnum;    <span class="comment">// æœ‰å‘å›¾çš„å½“å‰å¼§æ•°</span></div><div class="line">&#125; OLGraph;</div></pre></td></tr></table></figure>
<ul>
<li>é‚»æ¥å¤šé‡è¡¨</li>
</ul>
<blockquote>
<p>æ¯ä¸€æ¡è¾¹ç”¨ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤º</p>
<table>
<thead>
<tr>
<th>mark</th>
<th>ivex</th>
<th>ilink</th>
<th>jvex</th>
<th>jlink</th>
<th>info</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>æ¯ä¸ªé¡¶ç‚¹ç”¨ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤º</p>
<table>
<thead>
<tr>
<th>data</th>
<th>firstedge</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;unvisited, visited&#125; VisitIf;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">EBox</span> &#123;</span></div><div class="line">	VisitIf mark;    <span class="comment">// è®¿é—®æ ‡è®°</span></div><div class="line">	<span class="keyword">int</span> ivex;    <span class="comment">// ä¾é™„é¡¶ç‚¹ä½ç½®</span></div><div class="line">	<span class="keyword">int</span> jvex;    <span class="comment">// ä¾é™„é¡¶ç‚¹ä½ç½®</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">EBox</span> * <span class="title">ilink</span>;</span>    <span class="comment">// ä¾é™„é¡¶ç‚¹çš„ä¸‹ä¸€è¾¹</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">EBox</span> * <span class="title">jlink</span>;</span>    <span class="comment">// ä¾é™„é¡¶ç‚¹çš„ä¸‹ä¸€è¾¹</span></div><div class="line">	InfoType * info;    <span class="comment">// è¯¥è¾¹çš„ä¿¡æ¯æŒ‡é’ˆ</span></div><div class="line">&#125; EBox;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VexBox</span> &#123;</span></div><div class="line">	VertexType data;</div><div class="line">	EBox * firstedge;    <span class="comment">// æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„è¾¹</span></div><div class="line">&#125; VexBox;</div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">	VexBox adjmulist[MAX_VERTEX_NUM];</div><div class="line">	<span class="keyword">int</span> vexnum;    <span class="comment">// æ— å‘å›¾çš„é¡¶ç‚¹æ•°</span></div><div class="line">	<span class="keyword">int</span> edgenum;    <span class="comment">// æ— å‘å›¾çš„è¾¹æ•°</span></div><div class="line">&#125; AMLGraph</div></pre></td></tr></table></figure>
<h5 id="7-2-å›¾çš„éå†"><a href="#7-2-å›¾çš„éå†" class="headerlink" title="7.2 å›¾çš„éå†"></a>7.2 å›¾çš„éå†</h5><ul>
<li>æ·±åº¦ä¼˜å…ˆæœç´¢</li>
</ul>
<blockquote>
<p>ä»¥è¿·å®«ä¸ºä¾‹å­(é¢è¯•ä¸­è¢«é—®åˆ°, å°è±¡æ¯”è¾ƒæ·±åˆ»). æ·±åº¦ä¼˜å…ˆå°±æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘, æ‰€ä»¥è¿”å›çš„ç¬¬ä¸€æ¡è·¯å¾„ä¸ä¿è¯æ˜¯æœ€ä¼˜è§£. </p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">Boolean visited[MAX];    // è®¿é—®æ ‡å¿—æ•°ç»„</div><div class="line">Status (* VisiteFunc) (int v);    // å‡½æ•°å˜é‡</div><div class="line">	</div><div class="line">void DFSTraverse(Graph G, Status (* Visit)(int v)) &#123;    // æ·±åº¦ä¼˜å…ˆéå†</div><div class="line">	VisitFunc = Visit;    // ä½¿ç”¨å…¨å±€å˜é‡ VisitFunc, ä½¿ DFS ä¸å¿…è®¾ç½®å‡½æ•°æŒ‡é’ˆå‚æ•°</div><div class="line">	for (v = 0; v &lt; G.vexnum; ++v) &#123;</div><div class="line">		visited[v] = FALSE;    // è®¿é—®æ•°ç»„æ ‡å¿—åˆå§‹åŒ–</div><div class="line">	&#125;</div><div class="line">	for (v = 0; v &lt; G.vexnum; ++v) &#123;</div><div class="line">		if (!visited[v]) &#123;</div><div class="line">			DFS(G, v);    // å¯¹æœªè®¿é—®çš„é¡¶ç‚¹è°ƒç”¨ DFS</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">	</div><div class="line">void DFS(Graph G, int v) &#123;    // ä»ç¬¬ v ä¸ªé¡¶ç‚¹å‡ºå‘é€’å½’çš„æ·±åº¦ä¼˜å…ˆéå†å›¾ G.</div><div class="line">	visited[v] = TRUE;</div><div class="line">	VisitFunc(v);    // è®¿é—®ç¬¬ v ä¸ªé¡¶ç‚¹</div><div class="line">	for (w = FirstAdjVex(G, v); w &gt;= 0; w = NextAdjVex(G, v, w)) &#123;</div><div class="line">		if (!visited[w]) &#123;</div><div class="line">			DFS(G, w);    // å¯¹ v çš„å°šæœªè®¿é—®çš„é‚»æ¥é¡¶ç‚¹ w é€’å½’è°ƒç”¨ DFS.</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å¹¿åº¦ä¼˜å…ˆæœç´¢</li>
</ul>
<blockquote>
<p>æœ‰ç‚¹å±‚åºéå†çš„æ„æ€, åœ¨éå†å®Œæ‰€æœ‰æƒ…å†µä¸‹(å¯ä»¥è¿›è¡Œç®—æ³•ä¼˜åŒ–, å¯¹æœ‰äº›æƒ…å†µè¿›è¡Œèˆå¼ƒ)å¯ä»¥å¾—å‡ºæœ€ä¼˜è§£. </p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">void BFSTraverse(Graph G, Status (* Visit) (int v)) &#123;</div><div class="line">	for (v= 0; v &lt; G.vexnum; ++v) &#123;</div><div class="line">		visited[v] = FALSE;</div><div class="line">	&#125;</div><div class="line">	InitQueue(Q);</div><div class="line">	for (v = 0; v &lt; G.vexnum; ++v) &#123;</div><div class="line">		if (!visited[v]) &#123;</div><div class="line">			visited[v] = TRUE;</div><div class="line">			Visit(v);</div><div class="line">			EnQueue(Q, v);</div><div class="line">			while (!QueueEmpty(Q)) &#123;</div><div class="line">				DeQueue(Q, u);</div><div class="line">				for (w = FirstAdjVex(G, u); w &gt;= 0; w = NextAdjVex(G, u, w)) &#123;</div><div class="line">					// w ä¸º u å°šæœªè®¿é—®çš„é‚»æ¥é¡¶ç‚¹</div><div class="line">					if (!visited[w]) &#123;</div><div class="line">						visited[w] = TRUE;</div><div class="line">						Visit(w);</div><div class="line">						EnQueue(Q, w);</div><div class="line">					&#125; // if</div><div class="line">				&#125; // for</div><div class="line">			&#125; // while</div><div class="line">		&#125; // if</div><div class="line">	&#125; // for</div><div class="line">&#125; // BFSTraverse</div></pre></td></tr></table></figure>
<p>// ä»¥ä¸‹å¾…å¡«</p>
<h5 id="7-3-å›¾çš„è¿é€šæ€§é—®é¢˜"><a href="#7-3-å›¾çš„è¿é€šæ€§é—®é¢˜" class="headerlink" title="7.3 å›¾çš„è¿é€šæ€§é—®é¢˜"></a>7.3 å›¾çš„è¿é€šæ€§é—®é¢˜</h5><ul>
<li>æ— å‘å›¾çš„è¿é€šåˆ†é‡å’Œç”Ÿæˆæ ‘</li>
<li>æœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡</li>
</ul>
<h5 id="7-4-æœ€å°ç”Ÿæˆæ ‘"><a href="#7-4-æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="7.4 æœ€å°ç”Ÿæˆæ ‘"></a>7.4 æœ€å°ç”Ÿæˆæ ‘</h5><ul>
<li><p><a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm" target="_blank" rel="external">Prim ç®—æ³• O(n2)</a></p>
<p><img src="/2017/08/02/reDS/PrimAlgDemo.gif" alt="æ²¡å›¾æˆ³ wikipedia æˆ– fitzeng.org"></p>
<blockquote>
<p>ä»¥ç‚¹ä¸ºä¸»: ä¸»è¦æ˜¯åˆ†ä¸ºä¸¤ä¸ªé›†åˆ, ä¸€ä¸ªæ˜¯å·²åŠ å…¥çš„èŠ‚ç‚¹, å¦ä¸€ä¸ªæ˜¯æœªåŠ å…¥èŠ‚ç‚¹. åœ¨æœªåŠ å…¥çš„èŠ‚ç‚¹é›†åˆä¸­æ‰¾åˆ°ä¸€ä¸ªç¦»å·²åŠ å…¥é›†åˆæœ€è¿‘çš„èŠ‚ç‚¹åŠ å…¥. ç›´è‡³æ‰€æœ‰èŠ‚ç‚¹è¢«åŠ å…¥. </p>
</blockquote>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Kruskal%27s_algorithm" target="_blank" rel="external">Kruskal ç®—æ³• O(eloge)</a></p>
<p><img src="/2017/08/02/reDS/MST_kruskal_en.gif" alt="æ²¡å›¾æˆ³ wikipedia æˆ– fitzeng.org"></p>
<blockquote>
<p>ä»¥è¾¹ä¸ºä¸»: åˆå§‹æ¡ä»¶æ˜¯æŠŠå›¾çš„æ‰€æœ‰è¾¹å»é™¤å˜æˆ V ä¸ªè¿é€šå›¾. ç„¶åæ¯æ¬¡æ‰¾ä¸€æ¡ä»£ä»·æœ€å°çš„è¾¹åŠ å…¥, ç¡®ä¿æ¯åŠ å…¥ä¸€æ¡è¾¹è¿é€šå›¾ä¸ªæ•°éƒ½å‡å°‘ä¸€ä¸ª(ä¹Ÿå°±æ˜¯ç¡®ä¿æ— ç¯è·¯)ã€‚ç›´è‡³æˆä¸€ä¸ªè¿é€šå›¾æ—¶å°±æ˜¯æœ€å°ç”Ÿæˆæ ‘.  </p>
</blockquote>
</li>
</ul>
<h5 id="7-5-æœ€çŸ­è·¯å¾„"><a href="#7-5-æœ€çŸ­è·¯å¾„" class="headerlink" title="7.5 æœ€çŸ­è·¯å¾„"></a>7.5 æœ€çŸ­è·¯å¾„</h5><ul>
<li><p><a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" target="_blank" rel="external">Dijkstra ç®—æ³• O(n3)</a></p>
<p><img src="/2017/08/02/reDS/Dijkstra_Animation.gif" alt="æ²¡å›¾æˆ³ wikipedia æˆ– fitzeng.org"></p>
<blockquote>
<p>ä¸»è¦æ˜¯ç»´æŠ¤ä¸€ä¸ªè¡¨å’Œä¸€ä¸ªå·²åŠ å…¥è·¯å¾„é›†åˆ, è¡¨è®°å½•ä»åŸç‚¹åˆ°æ¯ä¸€ä¸ªç‚¹çš„å½“å‰æœ€å°æƒå€¼. å¦‚æœå·²åŠ å…¥è·¯å¾„é›†åˆä¸­çš„ç‚¹é€šè¿‡æŸæ¡è·¯å¾„å¯¹æœªåŠ å…¥é›†åˆä¸­çš„ç‚¹çš„æœ€å°æƒå€¼æœ‰å½±å“åˆ™æ›´æ–°è¯¥èŠ‚ç‚¹æƒå€¼. æœ€ååœ¨æ¯æ¬¡æ›´æ–°å®Œæˆååˆ¤æ–­ç›®å‰æœªåŠ å…¥é›†åˆä¸­çš„æœ€å°æƒå€¼èŠ‚ç‚¹åŠ å…¥é›†åˆ, å†å¯¹è¯¥èŠ‚ç‚¹çš„è¾¹æ‰€è¾¾çš„èŠ‚ç‚¹åšå¦‚ä¸Šåˆ¤æ–­. æœ€ç»ˆå¯ä»¥æ±‚å‡ºèµ·ç‚¹åˆ°æ¯ä¸€ä¸ªç‚¹çš„æ‰€æœ‰æœ€çŸ­è·¯å¾„. </p>
</blockquote>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm" target="_blank" rel="external">Floyd ç®—æ³• O(n3)</a></p>
<blockquote>
<p>ä¸»è¦æ˜¯åˆ¤æ–­ç»è¿‡è¯¥ç‚¹åˆ°è¾¾çš„ä¸´æ—¶ç›®ç‚¹çš„æƒå€¼å’Œè¯¥ç‚¹ç›®å‰æƒå€¼(å¯ä»¥ä¸è€ƒè™‘æ˜¯å¦å·²ç»ç»è¿‡, ä½†æ˜¯å¾ªç¯åªä¼šæ‰«ä¸€éæ‰€ä»¥æ²¡æœ‰ä»€ä¹ˆå½±å“)çš„å¤§å°æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–°æƒå€¼.</p>
</blockquote>
</li>
<li><p>å…³é”®è·¯å¾„å’Œæ‹“æ‰‘æ’åº (KeyWord : æ¾å¼›)</p>
</li>
</ul>
<h3 id="8-åŠ¨æ€å­˜å‚¨ç®¡ç†"><a href="#8-åŠ¨æ€å­˜å‚¨ç®¡ç†" class="headerlink" title="8 åŠ¨æ€å­˜å‚¨ç®¡ç†"></a>8 åŠ¨æ€å­˜å‚¨ç®¡ç†</h3><h3 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h3>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åœ¨å¤§ä¸‰åˆ°å¤§å››è¿‡æ¸¡æœŸä¸­, ä»å››æœˆåˆ°ä¸ƒæœˆ, ç»å†è¿‡å‡ åœºé¢è¯•, æ‰¾å®ä¹ . (å¦‚æœå…«æœˆä»½æ‹¿åˆ°[çœŸ.offer]çš„è¯æˆ‘ä¹Ÿæƒ³æŠŠè¿™æ®µç»å†è®°å½•ä¸‹æ¥) ç»“æœå¾ˆæ‚²å‰§, è§‰å¾—æ–¹å‘ä¸æ˜¯ä»€ä¹ˆéšœç¢, åŸºç¡€æ¯”è¾ƒé‡, æ‰€ä»¥è¦é‡æ‹¾æ•°æ®ç»“æ„ä¸æ¶‰åŠç®—æ³•å…·ä½“å®ç°, å› ä¸ºæ˜¯é‡æ‹¾, æ‰€ä»¥å…ˆå‰æœ‰ä¸€å®šåŸºç¡€, åªè¦æœ‰ä¸€ç‚¹æç¤ºä¾¿èƒ½å”¤é†’æ— é™å›å¿†. è¿™é‡Œä¸»è¦æ˜¯è®°å½•å„ç§æ•°æ®ç»“æ„çš„ç»“æ„ä½“, è¿™æ˜¯ç»è¿‡é‡é‡æ€ç»´è¿‡ç¨‹å¾—å‡ºçš„ç²¾å, ååˆ†æœ‰ä»·å€¼. è‡³äºå…·ä½“å®ç°å’Œè®²è§£æ—¥åå›ä¼šä»¥é“¾æ¥å½¢å¼æä¾›, è¿™é‡Œåªæä¾›ä¸€ä¸ªæ€ç»´æ ‘, å»ºç«‹ä¸€ä¸ªæ•°æ®æœºæ„çš„æ€ç»´ä½“ç³», åç»­æ›´æ–°æ¬¢è¿å…³æ³¨ &lt;a href=&quot;https://github.com/mk43/Algo-Math&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Algo" scheme="http://fitzeng.org/tags/Algo/"/>
    
      <category term="Math" scheme="http://fitzeng.org/tags/Math/"/>
    
      <category term="C/C++" scheme="http://fitzeng.org/tags/C-C/"/>
    
      <category term="DataStruct" scheme="http://fitzeng.org/tags/DataStruct/"/>
    
  </entry>
  
  <entry>
    <title>Android å•å…ƒæµ‹è¯•å·¥å…· Robolectric ä¸­æ–‡æ–‡æ¡£</title>
    <link href="http://fitzeng.org/2017/07/31/robolectric/"/>
    <id>http://fitzeng.org/2017/07/31/robolectric/</id>
    <published>2017-07-30T16:00:00.000Z</published>
    <updated>2017-07-31T04:40:59.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2017/07/31/robolectric/robolectric-cn.png" alt=""></p>
<h3 id="ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£"><a href="#ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£?"></a>ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£?</h3><blockquote>
<p>ç”±äºåœ¨å¤§ä¸‰æš‘å‡æ—¶é—´ç®—æ˜¯æ¯”è¾ƒå……è£•çš„, ç„¶ååŠ ä¸Šè‡ªå·±è‹±è¯­æ¯”è¾ƒæ¸£, åˆå¯¹ gitbook æœ‰å…´è¶£, æ‰€ä»¥å°±æƒ³ç¿»è¯‘ä¸€äº›æ–‡æ¡£. å¹³æ—¶ä¹Ÿæ˜¯ä¸€ç›´çœ‹åˆ«äººçš„å¹²è´§, æ‰€ä»¥ä¹Ÿæƒ³è‡ªå·±åšç‚¹è´¡çŒ®, å¸Œæœ›èƒ½å¸®åŠ©è‹±è¯­æ˜¯çŸ­æ¿çš„éƒ¨åˆ†äºº. </p>
</blockquote>
<a id="more"></a>
<h3 id="ä¸ºä»€ä¹ˆæ˜¯-Robolectric"><a href="#ä¸ºä»€ä¹ˆæ˜¯-Robolectric" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ Robolectric?"></a>ä¸ºä»€ä¹ˆæ˜¯ Robolectric?</h3><blockquote>
<p>å…¶å®åŸå› å¾ˆç®€å•, å°±æ˜¯æˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡ <a href="http://fitzeng.org/2017/05/14/Android%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%20Robolectric%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">Android å•å…ƒæµ‹è¯•å’Œ Robolectric æºç è§£æ</a> çš„æ–‡ç« , ç›´æ¥çœ‹çš„äºŒæ‰‹èµ„æ–™, æ„Ÿè§‰è¿™ç§å­¦ä¹ æ–¹å¼å¤ªè¢«åŠ¨äº†, è¦è‡ªå·±å°è¯•å»å•ƒç¬¬ä¸€æ‰‹èµ„æ–™. è€Œæ­£å¥½ç½‘ä¸Šæ²¡æœ‰å¯¹åº”çš„ä¸­æ–‡æ–‡æ¡£åŠ ä¸Šå†…å®¹å°‘, ä¸€ä¸ªäººå¯ä»¥å®Œæˆ, å†åŠ ä¸Šå‰é¢çš„ç¬¬ä¸€ç‚¹å°±ç›´æ¥å¼€å§‹è¡ŒåŠ¨äº†.</p>
</blockquote>
<h3 id="é˜…è¯»å»ºè®®"><a href="#é˜…è¯»å»ºè®®" class="headerlink" title="é˜…è¯»å»ºè®®"></a>é˜…è¯»å»ºè®®</h3><blockquote>
<p>æˆ‘è‡ªçŸ¥è‡ªå·±æ°´å¹³å¾ˆæ¸£, æ‰€ä»¥ä¸€äº›å®åœ¨æƒ³ä¸é€šçš„ç›´æ¥ç»™å‡ºäº†åŸæ–‡å¯¹åº”çš„è‹±æ–‡æ–‡æ¡£ä¾›å¤§å®¶å‚è€ƒ, å¦‚æœä½ å·²ç»æ˜¯æœ‰äº† 4/6 çº§çš„æ°´å¹³, æ¨èä½ ç›´æ¥çœ‹è‹±æ–‡æ–‡æ¡£, è¿™ä»½å¯ä»¥ä½œå‚è€ƒ. å½“ç„¶å¦‚æœå¯ä»¥çš„è¯, æ¬¢è¿å¤§å®¶ç•™è¨€æå‡ºä¿®æ”¹æ„è§. å¯¹äºç¿»è¯‘éš¾ç†è§£, æœ‰æ­§ä¹‰, æœ‰é”™è¯¯çš„åœ°æ–¹æ¬¢è¿å¤§å®¶æŒ‡å‡ºæ¥. æˆ‘åœ¨æ­¤å…ˆè¡¨ç¤ºæ„Ÿè°¢. </p>
</blockquote>
<h3 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h3><blockquote>
<ul>
<li><p><a href="http://robolectric.org/" target="_blank" rel="external">Robolectric</a></p>
</li>
<li><p><a href="https://robolectric-cn.com/" target="_blank" rel="external">Robolectric-cn</a></p>
</li>
<li><p><a href="https://github.com/mk43/robolectric-cn" target="_blank" rel="external">GitHub</a></p>
</li>
<li><p><a href="https://www.gitbook.com/@mk43" target="_blank" rel="external">GitBook</a></p>
</li>
</ul>
</blockquote>
<h3 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h3><blockquote>
<p>ç›®å‰æ˜¯ä¸€ä¸ª Android å¼€å‘è€…, å³å°†æ¯•ä¸šé¢ä¸´å°±ä¸š, å¸Œæœ›åœ¨æ¯•ä¸šå‰åšä¸€äº›è‡ªå·±å–œæ¬¢çš„äº‹æƒ…. åŒæ—¶ä¹Ÿå¸Œæœ›èƒ½è´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›, å’Œå¤§å®¶æ¢è®¨å­¦ä¹ .</p>
<ul>
<li><p><a href="http://fitzeng.org/">Blog</a></p>
</li>
<li><p><a href="https://github.com/mk43" target="_blank" rel="external">GitHub</a></p>
</li>
</ul>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2017/07/31/robolectric/robolectric-cn.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£?&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆè¦ç¿»è¯‘æ–‡æ¡£?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç”±äºåœ¨å¤§ä¸‰æš‘å‡æ—¶é—´ç®—æ˜¯æ¯”è¾ƒå……è£•çš„, ç„¶ååŠ ä¸Šè‡ªå·±è‹±è¯­æ¯”è¾ƒæ¸£, åˆå¯¹ gitbook æœ‰å…´è¶£, æ‰€ä»¥å°±æƒ³ç¿»è¯‘ä¸€äº›æ–‡æ¡£. å¹³æ—¶ä¹Ÿæ˜¯ä¸€ç›´çœ‹åˆ«äººçš„å¹²è´§, æ‰€ä»¥ä¹Ÿæƒ³è‡ªå·±åšç‚¹è´¡çŒ®, å¸Œæœ›èƒ½å¸®åŠ©è‹±è¯­æ˜¯çŸ­æ¿çš„éƒ¨åˆ†äºº. &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://fitzeng.org/tags/Android/"/>
    
      <category term="Android Unit Test" scheme="http://fitzeng.org/tags/Android-Unit-Test/"/>
    
  </entry>
  
  <entry>
    <title>JavaTips</title>
    <link href="http://fitzeng.org/2017/07/25/JavaTips/"/>
    <id>http://fitzeng.org/2017/07/25/JavaTips/</id>
    <published>2017-07-25T03:27:00.000Z</published>
    <updated>2017-09-19T11:31:43.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä¸ªäººåœ¨äºŒæ¬¡å­¦ä¹  Java è¿‡ç¨‹ä¸­, å¯¹ Java çš„ä¸€äº›å¸¸è§ç‰¹æ€§è¯¯è§£çš„åˆ†æ. </p>
<p>ä¸»è¦æ˜¯ä»¥æµ‹è¯•ä»£ç åŠ æµ‹è¯•ç»“æœçš„å½¢å¼æ¥è®°å½•. è¿™é‡Œåªåšæ”¶é›†æ•´ç†å’Œç®€å•åˆ†æ, è¯¦æƒ…è¯·è§å‚è€ƒé“¾æ¥, æ”¯æŒåŸä½œè€….</p>
</blockquote>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul>
<li>åŸºæœ¬ç±»å‹<ul>
<li>== å’Œ equals</li>
<li>String, StringBuffer å’Œ StringBuilder</li>
<li>Array</li>
<li>ArrayList</li>
<li>LinkedList</li>
<li>Exception</li>
<li>Collction</li>
</ul>
</li>
<li>åŸºæœ¬æ¦‚å¿µ<ul>
<li>ç±»å˜é‡å’Œå±€éƒ¨å˜é‡</li>
</ul>
</li>
</ul>
<a id="more"></a>
<h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h3><h4 id="å’Œ-equals"><a href="#å’Œ-equals" class="headerlink" title="== å’Œ equals"></a>== å’Œ equals</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">TestCode:</div><div class="line">Integer a = <span class="number">100</span>;</div><div class="line">Integer b = <span class="number">100</span>;</div><div class="line">System.out.println(a == b);</div><div class="line"></div><div class="line">Integer c = <span class="number">1000</span>;</div><div class="line">Integer d = <span class="number">1000</span>;</div><div class="line">System.out.println(c == d);</div><div class="line"></div><div class="line">Output:</div><div class="line"><span class="keyword">true</span></div><div class="line"><span class="keyword">false</span></div></pre></td></tr></table></figure>
<blockquote>
<p>å…¶ä¸­ == ç»“æœä¸ä¸€è‡´æ˜¯å› ä¸º Integer ç±»å¯¹åœ¨ -128 åˆ° 127 ä¹‹é—´çš„æ•°å€¼è¿›è¡Œäº†ç¼“å­˜. </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">TestCode:</div><div class="line">Integer e = new Integer(100);</div><div class="line">Integer f = new Integer(100);</div><div class="line">System.out.println(e == f);</div><div class="line"></div><div class="line">Output:</div><div class="line">false</div></pre></td></tr></table></figure>
<blockquote>
<p><code>Integer a = 100;</code>æ¶‰åŠåˆ°è‡ªåŠ¨è£…ç®±é—®é¢˜, åç¼–è¯‘ä¹‹åå°±æ˜¯ <code>Integer a = Integer.valueOf(100);</code>.<br>è€Œ<code>Integer e = new Integer(100);</code> åç¼–è¯‘ä¸æ”¹å˜. æ‰€ä»¥åœ¨ a å’Œ e è¿™ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨çš„å †åŒºåŸŸä¸€ä¸ªæ˜¯é€šè¿‡<code>valueOf()</code>è·å¾—, å¦ä¸€ä¸ªæ˜¯é€šè¿‡<code>new</code>è·å¾—. æ¯«æ— ç–‘é—® <code>new</code> å‡ºæ¥çš„è‚¯å®šä¸ä¼šæ˜¯åŒä¸€å—åŒºåŸŸ. è€Œ <code>valueOf()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">&gt; 	<span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</div><div class="line">&gt; 		<span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</div><div class="line">&gt; 	<span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</div><div class="line">&gt; &#125;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±è§£é‡Šäº†å‰é¢çš„<code>Integer ç±»å¯¹åœ¨ -128 åˆ° 127 ä¹‹é—´çš„æ•°å€¼è¿›è¡Œäº†ç¼“å­˜</code>. è¯¦æƒ…è§æºç .</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">TestCode:</div><div class="line">String s1 = <span class="string">"1234"</span>;</div><div class="line">String s2 = <span class="string">"1234"</span>;</div><div class="line">System.out.println(s1 == s2);</div><div class="line"></div><div class="line">String s3 = <span class="keyword">new</span> String(<span class="string">"1234"</span>);</div><div class="line">String s4 = <span class="keyword">new</span> String(<span class="string">"1234"</span>);</div><div class="line">System.out.println(s3 == s4);</div><div class="line"></div><div class="line">Output:</div><div class="line"><span class="keyword">true</span></div><div class="line"><span class="keyword">false</span></div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•, å°±æ˜¯åœ¨ JVM ä¸­å­˜åœ¨å¸¸é‡æ± . è¿˜æœ‰è¦æ³¨æ„çš„æ˜¯ä¸¤ç§åˆå§‹åŒ–æ–¹å¼çš„ä¸åŒæ‰é€ æˆäº†è¿™ä¸ªå·®å¼‚. </p>
<p>ä¸‹é¢åˆ†æ equals ,è¯¦æƒ…è§å‚è€ƒ.è¿™é‡Œåªæå‡ ç‚¹æ˜“æ··æ·†çš„åœ°æ–¹.</p>
<blockquote>
<p>equals æ˜¯å±äºç±»æ–¹æ³•, è€Œä¸”æ˜¯ Object ç±»çš„. è€Œ Object ç±»çš„å®ç°å°±æ˜¯åˆ¤æ–­å¼•ç”¨æ˜¯å¦ç›¸ç­‰.</p>
<p>è€Œå¯¹äºæŸä¸ªç±»æ¥è¯´åˆ¤æ–­ç›¸ç­‰ä¸€èˆ¬æ˜¯åˆ¤æ–­é‡Œé¢çš„æŸäº›æˆå‘˜å˜é‡æ˜¯å¦ç›¸ç­‰. æ‰€ä»¥å°±è¦é‡å†™çˆ¶ç±»æ–¹æ³•.è¿™é‡Œè¦åŒºåˆ†é‡å†™å’Œé‡è½½.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; é‡å†™:</div><div class="line">&gt; <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;&#125;</div><div class="line">&gt; é‡è½½:</div><div class="line">&gt; <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(MyObject myObj)</span> </span>&#123;&#125;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥è¦æƒ³å®ç°è‡ªå·±æƒ³è¦çš„ equals æ–¹æ³•åº”è¯¥æ˜¯é‡å†™.</p>
<p>å…¶å®è¿™é‡Œé¢çš„ä¸»è¦å†…å®¹å°±æ˜¯äº†è§£äº†è‡ªåŠ¨æ‹†è£…ç®±å’Œ JVM å†…åˆ†é…å°±ä¸éš¾äº†.</p>
<ul>
<li>ç¬¬ä¸€ç±»ï¼šæ•´å‹ byte Byte | short Short | int Integer | long Long</li>
<li>ç¬¬äºŒç±»ï¼šæµ®ç‚¹å‹ float Float | double Double</li>
<li>ç¬¬ä¸‰ç±»ï¼šé€»è¾‘å‹ boolean Boolean</li>
<li>ç¬¬å››ç±»ï¼šå­—ç¬¦å‹ char Character</li>
</ul>
<p>åœ¨æ”¯æŒ equals ç‰¹æ€§çš„æ—¶å€™, å¾€å¾€è¿˜è¦æ”¯æŒ hashCode </p>
</blockquote>
<p>å‚è€ƒ: </p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/27562748" target="_blank" rel="external">è®©äººç–‘æƒ‘çš„Javaä»£ç </a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27570687" target="_blank" rel="external">Javaå­—ç¬¦ä¸²é‚£äº›äº‹å„¿</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27573287" target="_blank" rel="external">è¯´è¯´Javaé‡Œçš„equalsï¼ˆä¸Šï¼‰</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27657548" target="_blank" rel="external">Javaè‡ªåŠ¨è£…ç®±/æ‹†ç®±</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27741179" target="_blank" rel="external">è¯´è¯´Javaé‡Œçš„equalsï¼ˆä¸­ï¼‰</a></li>
</ul>
<h4 id="String-StringBuffer-å’Œ-StringBuilder"><a href="#String-StringBuffer-å’Œ-StringBuilder" class="headerlink" title="String, StringBuffer å’Œ StringBuilder"></a>String, StringBuffer å’Œ StringBuilder</h4><ul>
<li>String</li>
</ul>
<blockquote>
<p>final ç±».</p>
<p>String s=â€sssâ€;    ä¼šåœ¨é™æ€å¸¸é‡æ± ä¸­æŸ¥æ‰¾</p>
<p>String s = new String(â€œsssâ€);    ç›´æ¥åœ¨å †ä¸­å¼€è¾Ÿå†…å­˜</p>
<p>ä½¿ç”¨åœºåˆ: åœ¨å­—ç¬¦ä¸²ä¸ç»å¸¸å˜åŒ–çš„åœºæ™¯ä¸­å¯ä»¥ä½¿ç”¨ String ç±», å¦‚: å¸¸é‡çš„å£°æ˜, å°‘é‡çš„å˜é‡è¿ç®—ç­‰</p>
</blockquote>
<ul>
<li>StringBuffer</li>
</ul>
<blockquote>
<p>çº¿ç¨‹å®‰å…¨, å¯è‡ªèº«ä¿®æ”¹</p>
<p>å¿…é¡»é€šè¿‡æ„é€ å‡½æ•°åˆå§‹åŒ–</p>
<p>ä½¿ç”¨åœºåˆ: åœ¨é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—(æ‹¼æ¥, æ›¿æ¢, åˆ é™¤ç­‰), å¹¶ä¸”è¿è¡Œåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­, åˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ StringBuffer, ä¾‹å¦‚ XML è§£æ, HTTP å‚æ•°è§£æå’Œå°è£…ç­‰</p>
</blockquote>
<ul>
<li>StringBuilder</li>
</ul>
<blockquote>
<p>çº¿ç¨‹ä¸å®‰å…¨, æ“ä½œæœ€å¿«</p>
<p>ä½¿ç”¨åœºåˆ: å’Œ StringBuffer ç±»ä¼¼çš„ä¸è¦æ±‚çº¿ç¨‹å®‰å…¨åœºæ™¯, æ•ˆç‡æ¯” StringBuffer é«˜</p>
</blockquote>
<h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><blockquote>
<p>æ˜¯ä¸€ä¸ªåœ¨ JVM ä¸­çš„ç‰¹æ®Šå¯¹è±¡, å¯ä»¥ä½¿ç”¨åå°„æŸ¥çœ‹</p>
<p>æ‹·è´æ—¶æ³¨æ„æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´</p>
</blockquote>
<h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h4><blockquote>
<p>é¦–å…ˆè¦çŸ¥é“çš„æ˜¯è¿™æ˜¯ä¸€ä¸ª Array æ‰€ä»¥åœ¨è¿›è¡Œä¿®æ”¹æ“ä½œæ—¶ååˆ†ä¸æ–¹ä¾¿çš„. ç‰¹åˆ«æ˜¯å¢åŠ æˆ–è€…åˆ é™¤å…ƒç´ , æ‰©å¤§å­˜å‚¨ç­‰æ–¹å¼ç›¸æ¯”é“¾è¡¨ç»“æ„æ¥è¯´éº»çƒ¦å¤ªå¤š.çŸ¥é“è¿™ä¸ªä¸ºå‡ºå‘ç‚¹, å¯¹äºæºç å®ç°çš„ç†è§£å°±ç†æ‰€å½“ç„¶äº†.<br>åº”è¯¥äº†è§£çš„å‡ ä¸ªç‚¹</p>
<ul>
<li>åœ¨ ArrayList ä¸­ä»æœ‰å…ƒç´ å¼€å§‹å°±ä¼šåˆ†é… 10 çš„å¯¹è±¡å¤§å°å®¹é‡. æ¥ä¸‹æ¥ä»¥ <code>currentSize * 1.5</code> çš„å¤§å°æ‰©å®¹.</li>
<li>å¯¹äºä¿®æ”¹ç©ºé—´æ˜¯ä»¥ System.arraycopy() å½¢å¼ä¿®æ”¹çš„. ä¸ºäº†æé«˜æ•ˆç‡é‡‡ç”¨çš„æ˜¯ native æ–¹æ³•.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">arraycopy</span><span class="params">(Object src, </span></span></div><div class="line">&gt; 		<span class="keyword">int</span>  srcPos, Object dest, <span class="keyword">int</span> destPos, <span class="keyword">int</span> length);</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>è¯¦æƒ…æºç åˆ†æè§å‚è€ƒ.</p>
</blockquote>
<p>å‚è€ƒ: </p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/27873515" target="_blank" rel="external">ArrayListåˆæ¢</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27878015" target="_blank" rel="external">å†æ¢ArrayListï¼ˆArrayListçš„æ‰©å®¹ï¼‰</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27938717" target="_blank" rel="external">ä¸‰é¡¾ArrayList</a></li>
</ul>
<h4 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h4><blockquote>
<p>å®ç°æ–¹å¼æ˜¯åŒå‘é“¾è¡¨</p>
</blockquote>
<h4 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h4><p><img src="http://img.my.csdn.net/uploads/201212/02/1354439580_6933.PNG" alt=""></p>
<ul>
<li>å°½å¯èƒ½çš„å‡å°tryå—</li>
<li>ä¿è¯æ‰€æœ‰èµ„æºéƒ½è¢«æ­£ç¡®é‡Šæ”¾, å……åˆ†è¿ç”¨finallyå…³é”®è¯</li>
<li>catchè¯­å¥åº”å½“å°½é‡æŒ‡å®šå…·ä½“çš„å¼‚å¸¸ç±»å‹, è€Œä¸åº”è¯¥æŒ‡å®šæ¶µç›–èŒƒå›´å¤ªå¹¿çš„ Exception ç±». ä¸è¦ä¸€ä¸ªExceptionè¯•å›¾å¤„ç†æ‰€æœ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸</li>
<li>æ—¢ç„¶æ•è·äº†å¼‚å¸¸, å°±è¦å¯¹å®ƒè¿›è¡Œé€‚å½“çš„å¤„ç†</li>
<li>åœ¨å¼‚å¸¸å¤„ç†æ¨¡å—ä¸­æä¾›é€‚é‡çš„é”™è¯¯åŸå› ä¿¡æ¯, ç»„ç»‡é”™è¯¯ä¿¡æ¯ä½¿å…¶æ˜“äºç†è§£å’Œé˜…è¯»</li>
<li>ä¸è¦åœ¨ finally å—ä¸­å¤„ç†è¿”å›å€¼</li>
<li>ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸</li>
</ul>
<p>å‚è€ƒ: </p>
<ul>
<li><a href="http://www.cnblogs.com/chenssy/category/525010.html" target="_blank" rel="external">æ ‘ä¸Šæœˆ</a></li>
</ul>
<h4 id="Collction"><a href="#Collction" class="headerlink" title="Collction"></a>Collction</h4><p><img src="/2017/07/25/JavaTips/collection.jpg" alt=""></p>
<h5 id="List-åˆ—è¡¨-å¯é‡å¤"><a href="#List-åˆ—è¡¨-å¯é‡å¤" class="headerlink" title="List åˆ—è¡¨(å¯é‡å¤)"></a>List åˆ—è¡¨(å¯é‡å¤)</h5><ul>
<li>ArrayList (æ•°ç»„)</li>
<li>LinkedList (é“¾è¡¨)</li>
</ul>
<h5 id="Map-æ˜ å°„-key-value"><a href="#Map-æ˜ å°„-key-value" class="headerlink" title="Map æ˜ å°„(key-value)"></a>Map æ˜ å°„(key-value)</h5><ul>
<li>HashMap</li>
</ul>
<blockquote>
<p>extends AbstractMap<k,v> implements Map<k,v></k,v></k,v></p>
<p>table æ•°ç»„ + Enter èŠ‚ç‚¹</p>
<p>é»˜è®¤åˆå§‹å®¹é‡(16) é»˜è®¤åŠ è½½å› å­(0.75)</p>
<p>æŸ¥æ‰¾é‡‡ç”¨ static int indexFor(int h, int length) { return h &amp; (length-1); } æé«˜æ•ˆç‡, è€Œä¸æ˜¯å–æ¨¡.</p>
</blockquote>
<ul>
<li>TreeMap</li>
</ul>
<blockquote>
<p>extends AbstractMap<k,v> implements NavigableMap<k,v> </k,v></k,v></p>
<p>interface NavigableMap<k,v> extends SortedMap<k,v></k,v></k,v></p>
<p>interface SortedMap<k,v> extends Map<k,v></k,v></k,v></p>
<p>çº¢é»‘æ ‘ + Enter èŠ‚ç‚¹</p>
</blockquote>
<h5 id="Set-é›†åˆ-ä¸èƒ½é‡å¤"><a href="#Set-é›†åˆ-ä¸èƒ½é‡å¤" class="headerlink" title="Set é›†åˆ(ä¸èƒ½é‡å¤)"></a>Set é›†åˆ(ä¸èƒ½é‡å¤)</h5><ul>
<li>HashSet</li>
</ul>
<blockquote>
<p>extends AbstractSet<e> implements Set<e></e></e></p>
<p>å†…éƒ¨åŸºäº HashMap å®ç° </p>
</blockquote>
<ul>
<li>TreeSet</li>
</ul>
<blockquote>
<p>extends AbstractSet<e> implements NavigableSet<e> </e></e></p>
<p>interface NavigableSet<e> extends SortedSet<e></e></e></p>
<p>interface SortedSet<e> extends Set<e></e></e></p>
<p>åŸºäº TreeMap å®ç°</p>
</blockquote>
<h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><h4 id="ç±»å˜é‡å’Œå±€éƒ¨å˜é‡"><a href="#ç±»å˜é‡å’Œå±€éƒ¨å˜é‡" class="headerlink" title="ç±»å˜é‡å’Œå±€éƒ¨å˜é‡"></a>ç±»å˜é‡å’Œå±€éƒ¨å˜é‡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> a;</div><div class="line">	System.out.println(a);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç±»å˜é‡ï¼šå‡†å¤‡é˜¶æ®µã€åˆå§‹åŒ–é˜¶æ®µéƒ½å¯èµ‹å€¼ã€‚<br>å±€éƒ¨å˜é‡ï¼šå‡†å¤‡é˜¶æ®µä¸èƒ½æ£€æµ‹ï¼Œåˆå§‹åŒ–é˜¶æ®µæœªåˆå§‹åŒ–ä¸èƒ½ä½¿ç”¨ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä¸ªäººåœ¨äºŒæ¬¡å­¦ä¹  Java è¿‡ç¨‹ä¸­, å¯¹ Java çš„ä¸€äº›å¸¸è§ç‰¹æ€§è¯¯è§£çš„åˆ†æ. &lt;/p&gt;
&lt;p&gt;ä¸»è¦æ˜¯ä»¥æµ‹è¯•ä»£ç åŠ æµ‹è¯•ç»“æœçš„å½¢å¼æ¥è®°å½•. è¿™é‡Œåªåšæ”¶é›†æ•´ç†å’Œç®€å•åˆ†æ, è¯¦æƒ…è¯·è§å‚è€ƒé“¾æ¥, æ”¯æŒåŸä½œè€….&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a href=&quot;#ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;ç›®å½•&quot;&gt;&lt;/a&gt;ç›®å½•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;åŸºæœ¬ç±»å‹&lt;ul&gt;
&lt;li&gt;== å’Œ equals&lt;/li&gt;
&lt;li&gt;String, StringBuffer å’Œ StringBuilder&lt;/li&gt;
&lt;li&gt;Array&lt;/li&gt;
&lt;li&gt;ArrayList&lt;/li&gt;
&lt;li&gt;LinkedList&lt;/li&gt;
&lt;li&gt;Exception&lt;/li&gt;
&lt;li&gt;Collction&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŸºæœ¬æ¦‚å¿µ&lt;ul&gt;
&lt;li&gt;ç±»å˜é‡å’Œå±€éƒ¨å˜é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://fitzeng.org/tags/Java/"/>
    
      <category term="Tips" scheme="http://fitzeng.org/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>leetcode ç®—æ³•é›†é”¦</title>
    <link href="http://fitzeng.org/2017/07/17/AlgoAndMath/"/>
    <id>http://fitzeng.org/2017/07/17/AlgoAndMath/</id>
    <published>2017-07-17T03:27:00.000Z</published>
    <updated>2017-07-20T08:54:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="leetcode-ç®—æ³•é›†é”¦"><a href="#leetcode-ç®—æ³•é›†é”¦" class="headerlink" title="leetcode ç®—æ³•é›†é”¦"></a><a href="https://www.nowcoder.com/ta/leetcode" target="_blank" rel="external">leetcode ç®—æ³•é›†é”¦</a></h2><blockquote>
<p>ä¸»è¦æ˜¯ç‰›å®¢ç½‘ä¸Š leetcode çš„ç®—æ³•é¢˜å®è·µ. åœ¨ Blog åŒ…å«è‡ªå·±çš„è§£æ³•å’Œå¯¹åˆ«äººä¼˜ç§€è§£æ³•çš„åˆ†æ.</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">åºå·</th>
<th style="text-align:center">è€ƒç‚¹</th>
<th style="text-align:center">é¢˜ç›®</th>
<th style="text-align:center">C/C++</th>
<th style="text-align:center">Java     </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">  01</td>
<td style="text-align:center">æ ‘</td>
<td style="text-align:center">Minimum Depth of Binary Tree</td>
<td style="text-align:center">NULL</td>
<td style="text-align:center"><a href="#jump_01">é¢˜è§£</a>  </td>
</tr>
<tr>
<td style="text-align:center">  02</td>
<td style="text-align:center">æ ˆ</td>
<td style="text-align:center">evaluate-reverse-polish-notation</td>
<td style="text-align:center">NULL</td>
<td style="text-align:center"><a href="#jump_02">é¢˜è§£</a> </td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h3 id="02-evaluate-reverse-polish-notation"><a href="#02-evaluate-reverse-polish-notation" class="headerlink" title="02 : evaluate-reverse-polish-notation"></a><span id="jump_02"><a href="https://www.nowcoder.com/practice/22f9d7dd89374b6c8289e44237c70447?tpId=46&amp;tqId=29031&amp;rp=1&amp;ru=/ta/leetcode&amp;qru=/ta/leetcode/question-ranking" target="_blank" rel="external">02 : evaluate-reverse-polish-notation</a></span></h3><blockquote>
<p>Evaluate the value of an arithmetic expression in Reverse Polish Notation.Valid operators are+,-,*,/. Each operand may be an integer or another expression.</p>
<p>Some examples:</p>
<p>[â€œ2â€, â€œ1â€, â€œ+â€, â€œ3â€, â€œ<em>â€œ] -&gt; ((2 + 1) </em> 3) -&gt; 9</p>
<p>[â€œ4â€, â€œ13â€, â€œ5â€, â€œ/â€œ, â€œ+â€] -&gt; (4 + (13 / 5)) -&gt; 6</p>
</blockquote>
<ul>
<li>æˆ‘çš„è§£æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</div><div class="line">        Stack&lt;String&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> op1 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> op2 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tokens.length; i++) &#123;</div><div class="line">            <span class="keyword">switch</span> (tokens[i]) &#123;</div><div class="line">                <span class="keyword">case</span> <span class="string">"+"</span>: &#123;</div><div class="line">                    op1 = Integer.parseInt(s.pop());</div><div class="line">                    op2 = Integer.parseInt(s.pop());</div><div class="line">                    s.push(String.valueOf(op2 + op1));</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">case</span> <span class="string">"-"</span>: &#123;</div><div class="line">                    op1 = Integer.parseInt(s.pop());</div><div class="line">                    op2 = Integer.parseInt(s.pop());</div><div class="line">                    s.push(String.valueOf(op2 - op1));</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">case</span> <span class="string">"*"</span>: &#123;</div><div class="line">                    op1 = Integer.parseInt(s.pop());</div><div class="line">                    op2 = Integer.parseInt(s.pop());</div><div class="line">                    s.push(String.valueOf(op2 * op1));</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">case</span> <span class="string">"/"</span>: &#123;</div><div class="line">                    op1 = Integer.parseInt(s.pop());</div><div class="line">                    op2 = Integer.parseInt(s.pop());</div><div class="line">                    s.push(String.valueOf(op2 / op1));</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">default</span>: &#123;</div><div class="line">                    s.push(tokens[i]);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> Integer.parseInt(s.pop());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å…¶ä»–è§£æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</div><div class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;tokens.length;i++)&#123;</div><div class="line">            <span class="keyword">try</span>&#123;</div><div class="line">                <span class="keyword">int</span> num = Integer.parseInt(tokens[i]);</div><div class="line">                stack.add(num);</div><div class="line">            &#125;<span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">                <span class="keyword">int</span> b = stack.pop();</div><div class="line">                <span class="keyword">int</span> a = stack.pop();</div><div class="line">                stack.add(get(a, b, tokens[i]));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> stack.pop();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,String operator)</span></span>&#123;</div><div class="line">        <span class="keyword">switch</span> (operator) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">"+"</span>:</div><div class="line">            <span class="keyword">return</span> a+b;</div><div class="line">        <span class="keyword">case</span> <span class="string">"-"</span>:</div><div class="line">            <span class="keyword">return</span> a-b;</div><div class="line">        <span class="keyword">case</span> <span class="string">"*"</span>:</div><div class="line">            <span class="keyword">return</span> a*b;</div><div class="line">        <span class="keyword">case</span> <span class="string">"/"</span>:</div><div class="line">            <span class="keyword">return</span> a/b;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="01-Minimum-Depth-of-Binary-Tree"><a href="#01-Minimum-Depth-of-Binary-Tree" class="headerlink" title="01 : Minimum Depth of Binary Tree"></a><span id="jump_01"><a href="https://www.nowcoder.com/practice/e08819cfdeb34985a8de9c4e6562e724?tpId=46&amp;tqId=29030&amp;tPage=1&amp;rp=1&amp;ru=/ta/leetcode&amp;qru=/ta/leetcode/question-ranking" target="_blank" rel="external">01 : Minimum Depth of Binary Tree</a></span></h3><blockquote>
<p>Given a binary tree, find its minimum depth.The minimum depth is the number of nodes along the shortest path from the root node down to the nearest leaf node.</p>
</blockquote>
<ul>
<li>æˆ‘çš„è§£æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">æ·±åº¦ä¼˜å…ˆéå†æ‰€æœ‰èŠ‚ç‚¹, ç›´è‡³å¶å­èŠ‚ç‚¹åè¿”å›é•¿åº¦. </div><div class="line">æ¯æ¬¡å–å½“å‰èŠ‚ç‚¹å·¦å³å­èŠ‚ç‚¹çš„ [æœ€å°å€¼+<span class="number">1</span>] ä¸ºè¯¥èŠ‚ç‚¹çš„æœ€å°æ·±åº¦. </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">run</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> length1 = run(root.left);</div><div class="line">        <span class="keyword">int</span> length2 = run(root.right);</div><div class="line">        <span class="keyword">if</span> (length1 == <span class="number">0</span> || length2 == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> length1 + length2 + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> Math.min(length1, length2) + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å…¶ä»–æ€è·¯</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">typedef</span> TreeNode* tree;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">(TreeNode *root)</span> </span>&#123;</div><div class="line">        <span class="comment">//é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ–è€…å±‚åºéå†ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå¶èŠ‚ç‚¹çš„æ·±åº¦å³æ˜¯æœ€æµ…ã€‚</span></div><div class="line">      <span class="keyword">if</span>(! root) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">      <span class="built_in">queue</span>&lt;tree&gt; qu;</div><div class="line">      tree last,now;</div><div class="line">      <span class="keyword">int</span> level,size;</div><div class="line">      last = now = root;</div><div class="line">      level = <span class="number">1</span>;qu.push(root);</div><div class="line">      <span class="keyword">while</span>(qu.size())&#123;</div><div class="line">        now = qu.front();</div><div class="line">        qu.pop();</div><div class="line">        size = qu.size();</div><div class="line">        <span class="keyword">if</span>(now-&gt;left)qu.push(now-&gt;left);</div><div class="line">        <span class="keyword">if</span>(now-&gt;right)qu.push(now-&gt;right);</div><div class="line">        <span class="keyword">if</span>(qu.size()-size == <span class="number">0</span>)<span class="keyword">break</span>;</div><div class="line">        <span class="keyword">if</span>(last == now)&#123;</div><div class="line">          level++;</div><div class="line">          <span class="keyword">if</span>(qu.size())last = qu.back();</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> level;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;leetcode-ç®—æ³•é›†é”¦&quot;&gt;&lt;a href=&quot;#leetcode-ç®—æ³•é›†é”¦&quot; class=&quot;headerlink&quot; title=&quot;leetcode ç®—æ³•é›†é”¦&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.nowcoder.com/ta/leetcode&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;leetcode ç®—æ³•é›†é”¦&lt;/a&gt;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸»è¦æ˜¯ç‰›å®¢ç½‘ä¸Š leetcode çš„ç®—æ³•é¢˜å®è·µ. åœ¨ Blog åŒ…å«è‡ªå·±çš„è§£æ³•å’Œå¯¹åˆ«äººä¼˜ç§€è§£æ³•çš„åˆ†æ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;åºå·&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;è€ƒç‚¹&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;é¢˜ç›®&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;C/C++&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;Java     &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;  01&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ ‘&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Minimum Depth of Binary Tree&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;NULL&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;#jump_01&quot;&gt;é¢˜è§£&lt;/a&gt;  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;  02&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ ˆ&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;evaluate-reverse-polish-notation&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;NULL&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;#jump_02&quot;&gt;é¢˜è§£&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
    
    </summary>
    
    
      <category term="Algo" scheme="http://fitzeng.org/tags/Algo/"/>
    
      <category term="Math" scheme="http://fitzeng.org/tags/Math/"/>
    
      <category term="Java" scheme="http://fitzeng.org/tags/Java/"/>
    
      <category term="C/C++" scheme="http://fitzeng.org/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>Android Blog Collection</title>
    <link href="http://fitzeng.org/2017/07/08/AndroidBlogCollection/"/>
    <id>http://fitzeng.org/2017/07/08/AndroidBlogCollection/</id>
    <published>2017-07-08T03:27:00.000Z</published>
    <updated>2017-09-10T06:55:57.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>this repo aims to collect some high quality basic knowledge Android Blog.  Just like source code analysis or something.</p>
<p>è¿™ä¸ªä»“åº“è‡´åŠ›äºæ”¶é›†æˆ‘åœ¨å­¦ä¹  Android å¼€å‘è¿‡ç¨‹æ‰€é‡åˆ°çš„é«˜è´¨é‡çš„åŸºç¡€çŸ¥è¯†æ–‡ç« . ç±»ä¼¼äºæºç åˆ†æä¹‹ç±»çš„, å¯ä»¥å¸®å¤§å®¶åŠ æ·±å¯¹åŸºç¡€åŸç†çš„ç†è§£.</p>
</blockquote>
<h2 id="0-Start"><a href="#0-Start" class="headerlink" title="0. Start"></a>0. Start</h2><h3 id="gt-å‰è¨€"><a href="#gt-å‰è¨€" class="headerlink" title="&gt; å‰è¨€"></a>&gt; å‰è¨€</h3><blockquote>
<p>ç°åœ¨ç½‘ç»œä¸Šæœ‰å¤ªå¤šçš„çŸ¥è¯†å¯ä¾›å­¦ä¹ , ä½†æ˜¯ä½œä¸ºä¸€ä¸ªè‡ªå­¦è€…, æ˜¯å¥½äº‹ä¹Ÿæ˜¯åäº‹, å¥½äº‹æŒ‡ä¸ç”¨æ‹…å¿ƒæ²¡èµ„æº, åäº‹æ˜¯æŒ‡å¯¹å­¦ä¹ æ•ˆç‡,ç†è§£ç¨‹åº¦å’ŒçŸ¥è¯†ä½“ç³»æ­å»ºéƒ½ä¸å¤ªå¥½.ç½‘ä¸Šçš„æ–‡ç« ä¸å…¨æ˜¯é«˜è´¨é‡çš„, è€Œä¸”å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„ç¢ç‰‡åŒ–çŸ¥è¯†,å¤§å®¶å†™çš„éƒ½å·®ä¸å¤š.æ‰€ä»¥ä¸ºäº†è‡ªå·±çš„ç³»ç»Ÿå­¦ä¹ , å»ºè®®ä¹°ä¹¦, ç¢°åˆ°å“ªä¸ªæ¨¡å—ä¸æ‡‚å†æ‰¾å¤§ç‰›çš„ Blog åŠ æ·±ç†è§£. </p>
<p>æ‰€ä»¥å¯ä»¥çœ‹åˆ°æˆ‘æ¨èçš„åŸºæœ¬éƒ½æ˜¯æˆä¸€ä¸ªå°ä½“ç³»çš„ç³»åˆ—æ–‡ç« , å¯ä»¥å¸®åŠ©æˆ‘ä»¬å½¢æˆä¸€ä¸ªå¥½çš„â€å­¦ä¹ æ€ç»´æ ‘â€. è€Œä¸æ˜¯ä¸€å¤§å †â€æ•£å¶â€. è€Œå…¶ä»–æ–‡ç« ä¸»è¦æ˜¯ä½œä¸ºè‡ªå·±åŠ æ·±ç†è§£, å¯¹æŸä¸ªçŸ¥è¯†ç‚¹æ·±å…¥å­¦ä¹ çš„å‚è€ƒ.</p>
<p>é¦–å…ˆå¯ä»¥è‚¯å®šåƒæˆ‘è¿™ç§åˆšåˆšå…¥é—¨çš„åœ¨å†™æ–‡ç« çš„é«˜åº¦å’Œè§†é‡éƒ½ä¸å¦‚å¤§ç‰›. è€Œå¯¹äºåŸºç¡€çš„çŸ¥è¯†,ç‰¹åˆ«æ˜¯æ¶‰åŠæºç è§£æ, åªè¦ä»¥ä¸€ä»½èµ„æ–™ä¸ºä¸»å°±å¯ä»¥äº†. æœ€å¤šåŠ ä¸€ä¸¤ä»½åšå‚è€ƒ. æ‰€ä»¥, åŸºæœ¬è¿™ç§ç±»å‹çš„æ–‡ç« , æˆ‘ä¼šæ”¶è—æ•´ç†åœ¨è¿™ç¯‡æ–‡ç« é‡Œå¹¶ä¸”æ°¸ä¹…æ›´æ–°. åŒæ—¶è‡ªå·±ä¹Ÿä¼šåˆ©ç”¨è¯¾ä½™æ—¶é—´æŠŠè‡ªå·±çš„å®è·µé¡¹ç›®ä»¥ä¸€ä¸ªå…¥é—¨çš„å­¦ä¹ è€…çš„è§†è§’è§£æ, ç›¸ä¿¡è¿™æ ·å¯¹åˆå­¦çš„å¼€å‘è€…æ˜¯æ¯”è¾ƒå‹å¥½çš„.å¦‚æœä½ å’Œæˆ‘ä¹Ÿä¸€æ ·å¤„åœ¨è¿™ä¸ªé˜¶æ®µ, æ¬¢è¿å…³æ³¨è¿™ç¯‡æ–‡ç« .</p>
<p>è¿™é‡Œæ°¸ä¹…æ›´æ–°è¿™ç±»åŸºç¡€çŸ¥è¯†è§£è¯». <a href="https://github.com/mk43" target="_blank" rel="external">GitHub</a> å’Œ <a href="http://fitzeng.org">Blog</a> æ°¸ä¹…æ›´æ–°ç»ƒä¹ é¡¹ç›®. å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©æ¬¢è¿ Star ^_^;</p>
</blockquote>
<h3 id="gt-æ›´æ–°"><a href="#gt-æ›´æ–°" class="headerlink" title="&gt; æ›´æ–°"></a>&gt; æ›´æ–°</h3><ul>
<li>v3 : <a href="https://github.com/mk43" target="_blank" rel="external">æ•¬è¯·æœŸå¾…â€¦</a></li>
<li>v2 : æ·»åŠ  <code>JVM</code> <code>è®¾è®¡æ¨¡å¼</code> <code>å¸¸ç”¨æ¡†æ¶</code> <code>è®¡ç®—æœºåŸºç¡€</code> å››å¤§æ¨¡å—ä¼˜è´¨ Blog æ”¶é›†</li>
<li>v1 : ä»¥ Android View åŸºç¡€çŸ¥è¯†ä¸ºä¸»çš„ Blog æ”¶é›†.</li>
</ul>
<a id="more"></a>
<h2 id="1-UI"><a href="#1-UI" class="headerlink" title="1. UI"></a>1. UI</h2><h3 id="gt-View-çš„ç»˜åˆ¶æºç è§£æ"><a href="#gt-View-çš„ç»˜åˆ¶æºç è§£æ" class="headerlink" title="&gt; View çš„ç»˜åˆ¶æºç è§£æ"></a>&gt; View çš„ç»˜åˆ¶æºç è§£æ</h3><blockquote>
<p>è¿™é‡Œæ¨èçš„æ˜¯<a href="http://www.jianshu.com/nb/9976005" target="_blank" rel="external">Carson_Ho</a>çš„ä¸€ç³»åˆ—æºç åˆ†ææ•™ç¨‹, ä¸»è¦æ˜¯ä» View å’Œ ViewGroup çš„æµ‹é‡, å¸ƒå±€å’Œç»˜åˆ¶è¿‡ç¨‹è¿›è¡Œè¯¦ç»†åˆ†æ, å¾ˆå¤šå›¾ç¤ºååˆ†æ¸…æ™°æ˜“æ‡‚, å¯¹äºåˆå­¦è€…å’Œè¿›é˜¶è€…éƒ½æ˜¯å¾ˆä¸é”™çš„å­¦ä¹ èµ„æ–™. å¦‚æœæœ‰æ‰¾åˆ°å…¶ä»–çš„å¥½çš„æ•™ç¨‹æˆ‘è¿˜ä¼šç»§ç»­åŠ ä¸Š.</p>
</blockquote>
<ul>
<li><a href="http://www.jianshu.com/p/146e5cec4863" target="_blank" rel="external">è‡ªå®šä¹‰ViewåŸºç¡€ - æœ€æ˜“æ‡‚çš„è‡ªå®šä¹‰ViewåŸç†ç³»åˆ—(1)</a></li>
<li><a href="http://www.jianshu.com/p/1dab927b2f36" target="_blank" rel="external">è‡ªå®šä¹‰View Measureè¿‡ç¨‹ - æœ€æ˜“æ‡‚çš„è‡ªå®šä¹‰ViewåŸç†ç³»åˆ—(2)</a></li>
<li><a href="http://www.jianshu.com/p/158736a2549d" target="_blank" rel="external">è‡ªå®šä¹‰View Layoutè¿‡ç¨‹ - æœ€æ˜“æ‡‚çš„è‡ªå®šä¹‰ViewåŸç†ç³»åˆ—(3)</a></li>
<li><a href="http://www.jianshu.com/p/95afeb7c8335" target="_blank" rel="external">è‡ªå®šä¹‰View Drawè¿‡ç¨‹- æœ€æ˜“æ‡‚çš„è‡ªå®šä¹‰ViewåŸç†ç³»åˆ—(4)</a></li>
</ul>
<blockquote>
<p>å‰é¢ç»™äº† View çš„ç»˜åˆ¶æœ€ä¸»è¦çš„ä¸‰ä¸ªè¿‡ç¨‹è¿›è¡Œäº†è¯¦ç»†åˆ†æçš„ Blog, åœ¨å‰é¢çš„é˜…è¯»åŸºç¡€ä¸Š,ä¸‹é¢ç»™å‡º<a href="http://blog.csdn.net/guolin_blog" target="_blank" rel="external">éƒ­éœ–å¤§ç¥</a>çš„ View çš„å·¥ä½œåŸç†ç³»åˆ—æ–‡ç« . ç›¸ä¿¡åœ¨è¯»å®Œä»¥ä¸‹å››ç¯‡æ–‡ç« ä¹‹åä½ ä¼šå¯¹ View æœ‰ä¸€ä¸ªé‡æ–°è®¤è¯†çš„.</p>
</blockquote>
<ul>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/12921889" target="_blank" rel="external">Android LayoutInflateråŸç†åˆ†æï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ·±å…¥äº†è§£View(ä¸€)</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/16330267" target="_blank" rel="external"> Androidè§†å›¾ç»˜åˆ¶æµç¨‹å®Œå…¨è§£æï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ·±å…¥äº†è§£View(äºŒ)</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/17045157" target="_blank" rel="external">Androidè§†å›¾çŠ¶æ€åŠé‡ç»˜æµç¨‹åˆ†æï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ·±å…¥äº†è§£View(ä¸‰)</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/17357967" target="_blank" rel="external"> Androidè‡ªå®šä¹‰Viewçš„å®ç°æ–¹æ³•ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ·±å…¥äº†è§£View(å››)</a></li>
</ul>
<blockquote>
<p>ä¸‹é¢ä»‹ç»<a href="https://juejin.im/user/552f20a7e4b060d72a89d87f" target="_blank" rel="external">æ‰”ç‰©çº¿</a>çš„<a href="https://juejin.im/post/59591e42f265da6c407350c0" target="_blank" rel="external">HenCoderï¼šç»™é«˜çº§ Android å·¥ç¨‹å¸ˆçš„è¿›é˜¶æ‰‹å†Œ</a>, åŒ…å«äº†è§†é¢‘è®²è§£. ç›®å‰æŒç»­æ›´æ–°, åœ¨å­¦ä¹ å®Œå‰é¢çš„ Blog å¹¶è¿›è¡Œäº†éƒ¨åˆ†å®è·µ Demo åæŠŠè¿™å½“åšå¤ä¹ æé«˜æŒºä¸é”™çš„, åŒæ—¶æˆ‘ä¹Ÿä¼šä¸€ç›´å…³æ³¨å¹¶æ›´æ–°.</p>
</blockquote>
<ul>
<li><a href="https://juejin.im/post/5962a3746fb9a06ba2687226" target="_blank" rel="external">HenCoder Android å¼€å‘è¿›é˜¶: è‡ªå®šä¹‰ View 1-1 ç»˜åˆ¶åŸºç¡€</a></li>
</ul>
<h3 id="gt-View-ç›¸å…³ç±»è§£æ"><a href="#gt-View-ç›¸å…³ç±»è§£æ" class="headerlink" title="&gt; View ç›¸å…³ç±»è§£æ"></a>&gt; View ç›¸å…³ç±»è§£æ</h3><blockquote>
<p>è¿™ä¸ªä¸»è¦æ˜¯ä»‹ç»ä¸€äº›å¯¹è‡ªå®šä¹‰ View è¿‡ç¨‹ä¸­éœ€è¦ä»”ç»†äº†è§£çš„ä¸€äº›ç±»çš„ä½¿ç”¨. </p>
</blockquote>
<ul>
<li><a href="http://www.jianshu.com/p/2c19abde958c" target="_blank" rel="external">Pathç±»çš„æœ€å…¨é¢è¯¦è§£ - è‡ªå®šä¹‰Viewåº”ç”¨ç³»åˆ—</a></li>
<li><a href="http://www.jianshu.com/p/762b490403c3" target="_blank" rel="external">Canvasç±»çš„æœ€å…¨é¢è¯¦è§£ - è‡ªå®šä¹‰Viewåº”ç”¨ç³»åˆ—</a></li>
</ul>
<h3 id="gt-XML-ä½¿ç”¨ç¤ºä¾‹"><a href="#gt-XML-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="&gt; XML ä½¿ç”¨ç¤ºä¾‹"></a>&gt; XML ä½¿ç”¨ç¤ºä¾‹</h3><blockquote>
<p>è¿™é‡Œæ¨è<a href="http://keeganlee.me/" target="_blank" rel="external">Keeganå°é’¢</a>çš„Androidæ ·å¼çš„å¼€å‘ç›¸å…³æ•™ç¨‹, é€šè¿‡ååˆ†ç®€æ´çš„å°ä¾‹å­å¸®ä½ å¿«é€Ÿå®ç°å¯¹ XML çš„äº†è§£å’Œä½¿ç”¨.</p>
</blockquote>
<ul>
<li><a href="http://keeganlee.me/post/android/20150830" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:shapeç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20150905" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:selectorç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20150909" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:layer-listç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20150916" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:drawableæ±‡æ€»ç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20151003" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:View Animationç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20151026" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:Property Animationç¯‡</a></li>
<li><a href="http://keeganlee.me/post/android/20151031" target="_blank" rel="external">Androidæ ·å¼çš„å¼€å‘:Styleç¯‡</a></li>
</ul>
<h3 id="gt-åŠ¨ç”»"><a href="#gt-åŠ¨ç”»" class="headerlink" title="&gt; åŠ¨ç”»"></a>&gt; åŠ¨ç”»</h3><blockquote>
<p>Android åŠ¨ç”»ä»‹ç», æ„Ÿè°¢<a href="http://www.jianshu.com/p/551f84402752" target="_blank" rel="external">é˜¿ç¥¥JOKER</a> åˆ†äº«.</p>
</blockquote>
<ul>
<li><a href="http://www.jianshu.com/p/551f84402752" target="_blank" rel="external">AndroidåŠ¨ç”»è§£æ</a></li>
</ul>
<blockquote>
<p>é‡ç‚¹!!!è¿™é‡Œè¿˜æ˜¯æ¨èéƒ­éœ–å¤§ç¥çš„æ–‡ç« . ç„¶ååé¢è¡¥å……ä¸€ç¯‡åçŸ¥è¯†ç‚¹å¼çš„æ–‡ç« ä¾›å¤ä¹ .</p>
</blockquote>
<ul>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/43536355" target="_blank" rel="external">Androidå±æ€§åŠ¨ç”»å®Œå…¨è§£æ(ä¸Š)ï¼Œåˆè¯†å±æ€§åŠ¨ç”»çš„åŸºæœ¬ç”¨æ³•</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/43816093" target="_blank" rel="external"> Androidå±æ€§åŠ¨ç”»å®Œå…¨è§£æ(ä¸­)ï¼ŒValueAnimatorå’ŒObjectAnimatorçš„é«˜çº§ç”¨æ³•</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/44171115" target="_blank" rel="external"> Androidå±æ€§åŠ¨ç”»å®Œå…¨è§£æ(ä¸‹)ï¼ŒInterpolatorå’ŒViewPropertyAnimatorçš„ç”¨æ³•</a></li>
<li>è¡¥å……å‚è€ƒ:<a href="http://www.jianshu.com/p/b7aa2a4a9787" target="_blank" rel="external">AndroidåŠ¨ç”»ï¼Œä¸€ç¯‡å°±å¤Ÿ</a>, æ„Ÿè°¢<a href="http://www.jianshu.com/u/b7e9763ffd86" target="_blank" rel="external">Shaunç™½ä¸€è¾°</a>çš„åˆ†äº«.</li>
</ul>
<h3 id="gt-äº‹ä»¶åˆ†å‘"><a href="#gt-äº‹ä»¶åˆ†å‘" class="headerlink" title="&gt; äº‹ä»¶åˆ†å‘"></a>&gt; äº‹ä»¶åˆ†å‘</h3><blockquote>
<p>äº‹ä»¶åˆ†å‘æ˜¯ä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹, åœ¨é¢è¯•ä¸­ä¹Ÿæœ‰å¾ˆå¤§å‡ ç‡è¢«é—®åˆ°.åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°, åªæœ‰å½»åº•ç†è§£å¥½äº†åœ¨å†™ä»£ç æ—¶å€™æ‰èƒ½æ€è·¯æ¸…æ™°.å¸Œæœ›ä»¥ä¸‹æ–‡ç« èƒ½å¸®åŠ©ä½ æˆ‘å¼„æ¸…äº‹ä»¶åˆ†å‘æœºåˆ¶.</p>
</blockquote>
<ul>
<li><a href="http://www.jianshu.com/p/38015afcdb58" target="_blank" rel="external">Androidäº‹ä»¶åˆ†å‘æœºåˆ¶è¯¦è§£ï¼šå²ä¸Šæœ€å…¨é¢ã€æœ€æ˜“æ‡‚</a></li>
</ul>
<h3 id="gt-è‡ªæˆä½“ç³»çš„-View-æ•™ç¨‹"><a href="#gt-è‡ªæˆä½“ç³»çš„-View-æ•™ç¨‹" class="headerlink" title="&gt; è‡ªæˆä½“ç³»çš„ View æ•™ç¨‹"></a>&gt; è‡ªæˆä½“ç³»çš„ View æ•™ç¨‹</h3><blockquote>
<p>è¿™é‡Œä¸»è¦æ˜¯æ¨èä¸€äº›å…¶ä»–ä¼˜ç§€æ–‡ç« ä½œä¸ºå‚è€ƒé˜…è¯», åŒæ ·ä¹Ÿæ˜¯è‡ªæˆä½“ç³»çš„. </p>
</blockquote>
<ul>
<li><a href="http://www.gcssloop.com/customview/CustomViewIndex/" target="_blank" rel="external">GcsSloop : å®‰å“è‡ªå®šä¹‰Viewæ•™ç¨‹ç›®å½•</a></li>
</ul>
<h2 id="2-Java-API"><a href="#2-Java-API" class="headerlink" title="2. Java API"></a>2. Java API</h2><blockquote>
<p>è¿™é‡Œä¸»è¦æ˜¯å¯¹ Java API ä¸­çš„ä¸€äº›é‡è¦çš„æºç è§£æè¿›è¡Œæ”¶é›†. åŒæ—¶ä¹Ÿæ˜¯é¢è¯•é‡ç‚¹, å¸Œæœ›èƒ½åŠ æ·±å¯¹ Java çš„è®¤è¯†. åšåˆ°çœŸçš„ç†è§£åº•å±‚å®ç°è€Œä¸æ˜¯åªä¼šä½¿ç”¨.</p>
<p>ç”±äº Java é¢å¤ªå¹¿, æ‰€ä»¥åœ¨è¿™é‡Œä¸»è¦æ˜¯ä»¥çŸ¥è¯†ç‚¹çš„å½¢å¼è¦†ç›–åŸºæœ¬æ¦‚å¿µ. è¿™é‡Œæ¨è <a href="http://www.cnblogs.com/chenssy/category/525010.html" target="_blank" rel="external">æ ‘ä¸Šæœˆ</a> çš„æ•™ç¨‹. ä» Blog ä»‹ç»çœ‹æ¥è§¦ Java æœ‰ä¸€æ®µæ—¶é—´, æ‰€ä»¥åˆ†æä¼šæ¯”è¾ƒæ·±å…¥ä¸”æ­£ç¡®. æ›´ä¸»è¦çš„æ˜¯, ä»–æŠŠ Java ç±»æ–‡ç« åŸºæœ¬éƒ½ä¸²èµ·æ¥äº†, å…±æœ‰ 38 ç¯‡å¯ä¾›å­¦ä¹ . æ–‡ç« å¤ªå¤šå°±ä¸ä¸€ä¸€è´´é“¾æ¥äº†â€¦</p>
</blockquote>
<ul>
<li><a href="http://www.cnblogs.com/chenssy/category/525010.html" target="_blank" rel="external">æƒ³å­¦Java, å€¼å¾—ä¸€é˜…</a></li>
</ul>
<h2 id="3-æµ…æJVM"><a href="#3-æµ…æJVM" class="headerlink" title="3. æµ…æJVM"></a>3. æµ…æJVM</h2><blockquote>
<p>å½“ç„¶è¿™å—çŸ¥è¯†ä¼šæ¨èä¸€æœ¬ä¹¦, æ˜¯<a href="https://book.douban.com/subject/24722612/" target="_blank" rel="external">ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹</a>ï¼Œ è€Œç½‘ä¸Šçš„é‚£äº›åˆ†æå¤§å¤šæ•°éƒ½æ˜¯åŸºäºè¿™æœ¬ä¹¦çš„ã€‚è¿™é‡Œä¼šæ”¶é›†ä¸€äº›è¾ƒå¥½çš„è®²è§£å…±åœ¨çº¿é˜…è¯»ã€‚</p>
</blockquote>
<h2 id="4-æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼"><a href="#4-æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼" class="headerlink" title="4. æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼"></a>4. æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼</h2><blockquote>
<p>è¿™å—ä¹Ÿæœ‰ä¸€æœ¬ä¹¦<a href="https://book.douban.com/subject/26644935/" target="_blank" rel="external">ã€ŠAndroid æºç è®¾è®¡æ¨¡å¼è§£æä¸å®æˆ˜ã€‹</a>æ¨è. </p>
</blockquote>
<ul>
<li><p><a href="https://juejin.im/entry/58faca0a1b69e600588cd952" target="_blank" rel="external">Java çš„ 23 ç§è®¾è®¡æ¨¡å¼å…¨è§£æ</a></p>
</li>
<li><p><a href="http://blog.csdn.net/lovelion/article/details/17517213" target="_blank" rel="external">LoveLionï¼šå²ä¸Šæœ€å…¨è®¾è®¡æ¨¡å¼å¯¼å­¦ç›®å½•ï¼ˆå®Œæ•´ç‰ˆï¼‰</a></p>
</li>
</ul>
<h2 id="5-Android-å¸¸ç”¨æ¡†æ¶åˆ†æ"><a href="#5-Android-å¸¸ç”¨æ¡†æ¶åˆ†æ" class="headerlink" title="5. Android å¸¸ç”¨æ¡†æ¶åˆ†æ"></a>5. Android å¸¸ç”¨æ¡†æ¶åˆ†æ</h2><h2 id="6-Android-ä»æ–‡ä»¶åˆ°é¡¹ç›®çš„æœ€åä¸€ç±³"><a href="#6-Android-ä»æ–‡ä»¶åˆ°é¡¹ç›®çš„æœ€åä¸€ç±³" class="headerlink" title="6. Android - ä»æ–‡ä»¶åˆ°é¡¹ç›®çš„æœ€åä¸€ç±³"></a>6. Android - ä»æ–‡ä»¶åˆ°é¡¹ç›®çš„æœ€åä¸€ç±³</h2><blockquote>
<p>ä¸»è¦æ˜¯æä¾›å¼€å‘è¿‡ç¨‹ä¸­çš„éä»£ç æŠ€æœ¯æ€§é—®é¢˜çš„çŸ¥è¯†ä»‹ç»å’Œè§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p><a href="http://blog.csdn.net/ithomer/article/details/8940010" target="_blank" rel="external">Android é¡¹ç›®ç¼–è¯‘è¿‡ç¨‹</a></p>
<p><a href="http://blog.csdn.net/t12x3456/article/details/40837287?spm=5176.8246799.blogcont.3.SR0OqB" target="_blank" rel="external">Android ä½¿ç”¨android-support-multidexè§£å†³Dexè¶…å‡ºæ–¹æ³•æ•°çš„é™åˆ¶é—®é¢˜,è®©ä½ çš„åº”ç”¨ä¸å†çˆ†æ£š</a></p>
<h2 id="7-è®¡ç®—æœºåŸºç¡€"><a href="#7-è®¡ç®—æœºåŸºç¡€" class="headerlink" title="7. è®¡ç®—æœºåŸºç¡€"></a>7. è®¡ç®—æœºåŸºç¡€</h2><h3 id="gt-æ•°æ®åº“"><a href="#gt-æ•°æ®åº“" class="headerlink" title="&gt; æ•°æ®åº“"></a>&gt; æ•°æ®åº“</h3><p><a href="http://blog.jobbole.com/100349/?from=timeline" target="_blank" rel="external">å¦‚æœæœ‰äººé—®ä½ æ•°æ®åº“çš„åŸç†ï¼Œå«ä»–çœ‹è¿™ç¯‡æ–‡ç« </a></p>
<h3 id="gt-ç½‘ç»œ"><a href="#gt-ç½‘ç»œ" class="headerlink" title="&gt; ç½‘ç»œ"></a>&gt; ç½‘ç»œ</h3><h3 id="gt-æ“ä½œç³»ç»Ÿ"><a href="#gt-æ“ä½œç³»ç»Ÿ" class="headerlink" title="&gt; æ“ä½œç³»ç»Ÿ"></a>&gt; æ“ä½œç³»ç»Ÿ</h3>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;this repo aims to collect some high quality basic knowledge Android Blog.  Just like source code analysis or something.&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä»“åº“è‡´åŠ›äºæ”¶é›†æˆ‘åœ¨å­¦ä¹  Android å¼€å‘è¿‡ç¨‹æ‰€é‡åˆ°çš„é«˜è´¨é‡çš„åŸºç¡€çŸ¥è¯†æ–‡ç« . ç±»ä¼¼äºæºç åˆ†æä¹‹ç±»çš„, å¯ä»¥å¸®å¤§å®¶åŠ æ·±å¯¹åŸºç¡€åŸç†çš„ç†è§£.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;0-Start&quot;&gt;&lt;a href=&quot;#0-Start&quot; class=&quot;headerlink&quot; title=&quot;0. Start&quot;&gt;&lt;/a&gt;0. Start&lt;/h2&gt;&lt;h3 id=&quot;gt-å‰è¨€&quot;&gt;&lt;a href=&quot;#gt-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;&amp;gt; å‰è¨€&quot;&gt;&lt;/a&gt;&amp;gt; å‰è¨€&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç°åœ¨ç½‘ç»œä¸Šæœ‰å¤ªå¤šçš„çŸ¥è¯†å¯ä¾›å­¦ä¹ , ä½†æ˜¯ä½œä¸ºä¸€ä¸ªè‡ªå­¦è€…, æ˜¯å¥½äº‹ä¹Ÿæ˜¯åäº‹, å¥½äº‹æŒ‡ä¸ç”¨æ‹…å¿ƒæ²¡èµ„æº, åäº‹æ˜¯æŒ‡å¯¹å­¦ä¹ æ•ˆç‡,ç†è§£ç¨‹åº¦å’ŒçŸ¥è¯†ä½“ç³»æ­å»ºéƒ½ä¸å¤ªå¥½.ç½‘ä¸Šçš„æ–‡ç« ä¸å…¨æ˜¯é«˜è´¨é‡çš„, è€Œä¸”å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„ç¢ç‰‡åŒ–çŸ¥è¯†,å¤§å®¶å†™çš„éƒ½å·®ä¸å¤š.æ‰€ä»¥ä¸ºäº†è‡ªå·±çš„ç³»ç»Ÿå­¦ä¹ , å»ºè®®ä¹°ä¹¦, ç¢°åˆ°å“ªä¸ªæ¨¡å—ä¸æ‡‚å†æ‰¾å¤§ç‰›çš„ Blog åŠ æ·±ç†è§£. &lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¯ä»¥çœ‹åˆ°æˆ‘æ¨èçš„åŸºæœ¬éƒ½æ˜¯æˆä¸€ä¸ªå°ä½“ç³»çš„ç³»åˆ—æ–‡ç« , å¯ä»¥å¸®åŠ©æˆ‘ä»¬å½¢æˆä¸€ä¸ªå¥½çš„â€å­¦ä¹ æ€ç»´æ ‘â€. è€Œä¸æ˜¯ä¸€å¤§å †â€æ•£å¶â€. è€Œå…¶ä»–æ–‡ç« ä¸»è¦æ˜¯ä½œä¸ºè‡ªå·±åŠ æ·±ç†è§£, å¯¹æŸä¸ªçŸ¥è¯†ç‚¹æ·±å…¥å­¦ä¹ çš„å‚è€ƒ.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¯ä»¥è‚¯å®šåƒæˆ‘è¿™ç§åˆšåˆšå…¥é—¨çš„åœ¨å†™æ–‡ç« çš„é«˜åº¦å’Œè§†é‡éƒ½ä¸å¦‚å¤§ç‰›. è€Œå¯¹äºåŸºç¡€çš„çŸ¥è¯†,ç‰¹åˆ«æ˜¯æ¶‰åŠæºç è§£æ, åªè¦ä»¥ä¸€ä»½èµ„æ–™ä¸ºä¸»å°±å¯ä»¥äº†. æœ€å¤šåŠ ä¸€ä¸¤ä»½åšå‚è€ƒ. æ‰€ä»¥, åŸºæœ¬è¿™ç§ç±»å‹çš„æ–‡ç« , æˆ‘ä¼šæ”¶è—æ•´ç†åœ¨è¿™ç¯‡æ–‡ç« é‡Œå¹¶ä¸”æ°¸ä¹…æ›´æ–°. åŒæ—¶è‡ªå·±ä¹Ÿä¼šåˆ©ç”¨è¯¾ä½™æ—¶é—´æŠŠè‡ªå·±çš„å®è·µé¡¹ç›®ä»¥ä¸€ä¸ªå…¥é—¨çš„å­¦ä¹ è€…çš„è§†è§’è§£æ, ç›¸ä¿¡è¿™æ ·å¯¹åˆå­¦çš„å¼€å‘è€…æ˜¯æ¯”è¾ƒå‹å¥½çš„.å¦‚æœä½ å’Œæˆ‘ä¹Ÿä¸€æ ·å¤„åœ¨è¿™ä¸ªé˜¶æ®µ, æ¬¢è¿å…³æ³¨è¿™ç¯‡æ–‡ç« .&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ°¸ä¹…æ›´æ–°è¿™ç±»åŸºç¡€çŸ¥è¯†è§£è¯». &lt;a href=&quot;https://github.com/mk43&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt; å’Œ &lt;a href=&quot;http://fitzeng.org&quot;&gt;Blog&lt;/a&gt; æ°¸ä¹…æ›´æ–°ç»ƒä¹ é¡¹ç›®. å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©æ¬¢è¿ Star ^_^;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;gt-æ›´æ–°&quot;&gt;&lt;a href=&quot;#gt-æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;&amp;gt; æ›´æ–°&quot;&gt;&lt;/a&gt;&amp;gt; æ›´æ–°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;v3 : &lt;a href=&quot;https://github.com/mk43&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ•¬è¯·æœŸå¾…â€¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;v2 : æ·»åŠ  &lt;code&gt;JVM&lt;/code&gt; &lt;code&gt;è®¾è®¡æ¨¡å¼&lt;/code&gt; &lt;code&gt;å¸¸ç”¨æ¡†æ¶&lt;/code&gt; &lt;code&gt;è®¡ç®—æœºåŸºç¡€&lt;/code&gt; å››å¤§æ¨¡å—ä¼˜è´¨ Blog æ”¶é›†&lt;/li&gt;
&lt;li&gt;v1 : ä»¥ Android View åŸºç¡€çŸ¥è¯†ä¸ºä¸»çš„ Blog æ”¶é›†.&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Android" scheme="http://fitzeng.org/tags/Android/"/>
    
      <category term="Collection" scheme="http://fitzeng.org/tags/Collection/"/>
    
  </entry>
  
  <entry>
    <title>Common Sense</title>
    <link href="http://fitzeng.org/2017/07/05/tips/"/>
    <id>http://fitzeng.org/2017/07/05/tips/</id>
    <published>2017-07-05T02:00:00.000Z</published>
    <updated>2017-07-29T12:21:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>this aticle aims to collect some common sense when you meet during dev.<br>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•æˆ‘åœ¨ Android å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›æ¦‚å¿µé—®é¢˜, åœ¨è¿™é‡Œæä¾›ç®€å•å¿«é€Ÿçš„ä½¿ç”¨è§„èŒƒ.</p>
<ul>
<li><a href="#jump_01">å¼€æºé¡¹ç›®è®¸å¯è¯</a></li>
<li><a href="#jump_02">çœ‹æ‡‚UMLç±»å›¾</a></li>
</ul>
<a id="more"></a>
<h4 id="å¼€æºé¡¹ç›®è®¸å¯è¯"><a href="#å¼€æºé¡¹ç›®è®¸å¯è¯" class="headerlink" title="å¼€æºé¡¹ç›®è®¸å¯è¯"></a><span id="jump_01">å¼€æºé¡¹ç›®è®¸å¯è¯</span></h4><p>MITã€GPLv2å’ŒApacheå æ®äº†å‰ä¸‰ä½ã€‚choosealicense.comä¸ºè®¸å¯è¯çš„é€‰æ‹©ç»™å‡ºäº†å»ºè®®.</p>
<ul>
<li>MITæ˜¯ä¸€ä¸ªå‡ ä¹å¯ä»¥â€œä¸ºæ‰€æ¬²ä¸ºâ€çš„è®¸å¯è¯ï¼Œå¦‚æœä½ å¸Œæœ›ç®€å•ã€å®½æ¾ï¼Œå®ƒæ˜¯ä½ çš„ä¸äºŒé€‰æ‹©.</li>
<li>å¦‚æœä½ å…³å¿ƒè½¯ä»¶çš„ä¸“åˆ©é—®é¢˜ï¼Œä½†åŒæ ·å¸Œæœ›å®½æ¾ï¼Œå¯ä»¥é€‰æ‹©Apache.</li>
<li>å¦‚æœä½ å¸Œæœ›ä»£ç ä½¿ç”¨è€…åŒæ ·èƒ½æŠŠä»–ä»¬çš„è´¡çŒ®åˆ†äº«å‡ºæ¥ï¼Œé‚£å°±é€‰æ‹©GPL.</li>
</ul>
<p>å‚è€ƒ: <a href="http://www.infoq.com/cn/news/2015/03/github-open-source-licence" target="_blank" rel="external">æ›¹çŸ¥æ¸Š : GitHubå‘å¸ƒå¼€æºè®¸å¯è¯ä½¿ç”¨æƒ…å†µ</a></p>
<h4 id="çœ‹æ‡‚UMLç±»å›¾"><a href="#çœ‹æ‡‚UMLç±»å›¾" class="headerlink" title="çœ‹æ‡‚UMLç±»å›¾"></a><span id="jump_02">çœ‹æ‡‚UMLç±»å›¾</span></h4><ul>
<li>æ³›åŒ–å…³ç³» (Aç»§æ‰¿è‡ªB)</li>
</ul>
<p><img src="/2017/07/05/tips/uml_generalization.jpg" alt=""></p>
<p>eg:</p>
<p><img src="/2017/07/05/tips/uml_generalize.jpg" alt=""></p>
<ul>
<li>å®ç°å…³ç³» (ç»§æ‰¿æŠ½è±¡ç±»)</li>
</ul>
<p><img src="/2017/07/05/tips/uml_realize.jpg" alt=""></p>
<ul>
<li>èšåˆå…³ç³»( A èšåˆåˆ° B ä¸Šæˆ–è€… B ç”± A ç»„æˆ)</li>
</ul>
<p><img src="/2017/07/05/tips/uml_aggregation.jpg" alt=""></p>
<blockquote>
<p>èšåˆå…³ç³»ç”¨äºè¡¨ç¤ºå®ä½“å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œè¡¨ç¤ºæ•´ä½“ç”±éƒ¨åˆ†æ„æˆçš„è¯­ä¹‰ï¼›ä¾‹å¦‚ä¸€ä¸ªéƒ¨é—¨ç”±å¤šä¸ªå‘˜å·¥ç»„æˆï¼›</p>
<p>ä¸ç»„åˆå…³ç³»ä¸åŒçš„æ˜¯ï¼Œæ•´ä½“å’Œéƒ¨åˆ†ä¸æ˜¯å¼ºä¾èµ–çš„ï¼Œå³ä½¿æ•´ä½“ä¸å­˜åœ¨äº†ï¼Œéƒ¨åˆ†ä»ç„¶å­˜åœ¨ï¼›ä¾‹å¦‚ï¼Œ éƒ¨é—¨æ’¤é”€äº†ï¼Œäººå‘˜ä¸ä¼šæ¶ˆå¤±ï¼Œä»–ä»¬ä¾ç„¶å­˜åœ¨ï¼›</p>
</blockquote>
<ul>
<li>ç»„åˆå…³ç³»( A ç»„æˆ B æˆ–è€… B ç”± A ç»„æˆ)</li>
</ul>
<p><img src="/2017/07/05/tips/uml_composition.jpg" alt=""></p>
<blockquote>
<p>ä¸èšåˆå…³ç³»ä¸€æ ·ï¼Œç»„åˆå…³ç³»åŒæ ·è¡¨ç¤ºæ•´ä½“ç”±éƒ¨åˆ†æ„æˆçš„è¯­ä¹‰ï¼›æ¯”å¦‚å…¬å¸ç”±å¤šä¸ªéƒ¨é—¨ç»„æˆï¼›</p>
<p>ä½†ç»„åˆå…³ç³»æ˜¯ä¸€ç§å¼ºä¾èµ–çš„ç‰¹æ®Šèšåˆå…³ç³»ï¼Œå¦‚æœæ•´ä½“ä¸å­˜åœ¨äº†ï¼Œåˆ™éƒ¨åˆ†ä¹Ÿä¸å­˜åœ¨äº†ï¼›ä¾‹å¦‚ï¼Œ å…¬å¸ä¸å­˜åœ¨äº†ï¼Œéƒ¨é—¨ä¹Ÿå°†ä¸å­˜åœ¨äº†ï¼›</p>
</blockquote>
<ul>
<li>å…³è”å…³ç³»</li>
</ul>
<p><img src="/2017/07/05/tips/uml_association.jpg" alt=""></p>
<blockquote>
<p>å®ƒæè¿°ä¸åŒç±»çš„å¯¹è±¡ä¹‹é—´çš„ç»“æ„å…³ç³»ï¼›å®ƒæ˜¯ä¸€ç§é™æ€å…³ç³»ï¼Œ é€šå¸¸ä¸è¿è¡ŒçŠ¶æ€æ— å…³ï¼Œä¸€èˆ¬ç”±å¸¸è¯†ç­‰å› ç´ å†³å®šçš„ï¼›å®ƒä¸€èˆ¬ç”¨æ¥å®šä¹‰å¯¹è±¡ä¹‹é—´é™æ€çš„ã€å¤©ç„¶çš„ç»“æ„ï¼› æ‰€ä»¥ï¼Œå…³è”å…³ç³»æ˜¯ä¸€ç§â€œå¼ºå…³è”â€çš„å…³ç³»ï¼›</p>
<p>æ¯”å¦‚ï¼Œä¹˜è½¦äººå’Œè½¦ç¥¨ä¹‹é—´å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼›å­¦ç”Ÿå’Œå­¦æ ¡å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼›</p>
<p>å…³è”å…³ç³»é»˜è®¤ä¸å¼ºè°ƒæ–¹å‘ï¼Œè¡¨ç¤ºå¯¹è±¡é—´ç›¸äº’çŸ¥é“ï¼›å¦‚æœç‰¹åˆ«å¼ºè°ƒæ–¹å‘ï¼Œå¦‚ä¸‹å›¾ï¼Œè¡¨ç¤ºAçŸ¥é“Bï¼Œä½† Bä¸çŸ¥é“Aï¼›</p>
<p>åœ¨æœ€ç»ˆä»£ç ä¸­ï¼Œå…³è”å¯¹è±¡é€šå¸¸æ˜¯ä»¥æˆå‘˜å˜é‡çš„å½¢å¼å®ç°çš„ï¼›</p>
</blockquote>
<ul>
<li>ä¾èµ–å…³ç³» ( A ä¾èµ–äº B )</li>
</ul>
<p><img src="/2017/07/05/tips/uml_dependency.jpg" alt=""></p>
<blockquote>
<p>ä»–æè¿°ä¸€ä¸ªå¯¹è±¡åœ¨è¿è¡ŒæœŸé—´ä¼šç”¨åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å…³ç³»ï¼›</p>
<p>ä¸å…³è”å…³ç³»ä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§ä¸´æ—¶æ€§çš„å…³ç³»ï¼Œé€šå¸¸åœ¨è¿è¡ŒæœŸé—´äº§ç”Ÿï¼Œå¹¶ä¸”éšç€è¿è¡Œæ—¶çš„å˜åŒ–ï¼› ä¾èµ–å…³ç³»ä¹Ÿå¯èƒ½å‘ç”Ÿå˜åŒ–ï¼›</p>
<p>æ˜¾ç„¶ï¼Œä¾èµ–ä¹Ÿæœ‰æ–¹å‘ï¼ŒåŒå‘ä¾èµ–æ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„ç»“æ„ï¼Œæˆ‘ä»¬æ€»æ˜¯åº”è¯¥ä¿æŒå•å‘ä¾èµ–ï¼Œæœç»åŒå‘ä¾èµ–çš„äº§ç”Ÿï¼›</p>
<p>åœ¨æœ€ç»ˆä»£ç ä¸­ï¼Œä¾èµ–å…³ç³»ä½“ç°ä¸ºç±»æ„é€ æ–¹æ³•åŠç±»æ–¹æ³•çš„ä¼ å…¥å‚æ•°ï¼Œç®­å¤´çš„æŒ‡å‘ä¸ºè°ƒç”¨å…³ç³»ï¼›ä¾èµ–å…³ç³»é™¤äº†ä¸´æ—¶çŸ¥é“å¯¹æ–¹å¤–ï¼Œè¿˜æ˜¯â€œä½¿ç”¨â€å¯¹æ–¹çš„æ–¹æ³•å’Œå±æ€§ï¼›</p>
</blockquote>
<ul>
<li>å®ä¾‹</li>
</ul>
<p><img src="/2017/07/05/tips/uml_class_struct.jpg" alt=""></p>
<blockquote>
<p>è½¦çš„ç±»å›¾ç»“æ„ä¸º&lt;<abstract>&gt;ï¼Œè¡¨ç¤ºè½¦æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼›</abstract></p>
<p>å®ƒæœ‰ä¸¤ä¸ªç»§æ‰¿ç±»ï¼šå°æ±½è½¦å’Œè‡ªè¡Œè½¦ï¼›å®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¸ºå®ç°å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼›</p>
<p>å°æ±½è½¦ä¸ºä¸SUVä¹‹é—´ä¹Ÿæ˜¯ç»§æ‰¿å…³ç³»ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¸ºæ³›åŒ–å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</p>
<p>å°æ±½è½¦ä¸å‘åŠ¨æœºä¹‹é—´æ˜¯ç»„åˆå…³ç³»ï¼Œä½¿ç”¨å¸¦å®å¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</p>
<p>å­¦ç”Ÿä¸ç­çº§ä¹‹é—´æ˜¯èšåˆå…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼›</p>
<p>å­¦ç”Ÿä¸èº«ä»½è¯ä¹‹é—´ä¸ºå…³è”å…³ç³»ï¼Œä½¿ç”¨ä¸€æ ¹å®çº¿è¡¨ç¤ºï¼›</p>
<p>å­¦ç”Ÿä¸Šå­¦éœ€è¦ç”¨åˆ°è‡ªè¡Œè½¦ï¼Œä¸è‡ªè¡Œè½¦æ˜¯ä¸€ç§ä¾èµ–å…³ç³»ï¼Œä½¿ç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼›</p>
</blockquote>
<p>æ³¨: â€œçœ‹æ‡‚UMLç±»å›¾â€ å†…å®¹å…¨éƒ¨å–æè‡ª<a href="http://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html" target="_blank" rel="external">è¯¥ç½‘é¡µ</a>. åœ¨æ­¤åšå‡ºæ„Ÿè°¢, å‡ºäºå­¦ä¹ æ€»ç»“ç›®çš„ç‰¹æ„æŠŠå†…å®¹æ¬è‡³æ­¤å¤„, å¦‚æœ‰ä¾µæƒç«‹å³åˆ é™¤.</p>
<p>å‚è€ƒ: <a href="http://www.cnblogs.com/olvo/archive/2012/05/03/2481014.html" target="_blank" rel="external">congestion : UMLç±»å›¾å…³ç³»ï¼ˆæ³›åŒ– ã€ç»§æ‰¿ã€å®ç°ã€ä¾èµ–ã€å…³è”ã€èšåˆã€ç»„åˆï¼‰</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;this aticle aims to collect some common sense when you meet during dev.&lt;br&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•æˆ‘åœ¨ Android å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›æ¦‚å¿µé—®é¢˜, åœ¨è¿™é‡Œæä¾›ç®€å•å¿«é€Ÿçš„ä½¿ç”¨è§„èŒƒ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#jump_01&quot;&gt;å¼€æºé¡¹ç›®è®¸å¯è¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#jump_02&quot;&gt;çœ‹æ‡‚UMLç±»å›¾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Tips" scheme="http://fitzeng.org/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>BMPå‹ç¼©æˆJPEGè¿‡ç¨‹å®ç°ä¸åˆ†æ</title>
    <link href="http://fitzeng.org/2017/06/13/BMP2JPEG/"/>
    <id>http://fitzeng.org/2017/06/13/BMP2JPEG/</id>
    <published>2017-06-12T16:00:00.000Z</published>
    <updated>2017-07-19T15:35:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/mk43/Algo-Math/tree/master/bmp2jpeg" target="_blank" rel="external">GitHub</a></p>
<hr>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”±äºæœ€è¿‘åšäº†å›¾åƒç›¸å…³çš„å­¦ä¹ ï¼Œæ‰€ä»¥æƒ³å†æ·±å…¥ç‚¹ï¼Œä½†æ˜¯è‡ªå·±çš„çŸ¥è¯†æœ‰é™ï¼Œç›®å‰åªèƒ½æŠŠè‡ªå·±æ‰€å­¦çš„é€šè¿‡è¿™ä¸ªå°å°çš„å®éªŒæ¥åŠ æ·±ç†è§£ã€‚å‚è€ƒå¤§ç‰›çš„ Blog åŠ ä¸Šè‡ªå·±äº²æ‰‹å®è·µï¼Œå†™äº†è¿™ç¯‡æ–‡ç« ã€‚ä»¥åè¿˜ä¼šç»§ç»­æ·»åŠ å›¾åƒå¤„ç†çš„ç›¸å…³çŸ¥è¯†ã€‚<br><img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/y.jpeg" width="240" height="240"> <img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/b.jpeg" width="240" height="240"> <img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/r.jpeg" width="240" height="240"></p>
<a id="more"></a>
<h3 id="BMPä»‹ç»"><a href="#BMPä»‹ç»" class="headerlink" title="BMPä»‹ç»"></a><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html" target="_blank" rel="external">BMPä»‹ç»</a></h3><ul>
<li><p>BMPæ–‡ä»¶å¤´<br>æ–‡ä»¶å¤´ä¸»è¦æ˜¯åŒ…å«ä¸€ä¸ªæ–‡ä»¶çš„IDä¿¡æ¯ï¼Œæ‰€ä»¥BMPçš„æ–‡ä»¶å¤´è‡ªç„¶ä¹Ÿæ˜¯è¯´æ˜è‡ªå·±çš„æ–‡ä»¶æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯14ä½è¡¨ç¤ºã€‚æ„ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/2017/06/13/BMP2JPEG/bmp_1.png" alt=""></p>
</li>
<li><p>ä½å›¾ä¿¡æ¯å¤´<br>ä¿¡æ¯å¤´ä¸»è¦æ˜¯å¯¹å›¾ç‰‡ç‰¹å¾çš„æè¿°ï¼Œæ¯”å¦‚è¯´å®½é«˜ï¼Œåƒç´ ï¼Œå‹ç¼©æ–¹å¼ç­‰ï¼Œä¸€èˆ¬æ˜¯40ä½ã€‚ä¸»è¦ä»‹ç»å¦‚ä¸‹è¡¨ï¼š<br><img src="/2017/06/13/BMP2JPEG/bmp_2.png" alt=""></p>
</li>
<li><p>è°ƒè‰²æ¿<br>è°ƒè‰²æ¿æ˜¯å¯é€‰çš„ï¼Œä½¿ç”¨ç´¢å¼•æ¥è¡¨ç¤ºå›¾åƒï¼Œè°ƒè‰²æ¿å°±æ˜¯ç´¢å¼•ä¸å…¶å¯¹åº”çš„é¢œè‰²çš„æ˜ å°„è¡¨ï¼Œè¿™æ¬¡å®éªŒé€‰ç”¨çš„æ˜¯24bitçš„å›¾ç‰‡ã€‚</p>
</li>
<li>ä½å›¾æ•°æ®<br>è¿™é‡Œå°±æ˜¯å­˜å‚¨å›¾ç‰‡çš„å†…å®¹äº†ã€‚</li>
</ul>
<h3 id="JPEGä»‹ç»"><a href="#JPEGä»‹ç»" class="headerlink" title="JPEGä»‹ç»"></a><a href="https://www.cnblogs.com/lakeone/p/3596996.html" target="_blank" rel="external">JPEGä»‹ç»</a></h3><p>JPEGæ˜¯æœ‰æŸå‹ç¼©ç¼–ç ä¸‹çš„ä¸€ç§å›¾ç‰‡æ ¼å¼ï¼Œç›®å‰å‹ç¼©æ•ˆæœå¥½ï¼Œåº”ç”¨å¹¿æ³›ã€‚å…¶åŸç†ä¸»è¦æ˜¯å°†ä¼ ç»Ÿçš„RGBæ¨¡å¼ä¸‹çš„å›¾ç‰‡è½¬åŒ–æˆYCbCræ ¼å¼ã€‚å› ä¸ºäººçœ¼çš„ç»“æ„é—®é¢˜å¯¹äº®åº¦æ›´åŠ æ•æ„Ÿï¼Œæ‰€ä»¥å¯ä»¥å°†äº®åº¦å’Œè‰²åº¦åˆ†ç¦»å¼€æ¥ï¼Œå¯¹è‰²åº¦å¯è¿›è¡Œè¾ƒå¤§çš„èˆå¼ƒä»è€Œè¿›è¡Œè¾ƒå¤§ç¨‹åº¦çš„å‹ç¼©è€Œå¯¹è§†è§‰ä¸é€ æˆå¤ªå¤§å½±å“ã€‚æ—¢ç„¶æ˜¯å‹ç¼©è€Œæˆçš„æ ¼å¼ï¼Œé‚£å¿…ç„¶æœ‰è§£å‹ç¼©è¿‡ç¨‹ï¼Œè€Œè§£å‹ç¼©æ‰€ä»¥ä¾èµ–çš„é‡åŒ–è¡¨å’Œå“ˆå¤«æ›¼è¡¨è‡ªç„¶è¦è®°å½•ä¸‹æ¥ã€‚æ‰€ä»¥å’ŒBMPå¯¹æ¯”è‡ªç„¶è€Œç„¶å¤´ç»“æ„å‡ºæ¥äº†ï¼Œè€Œä¸”è¦æ¯”BMPå¤æ‚ã€‚ä¸‹é¢åªç»™å‡ºéƒ¨åˆ†ä¿¡æ¯ï¼š<br><img src="/2017/06/13/BMP2JPEG/jpeg_1.png" alt=""></p>
<h3 id="BMP-è¯»å–"><a href="#BMP-è¯»å–" class="headerlink" title="BMP è¯»å–"></a>BMP è¯»å–</h3><ul>
<li>æ„å»ºBMPçš„æ–‡ä»¶å¤´å’Œå¤´ä¿¡æ¯ç»“æ„ä½“</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//BMP æ–‡ä»¶æ ¼å¼ã€æ–‡ä»¶å¤´å’Œå¤´éƒ¨ä¿¡æ¯ã€‘</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">short</span>	bfType;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	bfSize;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">short</span>	bfReserved1;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">short</span>	bfReserved2;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	bfOffBits;</div><div class="line">&#125; BITMAPFILEHEADER;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	biSize;</div><div class="line">		<span class="keyword">int</span>				biWidth;</div><div class="line">		<span class="keyword">int</span>				biHeight;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">short</span>	biPlanes;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">short</span>	biBitCount;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	biCompression;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	biSizeImage;</div><div class="line">		<span class="keyword">int</span>				biXPelsPerMeter;</div><div class="line">		<span class="keyword">int</span>				biYPelsPerMeter;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	biClrUsed;</div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span>	biClrImportant;</div><div class="line">&#125; BITMAPINFOHEADER;</div></pre></td></tr></table></figure>
<ul>
<li>å›¾ç‰‡æ ¡éªŒ</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ‰“å¼€æ–‡ä»¶</span></div><div class="line">FILE* fp = fopen(fileName, <span class="string">"rb"</span>);</div><div class="line"><span class="keyword">if</span>(fp==<span class="number">0</span>) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">BITMAPFILEHEADER fileHeader;</div><div class="line">BITMAPINFOHEADER infoHeader;</div><div class="line"></div><div class="line"><span class="comment">// è¯»å–å¤´éƒ¨ 14å­—èŠ‚</span></div><div class="line"><span class="keyword">if</span>(<span class="number">1</span> != fread(&amp;fileHeader, <span class="keyword">sizeof</span>(fileHeader), <span class="number">1</span>, fp)) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯BMç±»å‹</span></div><div class="line"><span class="keyword">if</span>(fileHeader.bfType!=<span class="number">0x4D42</span>) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è¯»å–å¤´éƒ¨ä¿¡æ¯ 40å­—èŠ‚</span></div><div class="line"><span class="keyword">if</span>(<span class="number">1</span> != fread(&amp;infoHeader, <span class="keyword">sizeof</span>(infoHeader), <span class="number">1</span>, fp)) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯24ä½ç±»å‹ã€‚ä¹Ÿå°±æ˜¯RGBçš„å­˜å‚¨æ ¼å¼</span></div><div class="line"><span class="keyword">if</span>(infoHeader.biBitCount != <span class="number">24</span> || infoHeader.biCompression != <span class="number">0</span>) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> width = infoHeader.biWidth;</div><div class="line"><span class="keyword">int</span> height = infoHeader.biHeight &lt; <span class="number">0</span> ? (-infoHeader.biHeight) : infoHeader.biHeight;</div><div class="line"><span class="comment">// åˆ¤æ–­äºŒè¿›åˆ¶çš„æœ€åä¸‰ä½æ˜¯ä¸æ˜¯000ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯8çš„å€æ•°</span></div><div class="line"><span class="keyword">if</span>((width&amp;<span class="number">7</span>) != <span class="number">0</span> || (height&amp;<span class="number">7</span>) != <span class="number">0</span>) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å›¾ç‰‡å†…å®¹è¯»å–</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// RGBä¸‰ä¸ªåˆ†é‡</span></div><div class="line"><span class="keyword">int</span> bmpSize = width*height*<span class="number">3</span>;</div><div class="line"></div><div class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span>* buffer = <span class="keyword">new</span> <span class="keyword">unsigned</span> <span class="keyword">char</span>[bmpSize];</div><div class="line"><span class="keyword">if</span>(buffer == <span class="number">0</span>) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å°†æ–‡ä»¶æŒ‡é’ˆç§»åˆ°æ•°æ®åŒºåŸŸ</span></div><div class="line">fseek(fp, fileHeader.bfOffBits, SEEK_SET);</div><div class="line"></div><div class="line"><span class="keyword">if</span>(infoHeader.biHeight &gt; <span class="number">0</span>) &#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height; i++) &#123;</div><div class="line">		<span class="comment">// è¯»å–ç¬¬iè¡Œ,æ¯æ­¤è¯» 3ï¼ˆsizeï¼‰ * width ï¼ˆcountï¼‰å¤§å°</span></div><div class="line">		<span class="keyword">if</span>(width != fread(buffer + (height - <span class="number">1</span> - i) * width * <span class="number">3</span>, <span class="number">3</span>, width, fp)) &#123;</div><div class="line">			<span class="keyword">delete</span>[] buffer;</div><div class="line">			buffer = <span class="number">0</span>;</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	<span class="keyword">if</span>(width*height != fread(buffer, <span class="number">3</span>, width*height, fp)) &#123;</div><div class="line">		<span class="keyword">delete</span>[] buffer;</div><div class="line">		buffer = <span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å­˜å‚¨ä¿¡æ¯</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è·å–å®½é«˜å’Œå¤§å°</span></div><div class="line">m_rgbBuffer = buffer;</div><div class="line">m_width = width;</div><div class="line">m_height = height;</div><div class="line"></div><div class="line">fclose(fp);</div><div class="line">fp=<span class="number">0</span>;</div></pre></td></tr></table></figure>
<h3 id="JPEG-å†™å…¥"><a href="#JPEG-å†™å…¥" class="headerlink" title="JPEG å†™å…¥"></a>JPEG å†™å…¥</h3><p>åœ¨å‰æœŸJPEGå†™å…¥æ˜¯ï¼Œè¦è¿›è¡Œä¸€ç³»åˆ—å‡†å¤‡å·¥ä½œï¼Œæ ¹æ®JPEGå®˜æ–¹æä¾›çš„æ ‡å‡†é‡åŒ–è¡¨å’Œå“ˆå¤«æ›¼è¡¨è¿›è¡Œè‡ªå·±çš„æ“ä½œå¾—åˆ°è‡ªå·±æ»¡æ„çš„å‹ç¼©ç¼–ç ã€‚</p>
<ul>
<li><p>æ•°å€¼è¡¨ï¼š<br><img src="/2017/06/13/BMP2JPEG/tdata.png" alt=""></p>
</li>
<li><p>ç›´æµåˆ†é‡è¡¨ï¼š<br><img src="/2017/06/13/BMP2JPEG/tdc.png" alt=""></p>
</li>
<li><p>äº¤æµåˆ†é‡è¡¨ï¼š<br><img src="/2017/06/13/BMP2JPEG/tac.png" alt=""></p>
</li>
</ul>
<p>ä¸‹é¢ç»™å‡ºå…·ä½“ä»£ç ï¼š</p>
<ul>
<li>äº®åº¦é‡åŒ–è¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// äº®åº¦é‡åŒ–è¡¨</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Luminance_Quantization_Table[<span class="number">64</span>] = &#123;</div><div class="line">	<span class="number">16</span>,  <span class="number">11</span>,  <span class="number">10</span>,  <span class="number">16</span>,  <span class="number">24</span>,  <span class="number">40</span>,  <span class="number">51</span>,  <span class="number">61</span>,</div><div class="line">	<span class="number">12</span>,  <span class="number">12</span>,  <span class="number">14</span>,  <span class="number">19</span>,  <span class="number">26</span>,  <span class="number">58</span>,  <span class="number">60</span>,  <span class="number">55</span>,</div><div class="line">	<span class="number">14</span>,  <span class="number">13</span>,  <span class="number">16</span>,  <span class="number">24</span>,  <span class="number">40</span>,  <span class="number">57</span>,  <span class="number">69</span>,  <span class="number">56</span>,</div><div class="line">	<span class="number">14</span>,  <span class="number">17</span>,  <span class="number">22</span>,  <span class="number">29</span>,  <span class="number">51</span>,  <span class="number">87</span>,  <span class="number">80</span>,  <span class="number">62</span>,</div><div class="line">	<span class="number">18</span>,  <span class="number">22</span>,  <span class="number">37</span>,  <span class="number">56</span>,  <span class="number">68</span>, <span class="number">109</span>, <span class="number">103</span>,  <span class="number">77</span>,</div><div class="line">	<span class="number">24</span>,  <span class="number">35</span>,  <span class="number">55</span>,  <span class="number">64</span>,  <span class="number">81</span>, <span class="number">104</span>, <span class="number">113</span>,  <span class="number">92</span>,</div><div class="line">	<span class="number">49</span>,  <span class="number">64</span>,  <span class="number">78</span>,  <span class="number">87</span>, <span class="number">103</span>, <span class="number">121</span>, <span class="number">120</span>, <span class="number">101</span>,</div><div class="line">	<span class="number">72</span>,  <span class="number">92</span>,  <span class="number">95</span>,  <span class="number">98</span>, <span class="number">112</span>, <span class="number">100</span>, <span class="number">103</span>,  <span class="number">99</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>è‰²åº¦é‡åŒ–è¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è‰²åº¦é‡åŒ–è¡¨</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Chrominance_Quantization_Table[<span class="number">64</span>] = &#123;</div><div class="line">	<span class="number">17</span>,  <span class="number">18</span>,  <span class="number">24</span>,  <span class="number">47</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">18</span>,  <span class="number">21</span>,  <span class="number">26</span>,  <span class="number">66</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">24</span>,  <span class="number">26</span>,  <span class="number">56</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">47</span>,  <span class="number">66</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,</div><div class="line">	<span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span>,  <span class="number">99</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>æ ‡å‡†ç›´æµåˆ†é‡è‰²åº¦äº®åº¦å“ˆå¤«æ›¼è¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> Standard_DC_Luminance_NRCodes[] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Standard_DC_Luminance_Values[] = &#123; <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span> &#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> Standard_DC_Chrominance_NRCodes[] = &#123; <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Standard_DC_Chrominance_Values[] = &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span> &#125;;</div></pre></td></tr></table></figure>
<ul>
<li>æ ‡å‡†äº¤æµåˆ†é‡è‰²åº¦äº®åº¦å“ˆå¤«æ›¼è¡¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> Standard_AC_Luminance_NRCodes[] = &#123; <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>,</div><div class="line">	<span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0x7d</span> &#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Standard_AC_Luminance_Values[] = &#123;</div><div class="line">	<span class="number">0x01</span>, <span class="number">0x02</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x11</span>, <span class="number">0x05</span>, <span class="number">0x12</span>,</div><div class="line">	<span class="number">0x21</span>, <span class="number">0x31</span>, <span class="number">0x41</span>, <span class="number">0x06</span>, <span class="number">0x13</span>, <span class="number">0x51</span>, <span class="number">0x61</span>, <span class="number">0x07</span>,</div><div class="line">	<span class="number">0x22</span>, <span class="number">0x71</span>, <span class="number">0x14</span>, <span class="number">0x32</span>, <span class="number">0x81</span>, <span class="number">0x91</span>, <span class="number">0xa1</span>, <span class="number">0x08</span>,</div><div class="line">	<span class="number">0x23</span>, <span class="number">0x42</span>, <span class="number">0xb1</span>, <span class="number">0xc1</span>, <span class="number">0x15</span>, <span class="number">0x52</span>, <span class="number">0xd1</span>, <span class="number">0xf0</span>,</div><div class="line">	<span class="number">0x24</span>, <span class="number">0x33</span>, <span class="number">0x62</span>, <span class="number">0x72</span>, <span class="number">0x82</span>, <span class="number">0x09</span>, <span class="number">0x0a</span>, <span class="number">0x16</span>,</div><div class="line">	<span class="number">0x17</span>, <span class="number">0x18</span>, <span class="number">0x19</span>, <span class="number">0x1a</span>, <span class="number">0x25</span>, <span class="number">0x26</span>, <span class="number">0x27</span>, <span class="number">0x28</span>,</div><div class="line">	<span class="number">0x29</span>, <span class="number">0x2a</span>, <span class="number">0x34</span>, <span class="number">0x35</span>, <span class="number">0x36</span>, <span class="number">0x37</span>, <span class="number">0x38</span>, <span class="number">0x39</span>,</div><div class="line">	<span class="number">0x3a</span>, <span class="number">0x43</span>, <span class="number">0x44</span>, <span class="number">0x45</span>, <span class="number">0x46</span>, <span class="number">0x47</span>, <span class="number">0x48</span>, <span class="number">0x49</span>,</div><div class="line">	<span class="number">0x4a</span>, <span class="number">0x53</span>, <span class="number">0x54</span>, <span class="number">0x55</span>, <span class="number">0x56</span>, <span class="number">0x57</span>, <span class="number">0x58</span>, <span class="number">0x59</span>,</div><div class="line">	<span class="number">0x5a</span>, <span class="number">0x63</span>, <span class="number">0x64</span>, <span class="number">0x65</span>, <span class="number">0x66</span>, <span class="number">0x67</span>, <span class="number">0x68</span>, <span class="number">0x69</span>,</div><div class="line">	<span class="number">0x6a</span>, <span class="number">0x73</span>, <span class="number">0x74</span>, <span class="number">0x75</span>, <span class="number">0x76</span>, <span class="number">0x77</span>, <span class="number">0x78</span>, <span class="number">0x79</span>,</div><div class="line">	<span class="number">0x7a</span>, <span class="number">0x83</span>, <span class="number">0x84</span>, <span class="number">0x85</span>, <span class="number">0x86</span>, <span class="number">0x87</span>, <span class="number">0x88</span>, <span class="number">0x89</span>,</div><div class="line">	<span class="number">0x8a</span>, <span class="number">0x92</span>, <span class="number">0x93</span>, <span class="number">0x94</span>, <span class="number">0x95</span>, <span class="number">0x96</span>, <span class="number">0x97</span>, <span class="number">0x98</span>,</div><div class="line">	<span class="number">0x99</span>, <span class="number">0x9a</span>, <span class="number">0xa2</span>, <span class="number">0xa3</span>, <span class="number">0xa4</span>, <span class="number">0xa5</span>, <span class="number">0xa6</span>, <span class="number">0xa7</span>,</div><div class="line">	<span class="number">0xa8</span>, <span class="number">0xa9</span>, <span class="number">0xaa</span>, <span class="number">0xb2</span>, <span class="number">0xb3</span>, <span class="number">0xb4</span>, <span class="number">0xb5</span>, <span class="number">0xb6</span>,</div><div class="line">	<span class="number">0xb7</span>, <span class="number">0xb8</span>, <span class="number">0xb9</span>, <span class="number">0xba</span>, <span class="number">0xc2</span>, <span class="number">0xc3</span>, <span class="number">0xc4</span>, <span class="number">0xc5</span>,</div><div class="line">	<span class="number">0xc6</span>, <span class="number">0xc7</span>, <span class="number">0xc8</span>, <span class="number">0xc9</span>, <span class="number">0xca</span>, <span class="number">0xd2</span>, <span class="number">0xd3</span>, <span class="number">0xd4</span>,</div><div class="line">	<span class="number">0xd5</span>, <span class="number">0xd6</span>, <span class="number">0xd7</span>, <span class="number">0xd8</span>, <span class="number">0xd9</span>, <span class="number">0xda</span>, <span class="number">0xe1</span>, <span class="number">0xe2</span>,</div><div class="line">	<span class="number">0xe3</span>, <span class="number">0xe4</span>, <span class="number">0xe5</span>, <span class="number">0xe6</span>, <span class="number">0xe7</span>, <span class="number">0xe8</span>, <span class="number">0xe9</span>, <span class="number">0xea</span>,</div><div class="line">	<span class="number">0xf1</span>, <span class="number">0xf2</span>, <span class="number">0xf3</span>, <span class="number">0xf4</span>, <span class="number">0xf5</span>, <span class="number">0xf6</span>, <span class="number">0xf7</span>, <span class="number">0xf8</span>,</div><div class="line">	<span class="number">0xf9</span>, <span class="number">0xfa</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> Standard_AC_Chrominance_NRCodes[] = &#123; <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>,</div><div class="line">	<span class="number">2</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0x77</span> &#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> Standard_AC_Chrominance_Values[] = &#123;</div><div class="line">	<span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x02</span>, <span class="number">0x03</span>, <span class="number">0x11</span>, <span class="number">0x04</span>, <span class="number">0x05</span>, <span class="number">0x21</span>,</div><div class="line">	<span class="number">0x31</span>, <span class="number">0x06</span>, <span class="number">0x12</span>, <span class="number">0x41</span>, <span class="number">0x51</span>, <span class="number">0x07</span>, <span class="number">0x61</span>, <span class="number">0x71</span>,</div><div class="line">	<span class="number">0x13</span>, <span class="number">0x22</span>, <span class="number">0x32</span>, <span class="number">0x81</span>, <span class="number">0x08</span>, <span class="number">0x14</span>, <span class="number">0x42</span>, <span class="number">0x91</span>,</div><div class="line">	<span class="number">0xa1</span>, <span class="number">0xb1</span>, <span class="number">0xc1</span>, <span class="number">0x09</span>, <span class="number">0x23</span>, <span class="number">0x33</span>, <span class="number">0x52</span>, <span class="number">0xf0</span>,</div><div class="line">	<span class="number">0x15</span>, <span class="number">0x62</span>, <span class="number">0x72</span>, <span class="number">0xd1</span>, <span class="number">0x0a</span>, <span class="number">0x16</span>, <span class="number">0x24</span>, <span class="number">0x34</span>,</div><div class="line">	<span class="number">0xe1</span>, <span class="number">0x25</span>, <span class="number">0xf1</span>, <span class="number">0x17</span>, <span class="number">0x18</span>, <span class="number">0x19</span>, <span class="number">0x1a</span>, <span class="number">0x26</span>,</div><div class="line">	<span class="number">0x27</span>, <span class="number">0x28</span>, <span class="number">0x29</span>, <span class="number">0x2a</span>, <span class="number">0x35</span>, <span class="number">0x36</span>, <span class="number">0x37</span>, <span class="number">0x38</span>,</div><div class="line">	<span class="number">0x39</span>, <span class="number">0x3a</span>, <span class="number">0x43</span>, <span class="number">0x44</span>, <span class="number">0x45</span>, <span class="number">0x46</span>, <span class="number">0x47</span>, <span class="number">0x48</span>,</div><div class="line">	<span class="number">0x49</span>, <span class="number">0x4a</span>, <span class="number">0x53</span>, <span class="number">0x54</span>, <span class="number">0x55</span>, <span class="number">0x56</span>, <span class="number">0x57</span>, <span class="number">0x58</span>,</div><div class="line">	<span class="number">0x59</span>, <span class="number">0x5a</span>, <span class="number">0x63</span>, <span class="number">0x64</span>, <span class="number">0x65</span>, <span class="number">0x66</span>, <span class="number">0x67</span>, <span class="number">0x68</span>,</div><div class="line">	<span class="number">0x69</span>, <span class="number">0x6a</span>, <span class="number">0x73</span>, <span class="number">0x74</span>, <span class="number">0x75</span>, <span class="number">0x76</span>, <span class="number">0x77</span>, <span class="number">0x78</span>,</div><div class="line">	<span class="number">0x79</span>, <span class="number">0x7a</span>, <span class="number">0x82</span>, <span class="number">0x83</span>, <span class="number">0x84</span>, <span class="number">0x85</span>, <span class="number">0x86</span>, <span class="number">0x87</span>,</div><div class="line">	<span class="number">0x88</span>, <span class="number">0x89</span>, <span class="number">0x8a</span>, <span class="number">0x92</span>, <span class="number">0x93</span>, <span class="number">0x94</span>, <span class="number">0x95</span>, <span class="number">0x96</span>,</div><div class="line">	<span class="number">0x97</span>, <span class="number">0x98</span>, <span class="number">0x99</span>, <span class="number">0x9a</span>, <span class="number">0xa2</span>, <span class="number">0xa3</span>, <span class="number">0xa4</span>, <span class="number">0xa5</span>,</div><div class="line">	<span class="number">0xa6</span>, <span class="number">0xa7</span>, <span class="number">0xa8</span>, <span class="number">0xa9</span>, <span class="number">0xaa</span>, <span class="number">0xb2</span>, <span class="number">0xb3</span>, <span class="number">0xb4</span>,</div><div class="line">	<span class="number">0xb5</span>, <span class="number">0xb6</span>, <span class="number">0xb7</span>, <span class="number">0xb8</span>, <span class="number">0xb9</span>, <span class="number">0xba</span>, <span class="number">0xc2</span>, <span class="number">0xc3</span>,</div><div class="line">	<span class="number">0xc4</span>, <span class="number">0xc5</span>, <span class="number">0xc6</span>, <span class="number">0xc7</span>, <span class="number">0xc8</span>, <span class="number">0xc9</span>, <span class="number">0xca</span>, <span class="number">0xd2</span>,</div><div class="line">	<span class="number">0xd3</span>, <span class="number">0xd4</span>, <span class="number">0xd5</span>, <span class="number">0xd6</span>, <span class="number">0xd7</span>, <span class="number">0xd8</span>, <span class="number">0xd9</span>, <span class="number">0xda</span>,</div><div class="line">	<span class="number">0xe2</span>, <span class="number">0xe3</span>, <span class="number">0xe4</span>, <span class="number">0xe5</span>, <span class="number">0xe6</span>, <span class="number">0xe7</span>, <span class="number">0xe8</span>, <span class="number">0xe9</span>,</div><div class="line">	<span class="number">0xea</span>, <span class="number">0xf2</span>, <span class="number">0xf3</span>, <span class="number">0xf4</span>, <span class="number">0xf5</span>, <span class="number">0xf6</span>, <span class="number">0xf7</span>, <span class="number">0xf8</span>,</div><div class="line">	<span class="number">0xf9</span>, <span class="number">0xfa</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>è®¡ç®—å“ˆå¤«æ›¼ç¼–ç </li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> JpegEncoder::_computeHuffmanTable(<span class="keyword">const</span> <span class="keyword">char</span>* nr_codes,</div><div class="line">	<span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span>* std_table, BitString* huffman_table) &#123;</div><div class="line">	<span class="keyword">unsigned</span> <span class="keyword">char</span> pos_in_table = <span class="number">0</span>;</div><div class="line">	<span class="keyword">unsigned</span> <span class="keyword">short</span> code_value = <span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">16</span>; k++) &#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= nr_codes[k<span class="number">-1</span>]; j++) &#123;</div><div class="line">			huffman_table[std_table[pos_in_table]].value = code_value;</div><div class="line">			huffman_table[std_table[pos_in_table]].length = k;</div><div class="line">			pos_in_table++;</div><div class="line">			code_value++;</div><div class="line">		&#125;</div><div class="line">		code_value &lt;&lt;= <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>åˆå§‹åŒ–é‡åŒ–è¡¨<br>æ ¹æ®ä¼ å…¥çš„å‚æ•°è°ƒæ•´é‡åŒ–ç¨‹åº¦ï¼Œå› ä¸ºè¿™ä¸ªé‡åŒ–è¿‡ç¨‹æ˜¯æœ‰æŸçš„ã€‚æ‰€ä»¥å…¶ç»“æœå¯¹å›¾åƒè´¨é‡æœ‰è¾ƒå¤§å½±å“ã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆå§‹åŒ–é‡åŒ–è¡¨</span></div><div class="line"><span class="keyword">void</span> JpegEncoder::_initQualityTables(<span class="keyword">int</span> quality_scale) &#123;</div><div class="line">	<span class="keyword">if</span>(quality_scale &lt;= <span class="number">0</span>) &#123;</div><div class="line">		quality_scale = <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(quality_scale &gt;= <span class="number">100</span>) &#123;</div><div class="line">		quality_scale = <span class="number">99</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">64</span>; i++) &#123;</div><div class="line">		<span class="keyword">int</span> temp = ((<span class="keyword">int</span>)(Luminance_Quantization_Table[i] * quality_scale + <span class="number">50</span>) / <span class="number">100</span>);</div><div class="line">		<span class="keyword">if</span> (temp &lt;= <span class="number">0</span>) &#123;</div><div class="line">			temp = <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (temp &gt; <span class="number">0xFF</span>) &#123;</div><div class="line">			temp = <span class="number">0xFF</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		m_YTable[ZigZag[i]] = (<span class="keyword">unsigned</span> <span class="keyword">char</span>)temp;</div><div class="line"></div><div class="line">		temp = ((<span class="keyword">int</span>)(Chrominance_Quantization_Table[i] * quality_scale + <span class="number">50</span>) / <span class="number">100</span>);</div><div class="line">		<span class="keyword">if</span> (temp&lt;=<span class="number">0</span>) &#123;</div><div class="line">			temp = <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (temp&gt;<span class="number">0xFF</span>) &#123;</div><div class="line">			temp = <span class="number">0xFF</span>;</div><div class="line">		&#125;</div><div class="line">		m_CbCrTable[ZigZag[i]] = (<span class="keyword">unsigned</span> <span class="keyword">char</span>)temp;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p>å†™æ–‡ä»¶å¤´<br>åˆ°è¿™é‡Œæ–‡ä»¶å¤´åŸºæœ¬å·²ç»ç¡®å®šï¼Œå¯ä»¥å†™å…¥JPEGæ–‡ä»¶äº†ã€‚</p>
</li>
<li><p>RGB è½¬åŒ–æˆ YCbCr<br>æ¯è¯»å–ä¸€ä¸ª 8*8 çš„æ–¹å—åŒºåŸŸï¼Œå°±è¿›è¡Œé¢œè‰²ç©ºé—´è½¬åŒ–ã€‚è½¬æ¢å¼å’Œä»£ç å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">Y= <span class="number">0.299</span>*R + <span class="number">0.587</span>*G + <span class="number">0.114</span>*B</div><div class="line">C_b= <span class="number">-0.168</span>*R â€“ <span class="number">0.331</span>*G + <span class="number">0.449</span>*B</div><div class="line">C_r= <span class="number">0.5</span>*R â€“ <span class="number">0.419</span>*G â€“ <span class="number">0.018</span>*B </div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> JpegEncoder::_convertColorSpace(<span class="keyword">int</span> xPos, <span class="keyword">int</span> yPos, <span class="keyword">char</span>* yData, <span class="keyword">char</span>* cbData, <span class="keyword">char</span>* crData) &#123;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; <span class="number">8</span>; y++) &#123;</div><div class="line">		<span class="comment">// è·³è¡Œ</span></div><div class="line">		<span class="keyword">unsigned</span> <span class="keyword">char</span>* p = m_rgbBuffer + (y + yPos) * m_width * <span class="number">3</span> + xPos * <span class="number">3</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">8</span>; x++) &#123;</div><div class="line">			<span class="keyword">unsigned</span> <span class="keyword">char</span> B = *p++;</div><div class="line">			<span class="keyword">unsigned</span> <span class="keyword">char</span> G = *p++;</div><div class="line">			<span class="keyword">unsigned</span> <span class="keyword">char</span> R = *p++;</div><div class="line"></div><div class="line">			yData[y * <span class="number">8</span> + x] = (<span class="keyword">char</span>)(<span class="number">0.299f</span> * R + <span class="number">0.587f</span> * G + <span class="number">0.114f</span> * B - <span class="number">128</span>);</div><div class="line">			<span class="comment">// yData[y * 8 + x] = 0;</span></div><div class="line">			cbData[y * <span class="number">8</span> + x] = (<span class="keyword">char</span>)(<span class="number">-0.1687f</span> * R - <span class="number">0.3313f</span> * G + <span class="number">0.5f</span> * B );</div><div class="line">			<span class="comment">// cbData[y * 8 + x] = 0;</span></div><div class="line">			crData[y * <span class="number">8</span> + x] = (<span class="keyword">char</span>)(<span class="number">0.5f</span> * R - <span class="number">0.4187f</span> * G - <span class="number">0.0813f</span> * B);</div><div class="line">			<span class="comment">// crData[y * 8 + x] = 0;</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>DCTå˜æ¢å’Œé‡åŒ–<br>DCTå˜æ¢å¼å’Œé‡åŒ–ä»£ç ï¼š<br><img src="/2017/06/13/BMP2JPEG/dct.png" alt=""></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// DCTå˜åŒ– + é‡åŒ–ï¼ˆæœªä¼˜åŒ–ï¼‰</span></div><div class="line"><span class="keyword">void</span> JpegEncoder::_forward_DCT(<span class="keyword">const</span> <span class="keyword">char</span>* channel_data, <span class="keyword">short</span>* fdc_data) &#123;</div><div class="line">	<span class="keyword">const</span> <span class="keyword">float</span> PI = <span class="number">3.1415926f</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; <span class="number">8</span>; v++) &#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> u = <span class="number">0</span>; u &lt; <span class="number">8</span>; u++) &#123;</div><div class="line">			<span class="keyword">float</span> alpha_u = (u==<span class="number">0</span>) ? <span class="number">1</span> / <span class="built_in">sqrt</span>(<span class="number">8.0f</span>) : <span class="number">0.5f</span>;</div><div class="line">			<span class="keyword">float</span> alpha_v = (v==<span class="number">0</span>) ? <span class="number">1</span> / <span class="built_in">sqrt</span>(<span class="number">8.0f</span>) : <span class="number">0.5f</span>;</div><div class="line"></div><div class="line">			<span class="keyword">float</span> temp = <span class="number">0.f</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">8</span>; x++) &#123;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; <span class="number">8</span>; y++) &#123;</div><div class="line">					<span class="keyword">float</span> data = channel_data[y * <span class="number">8</span> + x];</div><div class="line"></div><div class="line">					data *= <span class="built_in">cos</span>((<span class="number">2</span> * x + <span class="number">1</span>) * u * PI / <span class="number">16.0f</span>);</div><div class="line">					data *= <span class="built_in">cos</span>((<span class="number">2</span> * y + <span class="number">1</span>) * v * PI / <span class="number">16.0f</span>);</div><div class="line"></div><div class="line">					temp += data;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			temp *= alpha_u * alpha_v / m_YTable[ZigZag[v * <span class="number">8</span> + u]];</div><div class="line">			fdc_data[ZigZag[v*<span class="number">8</span>+u]] = (<span class="keyword">short</span>) ((<span class="keyword">short</span>)(temp + <span class="number">16384.5</span>) - <span class="number">16384</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p>å“ˆå¤«æ›¼ç¼–ç </p>
<ul>
<li>ç›´æµåˆ†é‡å·®åˆ†ç¼–ç </li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> 	<span class="comment">// encode DC</span></div><div class="line"><span class="keyword">int</span> dcDiff = (<span class="keyword">int</span>)(DU[<span class="number">0</span>] - prevDC);</div><div class="line">prevDC = DU[<span class="number">0</span>];</div><div class="line"></div><div class="line"><span class="keyword">if</span> (dcDiff == <span class="number">0</span>) &#123;</div><div class="line">	outputBitString[index++] = HTDC[<span class="number">0</span>];</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	BitString bs = _getBitCode(dcDiff);</div><div class="line"></div><div class="line">	outputBitString[index++] = HTDC[bs.length];</div><div class="line">	outputBitString[index++] = bs;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>äº¤æµåˆ†é‡æ¸¸é•¿ç¼–ç </li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"> 	<span class="comment">// encode ACs</span></div><div class="line"><span class="keyword">int</span> endPos=<span class="number">63</span>; <span class="comment">//end0pos = first element in reverse order != 0</span></div><div class="line"><span class="keyword">while</span>((endPos &gt; <span class="number">0</span>) &amp;&amp; (DU[endPos] == <span class="number">0</span>)) &#123;</div><div class="line">	endPos--;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= endPos; ) &#123;</div><div class="line">	<span class="keyword">int</span> startPos = i;</div><div class="line"></div><div class="line">	<span class="keyword">while</span>((DU[i] == <span class="number">0</span>) &amp;&amp; (i &lt;= endPos)) &#123;</div><div class="line">		i++;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> zeroCounts = i - startPos;</div><div class="line">	<span class="keyword">if</span> (zeroCounts &gt;= <span class="number">16</span>) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= zeroCounts / <span class="number">16</span>; j++) &#123;</div><div class="line">			outputBitString[index++] = SIXTEEN_ZEROS;</div><div class="line">		&#125;</div><div class="line">		zeroCounts = zeroCounts % <span class="number">16</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	BitString bs = _getBitCode(DU[i]);</div><div class="line"></div><div class="line">	outputBitString[index++] = HTAC[(zeroCounts &lt;&lt; <span class="number">4</span>) | bs.length];</div><div class="line">	outputBitString[index++] = bs;</div><div class="line">	i++;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>å¯¹ä¸‰ä¸ªé€šé“è¿›è¡Œä»¥ä¸ŠåŒæ ·çš„æ“ä½œã€‚ï¼ˆDCTå˜åŒ–-å“ˆå¤«æ›¼ç¼–ç -å†™å…¥ï¼‰</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">BitString outputBitString[<span class="number">128</span>];</div><div class="line"><span class="keyword">int</span> bitStringCounts;</div><div class="line"></div><div class="line"><span class="comment">// Yé€šé“å‹ç¼©</span></div><div class="line">_forward_DCT(yData, yQuant);</div><div class="line">_doHuffmanEncoding(yQuant, prev_DC_Y, m_Y_DC_Huffman_Table, m_Y_AC_Huffman_Table,</div><div class="line">	outputBitString, bitStringCounts);</div><div class="line">_write_bitstring_(outputBitString, bitStringCounts, newByte, newBytePos, fp);</div><div class="line"></div><div class="line"><span class="comment">// Cbé€šé“å‹ç¼©</span></div><div class="line">_forward_DCT(cbData, cbQuant);</div><div class="line">_doHuffmanEncoding(cbQuant, prev_DC_Cb, m_CbCr_DC_Huffman_Table, m_CbCr_AC_Huffman_Table,</div><div class="line">	outputBitString, bitStringCounts);</div><div class="line">_write_bitstring_(outputBitString, bitStringCounts, newByte, newBytePos, fp);</div><div class="line"></div><div class="line"><span class="comment">// Cré€šé“å‹ç¼©</span></div><div class="line">_forward_DCT(crData, crQuant);</div><div class="line">_doHuffmanEncoding(crQuant, prev_DC_Cr, m_CbCr_DC_Huffman_Table, m_CbCr_AC_Huffman_Table,</div><div class="line">	outputBitString, bitStringCounts);</div><div class="line">_write_bitstring_(outputBitString, bitStringCounts, newByte, newBytePos, fp);</div></pre></td></tr></table></figure>
<p>æ•´ä¸ªæµç¨‹å°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/2017/06/13/BMP2JPEG/t.png" alt=""></p>
<h3 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h3><p>æµ‹è¯•å›¾ç‰‡ pic1.bmp<br><img src="/2017/06/13/BMP2JPEG/pic1.bmp" alt=""></p>
<p>16è¿›åˆ¶<br><img src="/2017/06/13/BMP2JPEG/bmp0x.png" alt=""></p>
<p>æµ‹è¯•ä»£ç </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">char</span>* inputFileName = <span class="string">"pic1.bmp"</span>;</div><div class="line"></div><div class="line">JpegEncoder encoder;</div><div class="line"><span class="comment">// è¯»å–BMPæ ¼å¼çš„æ–‡ä»¶</span></div><div class="line"><span class="keyword">if</span>(!encoder.readFromBMP(inputFileName)) &#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å°†BMPæ ¼å¼çš„æ–‡ä»¶æŒ‰ç…§JPEGæ ‡å‡†å‹ç¼©æˆJPEGæ–‡ä»¶</span></div><div class="line"><span class="keyword">if</span>(!encoder.encodeToJPG(<span class="string">"out.jpeg"</span>, <span class="number">50</span>)) &#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"jpg\n"</span>);</div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯»å–çš„BMPæ–‡ä»¶ä¿¡æ¯ï¼Œå¤§å°å’Œå°ºå¯¸éƒ½ç¬¦åˆåŸå›¾<br><img src="/2017/06/13/BMP2JPEG/bmpinfo.png" alt=""></p>
<p>æµ‹è¯•ç»“æœ out.jpeg<br><img src="/2017/06/13/BMP2JPEG/ybr.jpeg" alt=""></p>
<p>åå…­è¿›åˆ¶ï¼Œå¯ä»¥å’Œæ ‡å‡†æ ¼å¼æ¯”è¾ƒç¡®å®æ˜¯é€šè¿‡BMPè½¬æˆäº†JPEGæ ¼å¼<br><img src="/2017/06/13/BMP2JPEG/jpeg0x.png" alt=""></p>
<p><img src="/2017/06/13/BMP2JPEG/size.png" alt=""><br>å¯ä»¥çœ‹åˆ°ï¼Œå‹ç¼©æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ¯”è¾ƒæ˜æ˜¾çš„ï¼Œä½†æ˜¯ç¼–ç æ€§èƒ½ä¸æ˜¯æœ€å¥½çš„ï¼Œæ²¡æœ‰å¯¹æ•°æ®å‰æœŸè¿›è¡Œä¼˜åŒ–ï¼Œæ•ˆç‡åªæ˜¯ä¸­è§„ä¸­çŸ©ã€‚<br>ä¸‹é¢ä»‹ç»å¯¹æµç¨‹å’Œç»“æœçš„æµ‹è¯•åˆ†æ<br>è¿‡ç¨‹æµç¨‹ï¼š<br><img src="/2017/06/13/BMP2JPEG/flowchart.png" alt=""></p>
<p>åˆ†æä¸ºä»€ä¹ˆè½¬æ¢æˆYCbCråŸŸå¯¹è‰²åŸŸçš„å‹ç¼©ä¼šè®©äººæ¥å—ï¼š<br>ä»RGBåˆ°YCbCrçš„è½¬æ¢å…¬å¼æˆ‘ä»¬å¯ä»¥åˆ†æå‡ºYæ‰€å æ¯”é‡è¾ƒé«˜ï¼Œè¯´æ˜åº”è¯¥å­˜å‚¨çš„ç»†èŠ‚ç›¸å¯¹è¾ƒå¤šï¼Œå’Œäººçœ¼å¯¹äº®åº¦æ›´åŠ æ•æ„Ÿç¬¦åˆã€‚é‚£ä¹ˆäº‹å®æ˜¯å¦å¦‚æ­¤ï¼Ÿ <br><br><img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/y.jpeg" width="240" height="240"> <img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/b.jpeg" width="240" height="240"> <img src="https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/r.jpeg" width="240" height="240"></p>
<p>ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ Yï¼ˆ72.8kï¼‰ï¼ŒCbï¼ˆ37.4kï¼‰ï¼ŒCrï¼ˆ33.9kï¼‰åˆ†é‡ï¼Œä»å…‰æ„Ÿä¸Šè¯´ï¼Œæ˜æ˜¾æ˜¯Yçš„ç°åº¦å›¾åƒç»™å‡ºäº†ç»†èŠ‚ï¼Œå…¶å®ƒä¸¤ä¸ªåˆ†é‡åªæ˜¯ç»™å‡ºè‰²å½©ï¼Œæ²¡æœ‰ç»†èŠ‚ã€‚æ¥ç€ä»å¤§å°åˆ†æä¹Ÿå’Œæˆ‘ä»¬çš„é¢„æµ‹ç¬¦åˆï¼Œå¤§æ¦‚æ¯”ä¾‹æ˜¯ 2ï¼š1ï¼š1ï¼Œè¯´æ˜å­˜å‚¨çš„ç»†èŠ‚è¶Šå¤šæ‰€éœ€çš„ç©ºé—´è‡ªç„¶è¶Šå¤§ã€‚<br>æ¥ä¸‹æ¥å¯¹BMPåŸå§‹é€šé“RGBåŠ æ‰°åŠ¨å’ŒYCbCråŠ ç›¸åŒçš„æ‰°åŠ¨ï¼Œå¯¹å›¾åƒçš„å½±å“åˆä¼šæ€æ ·ï¼Ÿ</p>
<p><img src="/2017/06/13/BMP2JPEG/rgb.jpeg" alt=""> <img src="/2017/06/13/BMP2JPEG/ybr.jpeg" alt=""><br>ä»å·¦åˆ°å³ä¸€æ¬¡æ˜¯åœ¨RGBé€šé“å’ŒYCbCré€šé“åŠ å¹²æ‰°ã€‚å¯ä»¥çœ‹åˆ°RGBæ”¶å¹²æ‰°çš„ç¨‹åº¦æ›´å¤§ï¼ŒåŸå› ä¸å¤§å¥½ç”¨æ•°å­¦åˆ†æï¼Œæˆ‘è§‰å¾—å¾ˆå¯èƒ½æ˜¯RGBé€šé“å¯¹å¹²æ‰°æ˜¯æ²¡æœ‰å‡å¼±ç›´æ¥è¿›å…¥é€šé“è½¬æ¢ï¼Œè€ŒYCrCbåˆ™æ˜¯åœ¨è‰²åº¦é€šé“è¿›è¡Œå‹ç¼©äº†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯¹å¹²æ‰°çš„èˆå¼ƒï¼Œæ‰€ä»¥æ•ˆæœæ¯”è¾ƒå¥½ã€‚</p>
<p>ä¸‹é¢åˆ†æä¸ºä»€ä¹ˆé‡åŒ–çŸ©é˜µå¯¹ç»“æœä¼šæœ‰å¾ˆå¤§å½±å“ï¼Œå¯ä»¥åšä¸€ä¸ªå®éªŒï¼Œæ”¹å˜ç”Ÿæˆé‡åŒ–çŸ©é˜µçš„ç®—æ³•ï¼Œçœ‹çœ‹ç»“æœå¦‚ä½•ã€‚<br><img src="/2017/06/13/BMP2JPEG/q1.jpeg" alt=""> <img src="/2017/06/13/BMP2JPEG/q2.jpeg" alt=""></p>
<p>è¿™ä¸¤å¼ çš„é‡åŒ–ç¨‹åº¦ä¸åŒï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°çš„æ˜¯ä»–ä»¬éƒ½æœ‰æˆ–å¤šæˆ–å°‘çš„å‘ˆè‰²å—æ˜¾ç¤ºè¿¹è±¡ï¼Œæ‰€ä»¥åº”è¯¥å­˜å‚¨çš„ç©ºé—´åº”è¯¥æ˜¯å¾ˆå°çš„ã€‚<br><img src="/2017/06/13/BMP2JPEG/qsize.png" alt=""><br>ç»“æœä¹Ÿç¡®å®å¦‚æ­¤ï¼Œå›åˆ°é—®é¢˜ï¼Œæˆ‘ä»¬çš„é‡åŒ–çŸ©é˜µæ²¡æœ‰ä¼˜åŒ–ï¼Œé€ æˆæ•°å€¼è¿‡å¤§ï¼Œåœ¨é‡åŒ–è¿‡ç¨‹ä¸­ï¼Œå¯¼è‡´è¿‡å¤šæ•°ä¸º0ï¼Œä¹Ÿå°±æ˜¯é‚£äº›é«˜é¢‘åˆ†é‡ï¼Œè€Œé«˜é¢‘æ­£æ˜¯ç»†èŠ‚çš„ä½“ç°ï¼Œå¤±å»é«˜é¢‘è‡ªç„¶å°±å¤±å»äº†ç»†èŠ‚ã€‚æ‰€ä»¥é‡åŒ–çŸ©é˜µçš„å–å€¼ç›´æ¥å…³ç³»åˆ°äº†ç”Ÿæˆå›¾åƒçš„å“è´¨ã€‚</p>
<p>ä»¥ä¸Šæ˜¯æˆ‘å¯¹BMPè½¬æ¢æˆJPEGçš„è¿‡ç¨‹åˆ†æï¼ŒåŒæ—¶ä¹Ÿè¾…ä»¥ä»£ç åŠ ä»¥å®ç°å’Œæµ‹è¯•ã€‚å¯¹äºJPEGçš„è§£ç è¿‡ç¨‹é‚£å°±æ˜¯è¿‡ç¨‹çš„é€†è¿‡ç¨‹äº†ï¼Œä½†æ˜¯ç”±äºç¼–ç æ˜¯æœ‰æŸçš„ï¼Œè€Œä¸”ç¼–ç è¡¨é‡åŒ–è¡¨éƒ½æ˜¯æœ‰è½¬å‹æŸå¤±çš„ï¼Œæ‰€ä»¥è§£ç ä¹‹åçš„å›¾åƒä¹Ÿä¼šæœ‰éƒ¨åˆ†æŸå¤±ã€‚ç€å‘¢ä¸ªè¿‡ç¨‹å’Œè¯»å–è§£ç BMPä¸€æ ·ã€‚å…ˆè¯»å–æ–‡ä»¶å¤´ï¼Œæ¥ä¸‹æ¥åˆå§‹åŒ–è¡¨ï¼Œå†å°±æ˜¯ç›´æ¥è¯»å–æ•°æ®æ ¹æ®è¡¨è§£ç å‡ºYCbCrçš„å€¼ï¼Œåé‡åŒ–ä¹‹åé€šè¿‡DCTé€†å˜æ¢è¿˜åŸã€‚</p>
<p>å…¶ä¸­çš„æºç æ˜¯<a href="https://thecodeway.com/blog/?p=522" target="_blank" rel="external">thecodeway</a>æä¾›çš„ï¼Œæ¬¢è¿å¤§å®¶å»ä»–çš„ Blog çœ‹çœ‹ä»–çš„å›¾åƒåˆ†ææ–‡ç« ï¼Œæˆ‘åªæ˜¯å¯¹ä»–çš„ä»£ç åŠ ä»¥è‡ªå·±çš„ç†è§£ã€‚</p>
<p>æœ€åï¼šå¦‚æœ‰ä¸è¶³ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå…±åŒè¿›æ­¥ã€‚</p>
<p>å¤šè°¢é˜…è¯»</p>
<ul>
<li>å‚è€ƒèµ„æ–™<br>[1] è¶³è¿¹ : <a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html" target="_blank" rel="external">https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html</a> <br><br>[2] lakeone : <a href="https://www.cnblogs.com/lakeone/p/3596996.html" target="_blank" rel="external">https://www.cnblogs.com/lakeone/p/3596996.html</a> <br><br>[3] thecodeway : <a href="https://thecodeway.com/blog/?p=522" target="_blank" rel="external">https://thecodeway.com/blog/?p=522</a> <br><br>[4] SoC Design Lab <a href="http://twins.ee.nctu.edu.tw/courses/soclab_04/lab_hw_pdf/proj1_jpeg_introduction.pdf" target="_blank" rel="external">http://twins.ee.nctu.edu.tw/courses/soclab_04/lab_hw_pdf/proj1_jpeg_introduction.pdf</a> <br></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/mk43/Algo-Math/tree/master/bmp2jpeg&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ç”±äºæœ€è¿‘åšäº†å›¾åƒç›¸å…³çš„å­¦ä¹ ï¼Œæ‰€ä»¥æƒ³å†æ·±å…¥ç‚¹ï¼Œä½†æ˜¯è‡ªå·±çš„çŸ¥è¯†æœ‰é™ï¼Œç›®å‰åªèƒ½æŠŠè‡ªå·±æ‰€å­¦çš„é€šè¿‡è¿™ä¸ªå°å°çš„å®éªŒæ¥åŠ æ·±ç†è§£ã€‚å‚è€ƒå¤§ç‰›çš„ Blog åŠ ä¸Šè‡ªå·±äº²æ‰‹å®è·µï¼Œå†™äº†è¿™ç¯‡æ–‡ç« ã€‚ä»¥åè¿˜ä¼šç»§ç»­æ·»åŠ å›¾åƒå¤„ç†çš„ç›¸å…³çŸ¥è¯†ã€‚&lt;br&gt;&lt;img src=&quot;https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/y.jpeg&quot; width=&quot;240&quot; height=&quot;240&quot;&gt; &lt;img src=&quot;https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/b.jpeg&quot; width=&quot;240&quot; height=&quot;240&quot;&gt; &lt;img src=&quot;https://raw.githubusercontent.com/mk43/Algo-Math/master/bmp2jpeg/r.jpeg&quot; width=&quot;240&quot; height=&quot;240&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Algo" scheme="http://fitzeng.org/tags/Algo/"/>
    
      <category term="Math" scheme="http://fitzeng.org/tags/Math/"/>
    
      <category term="C/C++" scheme="http://fitzeng.org/tags/C-C/"/>
    
      <category term="å›¾åƒå¤„ç†" scheme="http://fitzeng.org/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
</feed>
