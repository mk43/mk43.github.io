<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://fitzeng.org">
  <title>NumPy 官方快速入门教程(译) | Fitzeng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="写在前面：本来是学习下 \( NumPy \)，看到官网的入门教程想跟着实验一下，怕不常用，而我这人健忘，所以记录下来。索性就照着翻译一下，同样可以提升自己的阅读和写作能力，需要的可以存一下。当然，本人水平有限，有错误的地方欢迎大家指正。这里是基于 \( NumPy\ v1.13.dev0\ Manual \) 翻译的。截止时间\( 2018/02/04 \)">
<meta name="keywords" content="Math,MachineLearning,Python,NumPy">
<meta property="og:type" content="article">
<meta property="og:title" content="NumPy 官方快速入门教程(译)">
<meta property="og:url" content="http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/index.html">
<meta property="og:site_name" content="Fitzeng">
<meta property="og:description" content="写在前面：本来是学习下 \( NumPy \)，看到官网的入门教程想跟着实验一下，怕不常用，而我这人健忘，所以记录下来。索性就照着翻译一下，同样可以提升自己的阅读和写作能力，需要的可以存一下。当然，本人水平有限，有错误的地方欢迎大家指正。这里是基于 \( NumPy\ v1.13.dev0\ Manual \) 翻译的。截止时间\( 2018/02/04 \)">
<meta property="og:image" content="http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/6_2_01.png">
<meta property="og:image" content="http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/8_3_01.png">
<meta property="og:image" content="http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/8_3_02.png">
<meta property="og:updated_time" content="2018-02-04T09:26:08.312Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NumPy 官方快速入门教程(译)">
<meta name="twitter:description" content="写在前面：本来是学习下 \( NumPy \)，看到官网的入门教程想跟着实验一下，怕不常用，而我这人健忘，所以记录下来。索性就照着翻译一下，同样可以提升自己的阅读和写作能力，需要的可以存一下。当然，本人水平有限，有错误的地方欢迎大家指正。这里是基于 \( NumPy\ v1.13.dev0\ Manual \) 翻译的。截止时间\( 2018/02/04 \)">
<meta name="twitter:image" content="http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/6_2_01.png">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.234bc0.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #01aaff"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/img/avatar.png" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">fitzeng</a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">Home</a></li>
	        
				<li><a href="/tags/Android/">Android</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/mk43" title="github"><i class="icon-github"></i></a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/3964303496/profile?topnav=1&wvr=6" title="weibo"><i class="icon-weibo"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #01aaff"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/img/avatar.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">fitzeng</h1>
			</hgroup>
			
			
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/mk43" title="github"><i class="icon-github"></i></a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/3964303496/profile?topnav=1&wvr=6" title="weibo"><i class="icon-weibo"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 50%"><a href="/">Home</a></li>
		        
					<li style="width: 50%"><a href="/tags/Android/">Android</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            <article id="post-NumPyOfficialQuickstartTutorial" class="article article-type-post " itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      NumPy 官方快速入门教程(译)
    </h1>
  

        
        <a href="/2018/02/04/NumPyOfficialQuickstartTutorial/" class="archive-article-date">
  	<time datetime="2018-02-04T03:27:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-02-04</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<blockquote>
<p>写在前面：本来是学习下 \( NumPy \)，看到官网的<a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">入门教程</a>想跟着实验一下，怕不常用，而我这人健忘，所以记录下来。索性就照着翻译一下，同样可以提升自己的阅读和写作能力，需要的可以存一下。当然，本人水平有限，有错误的地方欢迎大家指正。这里是基于 <a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">\( NumPy\ v1.13.dev0\ Manual \)</a> 翻译的。截止时间\( 2018/02/04 \)</p>
</blockquote>
<a id="more"></a>
<h2 id="快速入门教程"><a href="#快速入门教程" class="headerlink" title="快速入门教程"></a>快速入门教程</h2><h3 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1 准备工作"></a>1 准备工作</h3><p>在你浏览这个指导之前，你应该懂一点 \( Python \) 。如果你想回顾一下可以看<a href="https://docs.python.org/3/tutorial/" target="_blank" rel="external">Python tutorial</a>。如果你想把教程的代码跑起来，必须安装一些软件，请参考<a href="http://scipy.org/install.html" target="_blank" rel="external">http://scipy.org/install.html</a></p>
<h3 id="2-基础知识"><a href="#2-基础知识" class="headerlink" title="2 基础知识"></a>2 基础知识</h3><p>\( NumPy \) 的主要操作对象是同类型的多维数组。它是一个由正整数元组索引，元素类型相同的表（通常元素是数字）。在 \( NumPy \) 维度被称为 <code>axes</code>, <code>axes</code> 的数量称为 <code>rank</code>。</p>
<p>例如，在 \( 3D \) 空间的一个点 \( [1, 2, 1] \) 是一个 <code>rank = 1</code> 的数组，因为它只有一个 <code>axes</code>。这个 <code>axes</code> 的长度是 \( 3 \)。在下面这个例子中，数组 <code>rank = 2</code> （它是 \( 2  \)维的）。第一维（<code>axes</code>）长度是 \( 2 \)，第二位长度是 \( 3 \)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[[ 1., 0., 0. ],</div><div class="line"> [ 0., 1., 2. ]]</div></pre></td></tr></table></figure>
<p>\( NumPy \) 的数组类是 <code>ndarray</code>。也可以叫做 <code>array</code>。说到这里，<code>numpy.array</code> 和标准 ( Python \) 库中的 <code>array.array</code> 是不一样的，它只能处理一维的数组和提供更少的功能。<code>ndarray</code> 对象的一些重要属性如下：</p>
<h5 id="ndarray-ndim"><a href="#ndarray-ndim" class="headerlink" title="ndarray.ndim"></a>ndarray.ndim</h5><blockquote>
<p>数组的 <code>axes</code> （维数）数值大小。在 \( Python \) 中维数的大小可以参考 <code>rank</code></p>
</blockquote>
<h5 id="ndarray-shape"><a href="#ndarray-shape" class="headerlink" title="ndarray.shape"></a>ndarray.shape</h5><blockquote>
<p>数组的维数，这是由每个维度的大小组成的一个元组。对于一个 \( n \) 行 \( m \) 列的矩阵。<code>shape</code> 是 <code>(n, m)</code>。由 <code>shape</code> 元组的长度得出 <code>rank</code> 或者维数 <code>ndim</code>。</p>
</blockquote>
<h5 id="ndarray-size"><a href="#ndarray-size" class="headerlink" title="ndarray.size"></a>ndarray.size</h5><blockquote>
<p>数组元素的个数总和，这等于 <code>shape</code> 元组数字的乘积。</p>
</blockquote>
<h5 id="ndarray-dtype"><a href="#ndarray-dtype" class="headerlink" title="ndarray.dtype"></a>ndarray.dtype</h5><blockquote>
<p>在数组中描述元素类型的一个对象。它是一种可以用标准的 \( Python \) 类型创建和指定的类型。另外，\( NumPy \)也提供了它自己的类型：<code>numpy.int32</code>，<code>numpy.int16</code>，<code>numpy.float64</code>……</p>
</blockquote>
<h5 id="ndarray-itemsize"><a href="#ndarray-itemsize" class="headerlink" title="ndarray.itemsize"></a>ndarray.itemsize</h5><blockquote>
<p>数组中每个元素所占字节数。例如，一个 <code>float64</code> 的 <code>itemsize</code> 是 \( 8 ( = 64/8bit) \)，<code>complex32</code> 的 <code>itemsize</code> 是 \( 4 ( = 32/8bit) \)。它和 <code>ndarray.dtype.itemsize</code> 是相等的。</p>
</blockquote>
<h5 id="ndarray-data"><a href="#ndarray-data" class="headerlink" title="ndarray.data"></a>ndarray.data</h5><blockquote>
<p>数组实际元素的缓存区。通常来说，我们不需要使用这个属性，因为我们会使用索引的方式访问数据。</p>
</blockquote>
<h3 id="2-1-例子"><a href="#2-1-例子" class="headerlink" title="2.1 例子"></a>2.1 例子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import numpy as np</div><div class="line">&gt;&gt;&gt; a = np.arange(15).reshape(3, 5)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 0,  1,  2,  3,  4],</div><div class="line">       [ 5,  6,  7,  8,  9],</div><div class="line">       [10, 11, 12, 13, 14]])</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(3, 5)</div><div class="line">&gt;&gt;&gt; a.ndim</div><div class="line">2</div><div class="line">&gt;&gt;&gt; a.dtype.name</div><div class="line">&apos;int64&apos;</div><div class="line">&gt;&gt;&gt; a.itemsize</div><div class="line">8</div><div class="line">&gt;&gt;&gt; a.size</div><div class="line">15</div><div class="line">&gt;&gt;&gt; type(a)</div><div class="line">&lt;type &apos;numpy.ndarray&apos;&gt;</div><div class="line">&gt;&gt;&gt; b = np.array([6, 7, 8])</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([6, 7, 8])</div><div class="line">&gt;&gt;&gt; type(b)</div><div class="line">&lt;type &apos;numpy.ndarray&apos;&gt;</div></pre></td></tr></table></figure>
<h3 id="2-2-创建数组"><a href="#2-2-创建数组" class="headerlink" title="2.2 创建数组"></a>2.2 创建数组</h3><p>这里有几种方法创建数组。</p>
<p>例如，你可以使用 <code>array</code> 函数从一个常规的 \( Python \) 列表或元组创建一个数组。创建的数组类型是从原始序列中的元素推断出来的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import numpy as np</div><div class="line">&gt;&gt;&gt; a = np.array([2,3,4])</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([2, 3, 4])</div><div class="line">&gt;&gt;&gt; a.dtype</div><div class="line">dtype(&apos;int64&apos;)</div><div class="line">&gt;&gt;&gt; b = np.array([1.2, 3.5, 5.1])</div><div class="line">&gt;&gt;&gt; b.dtype</div><div class="line">dtype(&apos;float64&apos;)</div></pre></td></tr></table></figure>
<p>一个常见错误是在调用 <code>array</code> 函数时，传递的参数是多个数值而不是一个单独的数字列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.array(1,2,3,4)    # WRONG</div><div class="line">&gt;&gt;&gt; a = np.array([1,2,3,4])  # RIGHT</div></pre></td></tr></table></figure>
<p><code>array</code> 将序列转化成高维数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; b = np.array([(1.5,2,3), (4,5,6)])</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([[ 1.5,  2. ,  3. ],</div><div class="line">       [ 4. ,  5. ,  6. ]])</div></pre></td></tr></table></figure>
<p>数组的类型也能够在创建时具体指定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; c = np.array( [ [1,2], [3,4] ], dtype=complex )</div><div class="line">&gt;&gt;&gt; c</div><div class="line">array([[ 1.+0.j,  2.+0.j],</div><div class="line">       [ 3.+0.j,  4.+0.j]])</div></pre></td></tr></table></figure>
<p>通常，我们都是知道数组的大小而不知道其中的原始数据。因此 \( NumPy \) 提供了几个用占位符的函数去创建数组。这样可以最小化增加数组的成本，增加数组是一项很耗费资源的操作。</p>
<p><code>zeros</code> 函数创建一个全是 \( 0 \) 的数组，<code>ones</code> 函数创建全是 \( 1 \) 的数组，<code>empty</code> 创建一个随机的数组。默认创建数组的类型是 <code>float64</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; np.zeros( (3,4) )</div><div class="line">array([[ 0.,  0.,  0.,  0.],</div><div class="line">       [ 0.,  0.,  0.,  0.],</div><div class="line">       [ 0.,  0.,  0.,  0.]])</div><div class="line">&gt;&gt;&gt; np.ones( (2,3,4), dtype=np.int16 )                # dtype can also be specified</div><div class="line">array([[[ 1, 1, 1, 1],</div><div class="line">        [ 1, 1, 1, 1],</div><div class="line">        [ 1, 1, 1, 1]],</div><div class="line">       [[ 1, 1, 1, 1],</div><div class="line">        [ 1, 1, 1, 1],</div><div class="line">        [ 1, 1, 1, 1]]], dtype=int16)</div><div class="line">&gt;&gt;&gt; np.empty( (2,3) )                                 # uninitialized, output may vary</div><div class="line">array([[  3.73603959e-262,   6.02658058e-154,   6.55490914e-260],</div><div class="line">       [  5.30498948e-313,   3.14673309e-307,   1.00000000e+000]])</div></pre></td></tr></table></figure>
<p>为了创建数字序列，\( NumPy \) 提供了一个和 <code>range</code> 相似的函数，可以返回一个数组而不是列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; np.arange( 10, 30, 5 )</div><div class="line">array([10, 15, 20, 25])</div><div class="line">&gt;&gt;&gt; np.arange( 0, 2, 0.3 )                 # it accepts float arguments</div><div class="line">array([ 0. ,  0.3,  0.6,  0.9,  1.2,  1.5,  1.8])</div></pre></td></tr></table></figure>
<p>当 <code>arange</code> 的参数是浮点型的，由于有限的浮点精度，通常不太可能去预测获得元素的数量。出于这个原因，通常选择更好的函数 <code>linspace</code>，他接收我们想要的元素数量而不是步长作为参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; from numpy import pi</div><div class="line">&gt;&gt;&gt; np.linspace( 0, 2, 9 )                 # 9 numbers from 0 to 2</div><div class="line">array([ 0.  ,  0.25,  0.5 ,  0.75,  1.  ,  1.25,  1.5 ,  1.75,  2.  ])</div><div class="line">&gt;&gt;&gt; x = np.linspace( 0, 2*pi, 100 )        # useful to evaluate function at lots of points</div><div class="line">&gt;&gt;&gt; f = np.sin(x)</div></pre></td></tr></table></figure>
<h5 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.array.html#numpy.array" target="_blank" rel="external">array</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.zeros.html#numpy.zeros" target="_blank" rel="external">zeros</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.zeros_like.html#numpy.zeros_like" target="_blank" rel="external">zeros_like</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ones.html#numpy.ones" target="_blank" rel="external">ones</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ones_like.html#numpy.ones_like" target="_blank" rel="external">ones_like</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.empty.html#numpy.empty" target="_blank" rel="external">empty</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.empty_like.html#numpy.empty_like" target="_blank" rel="external">empty_like</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.arange.html#numpy.arange" target="_blank" rel="external">arange</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.linspace.html#numpy.linspace" target="_blank" rel="external">linspace</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.random.rand.html#numpy.random.rand" target="_blank" rel="external">numpy.random.rand</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.random.randn.html#numpy.random.randn" target="_blank" rel="external">numpy.random.randn</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.fromfunction.html#numpy.fromfunction" target="_blank" rel="external">fromfunction</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.fromfile.html#numpy.fromfile" target="_blank" rel="external">fromfile</a></p>
<h3 id="2-3-打印数组"><a href="#2-3-打印数组" class="headerlink" title="2.3 打印数组"></a>2.3 打印数组</h3><p>当你打印数组时，\( NumPy \) 显示出来和嵌套的列表相似，但是具有以下布局：</p>
<ul>
<li>最后一个 <code>axis</code> 从左到右打印，</li>
<li>第二到最后一个从上到下打印，</li>
<li>剩余的也是从上到下打印，每一片通过一个空行隔开。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(6)                         # 1d array</div><div class="line">&gt;&gt;&gt; print(a)</div><div class="line">[0 1 2 3 4 5]</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; b = np.arange(12).reshape(4,3)           # 2d array</div><div class="line">&gt;&gt;&gt; print(b)</div><div class="line">[[ 0  1  2]</div><div class="line"> [ 3  4  5]</div><div class="line"> [ 6  7  8]</div><div class="line"> [ 9 10 11]]</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; c = np.arange(24).reshape(2,3,4)         # 3d array</div><div class="line">&gt;&gt;&gt; print(c)</div><div class="line">[[[ 0  1  2  3]</div><div class="line">  [ 4  5  6  7]</div><div class="line">  [ 8  9 10 11]]</div><div class="line"> [[12 13 14 15]</div><div class="line">  [16 17 18 19]</div><div class="line">  [20 21 22 23]]]</div></pre></td></tr></table></figure>
<p>参考<a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#quickstart-shape-manipulation" target="_blank" rel="external">下文</a>来获取更多 <code>reshape</code> 的细节。</p>
<p>如果一个数组太大而不能被打印，那么 \( NumPy \) 会自动忽略中间的只打印角上的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; print(np.arange(10000))</div><div class="line">[   0    1    2 ..., 9997 9998 9999]</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; print(np.arange(10000).reshape(100,100))</div><div class="line">[[   0    1    2 ...,   97   98   99]</div><div class="line"> [ 100  101  102 ...,  197  198  199]</div><div class="line"> [ 200  201  202 ...,  297  298  299]</div><div class="line"> ...,</div><div class="line"> [9700 9701 9702 ..., 9797 9798 9799]</div><div class="line"> [9800 9801 9802 ..., 9897 9898 9899]</div><div class="line"> [9900 9901 9902 ..., 9997 9998 9999]]</div></pre></td></tr></table></figure>
<p>为了取消这种行为，强制 \( NumPy \) 去打印整个数组，你可以通过 <code>set_printoptions</code> 改变打印选项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; np.set_printoptions(threshold=&apos;nan&apos;)</div></pre></td></tr></table></figure>
<h3 id="2-4-基本操作"><a href="#2-4-基本操作" class="headerlink" title="2.4 基本操作"></a>2.4 基本操作</h3><p>在数组上的算数运算应用于每个元素。并创建一个用结果填充的新的数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.array( [20,30,40,50] )</div><div class="line">&gt;&gt;&gt; b = np.arange( 4 )</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([0, 1, 2, 3])</div><div class="line">&gt;&gt;&gt; c = a-b</div><div class="line">&gt;&gt;&gt; c</div><div class="line">array([20, 29, 38, 47])</div><div class="line">&gt;&gt;&gt; b**2</div><div class="line">array([0, 1, 4, 9])</div><div class="line">&gt;&gt;&gt; 10*np.sin(a)</div><div class="line">array([ 9.12945251, -9.88031624,  7.4511316 , -2.62374854])</div><div class="line">&gt;&gt;&gt; a&lt;35</div><div class="line">array([ True, True, False, False], dtype=bool)</div></pre></td></tr></table></figure>
<p>在 \( NumPy \) 数组的 <code>*</code> 操作不像其他的矩阵语言。矩阵乘法通过 <code>dot</code> 函数进行模拟。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; A = np.array( [[1,1],</div><div class="line">...             [0,1]] )</div><div class="line">&gt;&gt;&gt; B = np.array( [[2,0],</div><div class="line">...             [3,4]] )</div><div class="line">&gt;&gt;&gt; A*B                         # elementwise product</div><div class="line">array([[2, 0],</div><div class="line">       [0, 4]])</div><div class="line">&gt;&gt;&gt; A.dot(B)                    # matrix product</div><div class="line">array([[5, 4],</div><div class="line">       [3, 4]])</div><div class="line">&gt;&gt;&gt; np.dot(A, B)                # another matrix product</div><div class="line">array([[5, 4],</div><div class="line">       [3, 4]])</div></pre></td></tr></table></figure>
<p>想 <code>+=</code> 和 <code>*=</code> 操作之类的，直接在原数组上做修改，不会创建新数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.ones((2,3), dtype=int)</div><div class="line">&gt;&gt;&gt; b = np.random.random((2,3))</div><div class="line">&gt;&gt;&gt; a *= 3</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[3, 3, 3],</div><div class="line">       [3, 3, 3]])</div><div class="line">&gt;&gt;&gt; b += a</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([[ 3.417022  ,  3.72032449,  3.00011437],</div><div class="line">       [ 3.30233257,  3.14675589,  3.09233859]])</div><div class="line">&gt;&gt;&gt; a += b                  # b is not automatically converted to integer type</div><div class="line">Traceback (most recent call last):</div><div class="line">  ...</div><div class="line">TypeError: Cannot cast ufunc add output from dtype(&apos;float64&apos;) to dtype(&apos;int64&apos;) with casting rule &apos;same_kind&apos;</div></pre></td></tr></table></figure>
<p>在不同数组类型之间的操作，结果数组的类型趋于更普通或者更精确的一种（称为向上转型）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.ones(3, dtype=np.int32)</div><div class="line">&gt;&gt;&gt; b = np.linspace(0,pi,3)</div><div class="line">&gt;&gt;&gt; b.dtype.name</div><div class="line">&apos;float64&apos;</div><div class="line">&gt;&gt;&gt; c = a+b</div><div class="line">&gt;&gt;&gt; c</div><div class="line">array([ 1.        ,  2.57079633,  4.14159265])</div><div class="line">&gt;&gt;&gt; c.dtype.name</div><div class="line">&apos;float64&apos;</div><div class="line">&gt;&gt;&gt; d = np.exp(c*1j)</div><div class="line">&gt;&gt;&gt; d</div><div class="line">array([ 0.54030231+0.84147098j, -0.84147098+0.54030231j,</div><div class="line">       -0.54030231-0.84147098j])</div><div class="line">&gt;&gt;&gt; d.dtype.name</div><div class="line">&apos;complex128&apos;</div></pre></td></tr></table></figure>
<p>许多类似于求数组所有元素的和的一元操作都是作为 <code>ndarray</code> 类的方法实现的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.random.random((2,3))</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 0.18626021,  0.34556073,  0.39676747],</div><div class="line">       [ 0.53881673,  0.41919451,  0.6852195 ]])</div><div class="line">&gt;&gt;&gt; a.sum()</div><div class="line">2.5718191614547998</div><div class="line">&gt;&gt;&gt; a.min()</div><div class="line">0.1862602113776709</div><div class="line">&gt;&gt;&gt; a.max()</div><div class="line">0.6852195003967595</div></pre></td></tr></table></figure>
<p>默认情况下，尽管这些操作是应用于一个数字列表，可以无视它的形状。当时，通过指定 <code>axis</code> 参数可以将操作应用于数组的某一具体 <code>axis</code> 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; b = np.arange(12).reshape(3,4)</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([[ 0,  1,  2,  3],</div><div class="line">       [ 4,  5,  6,  7],</div><div class="line">       [ 8,  9, 10, 11]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; b.sum(axis=0)                            # sum of each column</div><div class="line">array([12, 15, 18, 21])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; b.min(axis=1)                            # min of each row</div><div class="line">array([0, 4, 8])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; b.cumsum(axis=1)                         # cumulative sum along each row</div><div class="line">array([[ 0,  1,  3,  6],</div><div class="line">       [ 4,  9, 15, 22],</div><div class="line">       [ 8, 17, 27, 38]])</div></pre></td></tr></table></figure>
<h3 id="2-5-通用功能"><a href="#2-5-通用功能" class="headerlink" title="2.5 通用功能"></a>2.5 通用功能</h3><p>\( NumPy \) 提供了很多数学上的函数，例如 <code>sin</code>、<code>cos</code>、<code>exp</code>。这些被叫做 “universal functions” (<code>ufunc</code>)。在 \( NumPy \）中这些函数是操作数组数字，产生一个数组作为输出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; B = np.arange(3)</div><div class="line">&gt;&gt;&gt; B</div><div class="line">array([0, 1, 2])</div><div class="line">&gt;&gt;&gt; np.exp(B)</div><div class="line">array([ 1.        ,  2.71828183,  7.3890561 ])</div><div class="line">&gt;&gt;&gt; np.sqrt(B)</div><div class="line">array([ 0.        ,  1.        ,  1.41421356])</div><div class="line">&gt;&gt;&gt; C = np.array([2., -1., 4.])</div><div class="line">&gt;&gt;&gt; np.add(B, C)</div><div class="line">array([ 2.,  0.,  6.])</div></pre></td></tr></table></figure>
<h5 id="参考-1"><a href="#参考-1" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#universal-functions" target="_blank" rel="external">all, any, apply_along_axis, argmax, argmin, argsort, average, bincount, ceil, clip, conj, corrcoef, cov, cross, cumprod, cumsum, diff, dot, floor, inner, inv, lexsort, max, maximum, mean, median, min, minimum, nonzero, outer, prod, re, round, sort, std, sum, trace, transpose, var, vdot, vectorize, where</a></p>
<h3 id="2-6-索引，切片和迭代"><a href="#2-6-索引，切片和迭代" class="headerlink" title="2.6 索引，切片和迭代"></a>2.6 索引，切片和迭代</h3><p>一维数组可以被索引，切片和迭代，就像<a href="https://docs.python.org/tutorial/introduction.html#lists" target="_blank" rel="external">列表</a>和其他Python序列一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(10)**3</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([  0,   1,   8,  27,  64, 125, 216, 343, 512, 729])</div><div class="line">&gt;&gt;&gt; a[2]</div><div class="line">8</div><div class="line">&gt;&gt;&gt; a[2:5]</div><div class="line">array([ 8, 27, 64])</div><div class="line">&gt;&gt;&gt; a[:6:2] = -1000    # equivalent to a[0:6:2] = -1000; from start to position 6, exclusive, set every 2nd element to -1000</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([-1000,     1, -1000,    27, -1000,   125,   216,   343,   512,   729])</div><div class="line">&gt;&gt;&gt; a[ : :-1]                                 # reversed a</div><div class="line">array([  729,   512,   343,   216,   125, -1000,    27, -1000,     1, -1000])</div><div class="line">&gt;&gt;&gt; for i in a:</div><div class="line">...     print(i**(1/3.))</div><div class="line">...</div><div class="line">nan</div><div class="line">1.0</div><div class="line">nan</div><div class="line">3.0</div><div class="line">nan</div><div class="line">5.0</div><div class="line">6.0</div><div class="line">7.0</div><div class="line">8.0</div><div class="line">9.0</div></pre></td></tr></table></figure>
<p>多维数组对于每个 <code>axis</code> 都有一个索引，这些索引用逗号分隔。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; def f(x,y):</div><div class="line">...     return 10*x+y</div><div class="line">...</div><div class="line">&gt;&gt;&gt; b = np.fromfunction(f,(5,4),dtype=int)</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([[ 0,  1,  2,  3],</div><div class="line">       [10, 11, 12, 13],</div><div class="line">       [20, 21, 22, 23],</div><div class="line">       [30, 31, 32, 33],</div><div class="line">       [40, 41, 42, 43]])</div><div class="line">&gt;&gt;&gt; b[2,3]</div><div class="line">23</div><div class="line">&gt;&gt;&gt; b[0:5, 1]                       # each row in the second column of b</div><div class="line">array([ 1, 11, 21, 31, 41])</div><div class="line">&gt;&gt;&gt; b[ : ,1]                        # equivalent to the previous example</div><div class="line">array([ 1, 11, 21, 31, 41])</div><div class="line">&gt;&gt;&gt; b[1:3, : ]                      # each column in the second and third row of b</div><div class="line">array([[10, 11, 12, 13],</div><div class="line">       [20, 21, 22, 23]])</div></pre></td></tr></table></figure>
<p>当提供的索引少于 <code>axis</code> 的数量时，缺失的索引按完全切片考虑。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; b[-1]                                  # the last row. Equivalent to b[-1,:]</div><div class="line">array([40, 41, 42, 43])</div></pre></td></tr></table></figure>
<p><code>b[i]</code> 这种表达中括号中的 <code>i</code> 后面可以跟很多用 <code>:</code> 表示其它 <code>axis</code> 的实例。\( NumPy \) 也允许使用三个点代替 <code>b[i, ...]</code></p>
<p>这三个点(<code>...</code>)表示很多完整索引元组中的冒号。例如，<code>x</code> 的 <code>rank = 5</code> 有：</p>
<ul>
<li><code>x[1, 2, ...]</code> = <code>x[1, 2, :, :, :]</code></li>
<li><code>x[..., 3]</code> = <code>x[:, :, :, :, 3]</code></li>
<li><code>x[4, ..., 5, :]</code> = <code>x[4, :, :, 5, :]</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; c = np.array( [[[  0,  1,  2],               # a 3D array (two stacked 2D arrays)</div><div class="line">...                 [ 10, 12, 13]],</div><div class="line">...                [[100,101,102],</div><div class="line">...                 [110,112,113]]])</div><div class="line">&gt;&gt;&gt; c.shape</div><div class="line">(2, 2, 3)</div><div class="line">&gt;&gt;&gt; c[1,...]                                   # same as c[1,:,:] or c[1]</div><div class="line">array([[100, 101, 102],</div><div class="line">       [110, 112, 113]])</div><div class="line">&gt;&gt;&gt; c[...,2]                                   # same as c[:,:,2]</div><div class="line">array([[  2,  13],</div><div class="line">       [102, 113]])</div></pre></td></tr></table></figure>
<p>迭代多维数组是对第一 <code>axis</code> 进行的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; for row in b:</div><div class="line">...     print(row)</div><div class="line">...</div><div class="line">[0 1 2 3]</div><div class="line">[10 11 12 13]</div><div class="line">[20 21 22 23]</div><div class="line">[30 31 32 33]</div><div class="line">[40 41 42 43]</div></pre></td></tr></table></figure>
<p>然而，如果你想模拟对数组中每一个元素的操作，你可以使用 <code>flat</code> 属性，它是一个 <a href="https://docs.python.org/2/tutorial/classes.html#iterators" target="_blank" rel="external">iterator</a>，能够遍历数组中每一个元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; for element in b.flat:</div><div class="line">...     print(element)</div><div class="line">...</div><div class="line">0</div><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td></tr></table></figure>
<h5 id="参考-2"><a href="#参考-2" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/user/basics.indexing.html#basics-indexing" target="_blank" rel="external">Indexing</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/arrays.indexing.html#arrays-indexing" target="_blank" rel="external">Indexing</a> (reference), <a href="https://docs.scipy.org/doc/numpy-dev/reference/arrays.indexing.html#numpy.newaxis" target="_blank" rel="external">newaxis</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ndenumerate.html#numpy.ndenumerate" target="_blank" rel="external">ndenumerate</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.indices.html#numpy.indices" target="_blank" rel="external">indices</a></p>
<h2 id="3-操控形状"><a href="#3-操控形状" class="headerlink" title="3 操控形状"></a>3 操控形状</h2><h3 id="3-1-改变数组的形状"><a href="#3-1-改变数组的形状" class="headerlink" title="3.1 改变数组的形状"></a>3.1 改变数组的形状</h3><p>每一个数组的形状通过每一个 <code>axis</code> 中的元素数量。（其实就是每一个维度的元素多少确定）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((3,4)))</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 2.,  8.,  0.,  6.],</div><div class="line">       [ 4.,  5.,  1.,  1.],</div><div class="line">       [ 8.,  9.,  3.,  6.]])</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(3, 4)</div></pre></td></tr></table></figure>
<p>数组的形状可以通过很多命令来改变，提到这里，接下来的三个例子放回一个被修改的数组，原数组不会改变。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a.ravel()  # returns the array, flattened</div><div class="line">array([ 2.,  8.,  0.,  6.,  4.,  5.,  1.,  1.,  8.,  9.,  3.,  6.])</div><div class="line">&gt;&gt;&gt; a.reshape(6,2)  # returns the array with a modified shape</div><div class="line">array([[ 2.,  8.],</div><div class="line">       [ 0.,  6.],</div><div class="line">       [ 4.,  5.],</div><div class="line">       [ 1.,  1.],</div><div class="line">       [ 8.,  9.],</div><div class="line">       [ 3.,  6.]])</div><div class="line">&gt;&gt;&gt; a.T  # returns the array, transposed</div><div class="line">array([[ 2.,  4.,  8.],</div><div class="line">       [ 8.,  5.,  9.],</div><div class="line">       [ 0.,  1.,  3.],</div><div class="line">       [ 6.,  1.,  6.]])</div><div class="line">&gt;&gt;&gt; a.T.shape</div><div class="line">(4, 3)</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(3, 4)</div></pre></td></tr></table></figure>
<p><code>ravel()</code> 函数中每个元素的位置通常是一种 “C-style” 的，也就是说，最右边的索引改变起来最快。所以元素 <code>a[0, 0]</code> 后面的元素是 <code>a[0, 1]</code>。如果这个数组被塑造成其它形状，这个数组也是作为 “C-style” 对待。\( NumPy \) 通常也是按照这个创建的数组，所以使用 <code>ravel()</code> 函数时不需要复制，但是如果这个数组是通过从另一个数组切片或者其它不同寻常的方式而来的话，它就需要进行复制了。函数 <code>ravel()</code> 和 <code>reshape()</code> 也可以通过可选参数被指定去用 <code>FORTRAN-style</code> 的数组，这这种风格中，最左的索引改变最快。</p>
<p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.reshape.html#numpy.reshape" target="_blank" rel="external">reshape</a> 函数返回修改的形状，而 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ndarray.resize.html#numpy.ndarray.resize" target="_blank" rel="external">ndarray.resize</a> 方法直接修改数组本身。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 2.,  8.,  0.,  6.],</div><div class="line">       [ 4.,  5.,  1.,  1.],</div><div class="line">       [ 8.,  9.,  3.,  6.]])</div><div class="line">&gt;&gt;&gt; a.resize((2,6))</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 2.,  8.,  0.,  6.,  4.,  5.],</div><div class="line">       [ 1.,  1.,  8.,  9.,  3.,  6.]])</div></pre></td></tr></table></figure>
<p>如果一个维度给一个 \( -1 \) 作为参数，那么其他它维度将自动计算。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a.reshape(3,-1)</div><div class="line">array([[ 2.,  8.,  0.,  6.],</div><div class="line">       [ 4.,  5.,  1.,  1.],</div><div class="line">       [ 8.,  9.,  3.,  6.]])</div></pre></td></tr></table></figure>
<h5 id="参考-3"><a href="#参考-3" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ndarray.shape.html#numpy.ndarray.shape" target="_blank" rel="external">ndarray.shape</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.reshape.html#numpy.reshape" target="_blank" rel="external">reshape</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.resize.html#numpy.resize" target="_blank" rel="external">resize</a>, <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ravel.html#numpy.ravel" target="_blank" rel="external">ravel</a></p>
<h3 id="3-2-不同数组的组合"><a href="#3-2-不同数组的组合" class="headerlink" title="3.2 不同数组的组合"></a>3.2 不同数组的组合</h3><p>数组可以通过不同的 <code>axes</code> 组合起来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((2,2)))</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 8.,  8.],</div><div class="line">       [ 0.,  0.]])</div><div class="line">&gt;&gt;&gt; b = np.floor(10*np.random.random((2,2)))</div><div class="line">&gt;&gt;&gt; b</div><div class="line">array([[ 1.,  8.],</div><div class="line">       [ 0.,  4.]])</div><div class="line">&gt;&gt;&gt; np.vstack((a,b))</div><div class="line">array([[ 8.,  8.],</div><div class="line">       [ 0.,  0.],</div><div class="line">       [ 1.,  8.],</div><div class="line">       [ 0.,  4.]])</div><div class="line">&gt;&gt;&gt; np.hstack((a,b))</div><div class="line">array([[ 8.,  8.,  1.,  8.],</div><div class="line">       [ 0.,  0.,  0.,  4.]])</div></pre></td></tr></table></figure>
<p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.column_stack.html#numpy.column_stack" target="_blank" rel="external">column_stack</a> 函数可以将 \( 1D \) 数组作为 \( 2D \) 数组的列。当且仅当数组是 \( 1D \) 的时候它等于 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.vstack.html#numpy.vstack" target="_blank" rel="external">vstack</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; from numpy import newaxis</div><div class="line">&gt;&gt;&gt; np.column_stack((a,b))   # With 2D arrays</div><div class="line">array([[ 8.,  8.,  1.,  8.],</div><div class="line">       [ 0.,  0.,  0.,  4.]])</div><div class="line">&gt;&gt;&gt; a = np.array([4.,2.])</div><div class="line">&gt;&gt;&gt; b = np.array([2.,8.])</div><div class="line">&gt;&gt;&gt; a[:,newaxis]  # This allows to have a 2D columns vector</div><div class="line">array([[ 4.],</div><div class="line">       [ 2.]])</div><div class="line">&gt;&gt;&gt; np.column_stack((a[:,newaxis],b[:,newaxis]))</div><div class="line">array([[ 4.,  2.],</div><div class="line">       [ 2.,  8.]])</div><div class="line">&gt;&gt;&gt; np.vstack((a[:,newaxis],b[:,newaxis])) # The behavior of vstack is different</div><div class="line">array([[ 4.],</div><div class="line">       [ 2.],</div><div class="line">       [ 2.],</div><div class="line">       [ 8.]])</div></pre></td></tr></table></figure>
<p>对于超过两个维度的数组，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.hstack.html#numpy.hstack" target="_blank" rel="external">hstack</a> 会沿着第二个 <code>axis</code> 堆积，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.vstack.html#numpy.vstack" target="_blank" rel="external">vstack</a> 沿着第一个 <code>axes</code> 堆积，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.concatenate.html#numpy.concatenate" target="_blank" rel="external">concatenate</a> 允许一个可选参数选择哪一个 <code>axis</code> 发生连接操作。</p>
<h5 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h5><p>在复杂情况下，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.r_.html#numpy.r_" target="_blank" rel="external">r_</a> 和 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.c_.html#numpy.c_" target="_blank" rel="external">c_</a> 对于通过沿一个 <code>axis</code> 堆积数字来创建数组很有用。它们允许使用范围表示符号（“:”）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; np.r_[1:4,0,4]</div><div class="line">array([1, 2, 3, 0, 4])</div></pre></td></tr></table></figure>
<p>当使用数组作为参数时，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.r_.html#numpy.r_" target="_blank" rel="external">r_</a> 与 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.c_.html#numpy.c_" target="_blank" rel="external">c_</a> 在默认行为是和 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.vstack.html#numpy.vstack" target="_blank" rel="external">vstack</a> 与 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.hstack.html#numpy.hstack" target="_blank" rel="external">hstack</a> 相似的，但是它们允许可选参数给出 <code>axis</code> 来连接。</p>
<h5 id="参考-4"><a href="#参考-4" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.hstack.html#numpy.hstack" target="_blank" rel="external">hstack</a>，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.vstack.html#numpy.vstack" target="_blank" rel="external">vstack</a>，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.column_stack.html#numpy.column_stack" target="_blank" rel="external">column_stack</a>，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.concatenate.html#numpy.concatenate" target="_blank" rel="external">concatenate</a>，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.c_.html#numpy.c_" target="_blank" rel="external">c_</a>，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.r_.html#numpy.r_" target="_blank" rel="external">r_</a></p>
<h3 id="3-3-将数组分割成几个小数组"><a href="#3-3-将数组分割成几个小数组" class="headerlink" title="3.3 将数组分割成几个小数组"></a>3.3 将数组分割成几个小数组</h3><p>使用 <a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.hsplit.html#numpy.hsplit" target="_blank" rel="external">hsplit</a>，你能沿着它的水平 <code>axis</code> 分割，可以通过指定数组形状来返回，也可以指定哪个列应该拆分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((2,12)))</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 9.,  5.,  6.,  3.,  6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],</div><div class="line">       [ 1.,  4.,  9.,  2.,  2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])</div><div class="line">&gt;&gt;&gt; np.hsplit(a,3)   # Split a into 3</div><div class="line">[array([[ 9.,  5.,  6.,  3.],</div><div class="line">       [ 1.,  4.,  9.,  2.]]), array([[ 6.,  8.,  0.,  7.],</div><div class="line">       [ 2.,  1.,  0.,  6.]]), array([[ 9.,  7.,  2.,  7.],</div><div class="line">       [ 2.,  2.,  4.,  0.]])]</div><div class="line">&gt;&gt;&gt; np.hsplit(a,(3,4))   # Split a after the third and the fourth column</div><div class="line">[array([[ 9.,  5.,  6.],</div><div class="line">       [ 1.,  4.,  9.]]), array([[ 3.],</div><div class="line">       [ 2.]]), array([[ 6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],</div><div class="line">       [ 2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])]</div></pre></td></tr></table></figure>
<p><a href="">vplit</a> 沿着竖直的 <code>axis</code> 分割，<a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.array_split.html#numpy.array_split" target="_blank" rel="external">array_split</a> 允许通过指定哪个 <code>axis</code> 去分割。</p>
<h2 id="4-拷贝和-Views"><a href="#4-拷贝和-Views" class="headerlink" title="4 拷贝和 Views"></a>4 拷贝和 Views</h2><p>在操作数组的时候，它们的数据有时候拷贝进一个新的数组，有时候又不是。这经常是初学者感到困惑。下面有三种情况：</p>
<h3 id="4-1-不拷贝"><a href="#4-1-不拷贝" class="headerlink" title="4.1 不拷贝"></a>4.1 不拷贝</h3><p>简单的赋值不会拷贝任何数组对象和它们的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(12)</div><div class="line">&gt;&gt;&gt; b = a            # no new object is created</div><div class="line">&gt;&gt;&gt; b is a           # a and b are two names for the same ndarray object</div><div class="line">True</div><div class="line">&gt;&gt;&gt; b.shape = 3,4    # changes the shape of a</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(3, 4)</div></pre></td></tr></table></figure>
<p>\( Python \) 将可变对象作为引用传递，所以函数调用不会产生拷贝。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; def f(x):</div><div class="line">...     print(id(x))</div><div class="line">...</div><div class="line">&gt;&gt;&gt; id(a)                           # id is a unique identifier of an object</div><div class="line">148293216</div><div class="line">&gt;&gt;&gt; f(a)</div><div class="line">148293216</div></pre></td></tr></table></figure>
<h3 id="4-2-View-或者浅拷贝"><a href="#4-2-View-或者浅拷贝" class="headerlink" title="4.2 View 或者浅拷贝"></a>4.2 View 或者浅拷贝</h3><p>不同的数组对象可以分享相同的数据。<code>view</code> 方法创建了一个相同数据的新数组对象。<br>PS：这里 View（视图？） 不知道如何理解好，所以保留。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; c = a.view()</div><div class="line">&gt;&gt;&gt; c is a</div><div class="line">False</div><div class="line">&gt;&gt;&gt; c.base is a                        # c is a view of the data owned by a</div><div class="line">True</div><div class="line">&gt;&gt;&gt; c.flags.owndata</div><div class="line">False</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; c.shape = 2,6                      # a&apos;s shape doesn&apos;t change</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(3, 4)</div><div class="line">&gt;&gt;&gt; c[0,4] = 1234                      # a&apos;s data changes</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[   0,    1,    2,    3],</div><div class="line">       [1234,    5,    6,    7],</div><div class="line">       [   8,    9,   10,   11]])</div></pre></td></tr></table></figure>
<p>切片数组返回一个 <code>view</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; s = a[ : , 1:3]     # spaces added for clarity; could also be written &quot;s = a[:,1:3]&quot;</div><div class="line">&gt;&gt;&gt; s[:] = 10           # s[:] is a view of s. Note the difference between s=10 and s[:]=10</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[   0,   10,   10,    3],</div><div class="line">       [1234,   10,   10,    7],</div><div class="line">       [   8,   10,   10,   11]])</div></pre></td></tr></table></figure>
<h3 id="4-3-深拷贝"><a href="#4-3-深拷贝" class="headerlink" title="4.3 深拷贝"></a>4.3 深拷贝</h3><p><code>copy</code> 方法完全拷贝数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; d = a.copy()                          # a new array object with new data is created</div><div class="line">&gt;&gt;&gt; d is a</div><div class="line">False</div><div class="line">&gt;&gt;&gt; d.base is a                           # d doesn&apos;t share anything with a</div><div class="line">False</div><div class="line">&gt;&gt;&gt; d[0,0] = 9999</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[   0,   10,   10,    3],</div><div class="line">       [1234,   10,   10,    7],</div><div class="line">       [   8,   10,   10,   11]])</div></pre></td></tr></table></figure>
<h3 id="4-4-函数和方法综述"><a href="#4-4-函数和方法综述" class="headerlink" title="4.4 函数和方法综述"></a>4.4 函数和方法综述</h3><p>这里通过类别排序列举一些有用的 \( NumPy \) 函数和方法。拆看完整列表点击<a href="https://docs.scipy.org/doc/numpy-dev/reference/routines.html#routines" target="_blank" rel="external">Routines</a></p>
<h5 id="数组收集"><a href="#数组收集" class="headerlink" title="数组收集"></a>数组收集</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">arange, array, copy, empty, empty_like, eye, fromfile, fromfunction, identity, linspace, logspace, mgrid, ogrid, ones, ones_like, r, zeros, zeros_like</a></p>
</blockquote>
<h5 id="转化"><a href="#转化" class="headerlink" title="转化"></a>转化</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">ndarray.astype, atleast_1d, atleast_2d, atleast_3d, mat</a></p>
</blockquote>
<h5 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">array_split, column_stack, concatenate, diagonal, dsplit, dstack, hsplit, hstack, ndarray.item, newaxis, ravel, repeat, reshape, resize, squeeze, swapaxes, take, transpose, vsplit, vstack</a></p>
</blockquote>
<h5 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">all, any, nonzero, where</a></p>
</blockquote>
<h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">argmax, argmin, argsort, max, min, ptp, searchsorted, sort</a></p>
</blockquote>
<h5 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">choose, compress, cumprod, cumsum, inner, ndarray.fill, imag, prod, put, putmask, real, sum</a></p>
</blockquote>
<h5 id="基本统计"><a href="#基本统计" class="headerlink" title="基本统计"></a>基本统计</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">cov, mean, std, var</a></p>
</blockquote>
<h5 id="基本线性代数"><a href="#基本线性代数" class="headerlink" title="基本线性代数"></a>基本线性代数</h5><blockquote>
<p><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#functions-and-methods-overview" target="_blank" rel="external">cross, dot, outer, linalg.svd, vdot</a></p>
</blockquote>
<h2 id="5-Less-Basic"><a href="#5-Less-Basic" class="headerlink" title="5 Less Basic"></a>5 Less Basic</h2><h3 id="5-1-广播规则"><a href="#5-1-广播规则" class="headerlink" title="5.1 广播规则"></a>5.1 广播规则</h3><p>广播允许通用功能用一种有意义的方式去处理不完全相同的形状输入。<br>第一条广播规则是如果所有输入的数组都没有相同的维度数字，那么将会重复地用 \( 1 \) 去加在较小的数组形状上直到所有的数组有相同的维度数字。<br>第二条广播规则是确保沿着特定维度大小为 \( 1 \) 的数组就像沿着这个维度最大维数大小一样的，假设数组元素的值在广播数组的维度是相同的。<br>应用广播规则后，所有数组大小不必须匹配。更多细节可以在<a href="https://docs.scipy.org/doc/numpy-dev/user/basics.broadcasting.html" target="_blank" rel="external">Broadcasting</a>。</p>
<ul>
<li><a href="http://blog.csdn.net/yangnanhai93/article/details/50127747" target="_blank" rel="external">Numpy中的广播(Broadcasting)</a></li>
</ul>
<h2 id="6-花式索引和索引技巧"><a href="#6-花式索引和索引技巧" class="headerlink" title="6 花式索引和索引技巧"></a>6 花式索引和索引技巧</h2><p>\( NumPy \) 提供了比 \(  Python \) 序列更多的索引功能。除了我们之前看到的通过整数和切片索引之外，数组可以通过整数数组和布尔数组索引。</p>
<h3 id="6-1-用索引数组索引"><a href="#6-1-用索引数组索引" class="headerlink" title="6.1 用索引数组索引"></a>6.1 用索引数组索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(12)**2                       # the first 12 square numbers</div><div class="line">&gt;&gt;&gt; i = np.array( [ 1,1,3,8,5 ] )              # an array of indices</div><div class="line">&gt;&gt;&gt; a[i]                                       # the elements of a at the positions i</div><div class="line">array([ 1,  1,  9, 64, 25])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; j = np.array( [ [ 3, 4], [ 9, 7 ] ] )      # a bidimensional array of indices</div><div class="line">&gt;&gt;&gt; a[j]                                       # the same shape as j</div><div class="line">array([[ 9, 16],</div><div class="line">       [81, 49]])</div></pre></td></tr></table></figure>
<p>当数组 <code>a</code> 是多维的，单个数组指向数组 <code>a</code> 的第一维。以下示例通过使用调色板将标签图像转换为彩色图像来显示此行为。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; palette = np.array( [ [0,0,0],                # black</div><div class="line">...                       [255,0,0],              # red</div><div class="line">...                       [0,255,0],              # green</div><div class="line">...                       [0,0,255],              # blue</div><div class="line">...                       [255,255,255] ] )       # white</div><div class="line">&gt;&gt;&gt; image = np.array( [ [ 0, 1, 2, 0 ],           # each value corresponds to a color in the palette</div><div class="line">...                     [ 0, 3, 4, 0 ]  ] )</div><div class="line">&gt;&gt;&gt; palette[image]                            # the (2,4,3) color image</div><div class="line">array([[[  0,   0,   0],</div><div class="line">        [255,   0,   0],</div><div class="line">        [  0, 255,   0],</div><div class="line">        [  0,   0,   0]],</div><div class="line">       [[  0,   0,   0],</div><div class="line">        [  0,   0, 255],</div><div class="line">        [255, 255, 255],</div><div class="line">        [  0,   0,   0]]])</div></pre></td></tr></table></figure>
<p>我们可以给超过一维的索引。数组每个维度的索引形状必须一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(12).reshape(3,4)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[ 0,  1,  2,  3],</div><div class="line">       [ 4,  5,  6,  7],</div><div class="line">       [ 8,  9, 10, 11]])</div><div class="line">&gt;&gt;&gt; i = np.array( [ [0,1],                        # indices for the first dim of a</div><div class="line">...                 [1,2] ] )</div><div class="line">&gt;&gt;&gt; j = np.array( [ [2,1],                        # indices for the second dim</div><div class="line">...                 [3,3] ] )</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[i,j]                                     # i and j must have equal shape</div><div class="line">array([[ 2,  5],</div><div class="line">       [ 7, 11]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[i,2]</div><div class="line">array([[ 2,  6],</div><div class="line">       [ 6, 10]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[:,j]                                     # i.e., a[ : , j]</div><div class="line">array([[[ 2,  1],</div><div class="line">        [ 3,  3]],</div><div class="line">       [[ 6,  5],</div><div class="line">        [ 7,  7]],</div><div class="line">       [[10,  9],</div><div class="line">        [11, 11]]])</div></pre></td></tr></table></figure>
<p>当然，我们可以把 <code>i</code>, <code>j</code> 放进一个序列然后对这个列表进行索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; l = [i,j]</div><div class="line">&gt;&gt;&gt; a[l]                                       # equivalent to a[i,j]</div><div class="line">array([[ 2,  5],</div><div class="line">       [ 7, 11]])</div></pre></td></tr></table></figure>
<p>然而，我们可以直接把 <code>i</code>，<code>j</code> 放进数组中，因为这个数组将会被解释成 <code>a</code> 第一维的索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; s = np.array( [i,j] )</div><div class="line">&gt;&gt;&gt; a[s]                                       # not what we want</div><div class="line">Traceback (most recent call last):</div><div class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in ?</div><div class="line">IndexError: index (3) out of range (0&lt;=index&lt;=2) in dimension 0</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[tuple(s)]                                # same as a[i,j]</div><div class="line">array([[ 2,  5],</div><div class="line">       [ 7, 11]])</div></pre></td></tr></table></figure>
<p>另一个常用数组索引是查询时间相关系列的最大值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; time = np.linspace(20, 145, 5)                 # time scale</div><div class="line">&gt;&gt;&gt; data = np.sin(np.arange(20)).reshape(5,4)      # 4 time-dependent series</div><div class="line">&gt;&gt;&gt; time</div><div class="line">array([  20.  ,   51.25,   82.5 ,  113.75,  145.  ])</div><div class="line">&gt;&gt;&gt; data</div><div class="line">array([[ 0.        ,  0.84147098,  0.90929743,  0.14112001],</div><div class="line">       [-0.7568025 , -0.95892427, -0.2794155 ,  0.6569866 ],</div><div class="line">       [ 0.98935825,  0.41211849, -0.54402111, -0.99999021],</div><div class="line">       [-0.53657292,  0.42016704,  0.99060736,  0.65028784],</div><div class="line">       [-0.28790332, -0.96139749, -0.75098725,  0.14987721]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; ind = data.argmax(axis=0)                   # index of the maxima for each series</div><div class="line">&gt;&gt;&gt; ind</div><div class="line">array([2, 0, 3, 1])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; time_max = time[ ind]                       # times corresponding to the maxima</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; data_max = data[ind, xrange(data.shape[1])] # =&gt; data[ind[0],0], data[ind[1],1]...</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; time_max</div><div class="line">array([  82.5 ,   20.  ,  113.75,   51.25])</div><div class="line">&gt;&gt;&gt; data_max</div><div class="line">array([ 0.98935825,  0.84147098,  0.99060736,  0.6569866 ])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; np.all(data_max == data.max(axis=0))</div><div class="line">True</div></pre></td></tr></table></figure>
<p>你也可以使用数组索引对数组进行赋值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(5)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([0, 1, 2, 3, 4])</div><div class="line">&gt;&gt;&gt; a[[1,3,4]] = 0</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([0, 0, 2, 0, 0])</div></pre></td></tr></table></figure>
<p>然而，当你的列表索引包含重复，这个赋值会发生几次，保留最后一个数值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(5)</div><div class="line">&gt;&gt;&gt; a[[0,0,2]]=[1,2,3]</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([2, 1, 3, 3, 4])</div></pre></td></tr></table></figure>
<p>这足够合理，但是如果你想使用 \( Python \) 的 <code>+=</code> 结构时要小心，它可能不像你期待的一样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(5)</div><div class="line">&gt;&gt;&gt; a[[0,0,2]]+=1</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([1, 1, 3, 3, 4])</div></pre></td></tr></table></figure>
<p>即使 \( 0 \) 在列表中出现了两次，这第 \( 0 \) 个元素也只增加一次。这是因为  \( Python \) 把 “a+=1” 等价于 “a=a+1”。</p>
<h3 id="6-2-用布尔数组索引"><a href="#6-2-用布尔数组索引" class="headerlink" title="6.2 用布尔数组索引"></a>6.2 用布尔数组索引</h3><p>当我们用整数数组去索引数组时，我们提供了索引列表去挑选。用布尔索引的方法是不用的；我们明确的在数组中选择哪个我们想要哪个我们不想要。<br>最自然能想到的方法是用和原数组一样形状的布尔数组进行布尔索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(12).reshape(3,4)</div><div class="line">&gt;&gt;&gt; b = a &gt; 4</div><div class="line">&gt;&gt;&gt; b                                          # b is a boolean with a&apos;s shape</div><div class="line">array([[False, False, False, False],</div><div class="line">       [False,  True,  True,  True],</div><div class="line">       [ True,  True,  True,  True]], dtype=bool)</div><div class="line">&gt;&gt;&gt; a[b]                                       # 1d array with the selected elements</div><div class="line">array([ 5,  6,  7,  8,  9, 10, 11])</div></pre></td></tr></table></figure>
<p>这个属性在复制时非常有用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a[b] = 0                                   # All elements of &apos;a&apos; higher than 4 become 0</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[0, 1, 2, 3],</div><div class="line">       [4, 0, 0, 0],</div><div class="line">       [0, 0, 0, 0]])</div></pre></td></tr></table></figure>
<p>你可以看接下来的例子去了解如何使用布尔索引去生成 <a href="http://en.wikipedia.org/wiki/Mandelbrot_set" target="_blank" rel="external">Mandelbrot set</a> 图像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import numpy as np</div><div class="line">&gt;&gt;&gt; import matplotlib.pyplot as plt</div><div class="line">&gt;&gt;&gt; def mandelbrot( h,w, maxit=20 ):</div><div class="line">...     &quot;&quot;&quot;Returns an image of the Mandelbrot fractal of size (h,w).&quot;&quot;&quot;</div><div class="line">...     y,x = np.ogrid[ -1.4:1.4:h*1j, -2:0.8:w*1j ]</div><div class="line">...     c = x+y*1j</div><div class="line">...     z = c</div><div class="line">...     divtime = maxit + np.zeros(z.shape, dtype=int)</div><div class="line">...</div><div class="line">...     for i in range(maxit):</div><div class="line">...         z = z**2 + c</div><div class="line">...         diverge = z*np.conj(z) &gt; 2**2            # who is diverging</div><div class="line">...         div_now = diverge &amp; (divtime==maxit)  # who is diverging now</div><div class="line">...         divtime[div_now] = i                  # note when</div><div class="line">...         z[diverge] = 2                        # avoid diverging too much</div><div class="line">...</div><div class="line">...     return divtime</div><div class="line">&gt;&gt;&gt; plt.imshow(mandelbrot(400,400))</div><div class="line">&gt;&gt;&gt; plt.show()</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">mandelbrot</span><span class="params">(h, w, maxit=<span class="number">20</span>)</span>:</span></div><div class="line">    y, x = np.ogrid[<span class="number">-1.4</span>:<span class="number">1.4</span>:h * <span class="number">1j</span>, <span class="number">-2</span>:<span class="number">0.8</span>:w * <span class="number">1j</span>]</div><div class="line">    c = x + y * <span class="number">1j</span></div><div class="line">    z = c</div><div class="line">    divtime = maxit + np.zeros(z.shape, dtype=int)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(maxit):</div><div class="line">        z = z ** <span class="number">2</span> + c</div><div class="line">        diverge = z * np.conj(z) &gt; <span class="number">2</span> ** <span class="number">2</span>  <span class="comment"># who is diverging</span></div><div class="line">        div_now = diverge &amp; (divtime == maxit)  <span class="comment"># who is diverging now</span></div><div class="line">        divtime[div_now] = i  <span class="comment"># note when</span></div><div class="line">        z[diverge] = <span class="number">2</span>  <span class="comment"># avoid diverging too much</span></div><div class="line">    <span class="keyword">return</span> divtime</div><div class="line"></div><div class="line">plt.imshow(mandelbrot(<span class="number">400</span>, <span class="number">400</span>))</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="/2018/02/04/NumPyOfficialQuickstartTutorial/6_2_01.png" alt=""></p>
<p>第二种用布尔索引方法更像是整数索引，对于每个数组的维度，我们给一个 \( 1D \) 的布尔数组去选择我们想要的切片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(12).reshape(3,4)</div><div class="line">&gt;&gt;&gt; b1 = np.array([False,True,True])             # first dim selection</div><div class="line">&gt;&gt;&gt; b2 = np.array([True,False,True,False])       # second dim selection</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[b1,:]                                   # selecting rows</div><div class="line">array([[ 4,  5,  6,  7],</div><div class="line">       [ 8,  9, 10, 11]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[b1]                                     # same thing</div><div class="line">array([[ 4,  5,  6,  7],</div><div class="line">       [ 8,  9, 10, 11]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[:,b2]                                   # selecting columns</div><div class="line">array([[ 0,  2],</div><div class="line">       [ 4,  6],</div><div class="line">       [ 8, 10]])</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; a[b1,b2]                                  # a weird thing to do</div><div class="line">array([ 4, 10])</div></pre></td></tr></table></figure>
<p>请注意，\( 1D \) 布尔数组的长度必须与你要切片的维度（或<code>axis</code>）的长度一致。在之前的例子中，<code>b1</code> 是一个长度为 \( 3 \)（<code>a</code> 的行数） 的 <code>1-rank</code> 数组，<code>b2</code> （长度为 \( 4 \)）是一个适合去索引 <code>a</code> 的第二 <code>rank</code> (列)。</p>
<h3 id="6-3-ix-函数"><a href="#6-3-ix-函数" class="headerlink" title="6.3 ix_() 函数"></a>6.3 ix_() 函数</h3><p><a href="https://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.ix_.html#numpy.ix_" target="_blank" rel="external">ix_</a> 可以组合不同向量去获得对于每一个 <code>n-uplet</code> 的结果。例如，如果你想从每个 \( a, b, c \) 向量中取得三元组去计算所有的 \( a+b*c \) ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.array([2,3,4,5])</div><div class="line">&gt;&gt;&gt; b = np.array([8,5,4])</div><div class="line">&gt;&gt;&gt; c = np.array([5,4,6,8,3])</div><div class="line">&gt;&gt;&gt; ax,bx,cx = np.ix_(a,b,c)</div><div class="line">&gt;&gt;&gt; ax</div><div class="line">array([[[2]],</div><div class="line">       [[3]],</div><div class="line">       [[4]],</div><div class="line">       [[5]]])</div><div class="line">&gt;&gt;&gt; bx</div><div class="line">array([[[8],</div><div class="line">        [5],</div><div class="line">        [4]]])</div><div class="line">&gt;&gt;&gt; cx</div><div class="line">array([[[5, 4, 6, 8, 3]]])</div><div class="line">&gt;&gt;&gt; ax.shape, bx.shape, cx.shape</div><div class="line">((4, 1, 1), (1, 3, 1), (1, 1, 5))</div><div class="line">&gt;&gt;&gt; result = ax+bx*cx</div><div class="line">&gt;&gt;&gt; result</div><div class="line">array([[[42, 34, 50, 66, 26],</div><div class="line">        [27, 22, 32, 42, 17],</div><div class="line">        [22, 18, 26, 34, 14]],</div><div class="line">       [[43, 35, 51, 67, 27],</div><div class="line">        [28, 23, 33, 43, 18],</div><div class="line">        [23, 19, 27, 35, 15]],</div><div class="line">       [[44, 36, 52, 68, 28],</div><div class="line">        [29, 24, 34, 44, 19],</div><div class="line">        [24, 20, 28, 36, 16]],</div><div class="line">       [[45, 37, 53, 69, 29],</div><div class="line">        [30, 25, 35, 45, 20],</div><div class="line">        [25, 21, 29, 37, 17]]])</div><div class="line">&gt;&gt;&gt; result[3,2,4]</div><div class="line">17</div><div class="line">&gt;&gt;&gt; a[3]+b[2]*c[4]</div><div class="line">17</div></pre></td></tr></table></figure>
<p>你也可以按以下方式实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; def ufunc_reduce(ufct, *vectors):</div><div class="line">...    vs = np.ix_(*vectors)</div><div class="line">...    r = ufct.identity</div><div class="line">...    for v in vs:</div><div class="line">...        r = ufct(r,v)</div><div class="line">...    return r</div></pre></td></tr></table></figure>
<p>然后这样使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; ufunc_reduce(np.add,a,b,c)</div><div class="line">array([[[15, 14, 16, 18, 13],</div><div class="line">        [12, 11, 13, 15, 10],</div><div class="line">        [11, 10, 12, 14,  9]],</div><div class="line">       [[16, 15, 17, 19, 14],</div><div class="line">        [13, 12, 14, 16, 11],</div><div class="line">        [12, 11, 13, 15, 10]],</div><div class="line">       [[17, 16, 18, 20, 15],</div><div class="line">        [14, 13, 15, 17, 12],</div><div class="line">        [13, 12, 14, 16, 11]],</div><div class="line">       [[18, 17, 19, 21, 16],</div><div class="line">        [15, 14, 16, 18, 13],</div><div class="line">        [14, 13, 15, 17, 12]]])</div></pre></td></tr></table></figure>
<p>这个版本的比通常的 <code>ufunc.reduce</code> 好在它使用了<a href="https://docs.scipy.org/doc/numpy-dev/user/Tentative_NumPy_Tutorial.html#head-c43f3f81719d84f09ae2b33a22eaf50b26333db8" target="_blank" rel="external">Broadcasting Rules</a> 规则去避免创建一个大小是输出乘以矢量数量数组。</p>
<h3 id="6-4-使用字符串索引"><a href="#6-4-使用字符串索引" class="headerlink" title="6.4 使用字符串索引"></a>6.4 使用字符串索引</h3><p>参考<a href="https://docs.scipy.org/doc/numpy-dev/user/basics.rec.html#structured-arrays" target="_blank" rel="external">Structured arrays</a></p>
<h2 id="7-线性代数"><a href="#7-线性代数" class="headerlink" title="7 线性代数"></a>7 线性代数</h2><p>工作进行中，基本的线性代数包含在其中。</p>
<h3 id="7-1-简单的数组操作"><a href="#7-1-简单的数组操作" class="headerlink" title="7.1 简单的数组操作"></a>7.1 简单的数组操作</h3><p>看\( NumPy \) 文件夹下的 \( linalg.py \) 文件了解更多。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import numpy as np</div><div class="line">&gt;&gt;&gt; a = np.array([[1.0, 2.0], [3.0, 4.0]])</div><div class="line">&gt;&gt;&gt; print(a)</div><div class="line">[[ 1.  2.]</div><div class="line"> [ 3.  4.]]</div><div class="line"></div><div class="line">&gt;&gt;&gt; a.transpose()</div><div class="line">array([[ 1.,  3.],</div><div class="line">       [ 2.,  4.]])</div><div class="line"></div><div class="line">&gt;&gt;&gt; np.linalg.inv(a)</div><div class="line">array([[-2. ,  1. ],</div><div class="line">       [ 1.5, -0.5]])</div><div class="line"></div><div class="line">&gt;&gt;&gt; u = np.eye(2) # unit 2x2 matrix; &quot;eye&quot; represents &quot;I&quot;</div><div class="line">&gt;&gt;&gt; u</div><div class="line">array([[ 1.,  0.],</div><div class="line">       [ 0.,  1.]])</div><div class="line">&gt;&gt;&gt; j = np.array([[0.0, -1.0], [1.0, 0.0]])</div><div class="line"></div><div class="line">&gt;&gt;&gt; np.dot (j, j) # matrix product</div><div class="line">array([[-1.,  0.],</div><div class="line">       [ 0., -1.]])</div><div class="line"></div><div class="line">&gt;&gt;&gt; np.trace(u)  # trace</div><div class="line">2.0</div><div class="line"></div><div class="line">&gt;&gt;&gt; y = np.array([[5.], [7.]])</div><div class="line">&gt;&gt;&gt; np.linalg.solve(a, y)</div><div class="line">array([[-3.],</div><div class="line">       [ 4.]])</div><div class="line"></div><div class="line">&gt;&gt;&gt; np.linalg.eig(j)</div><div class="line">(array([ 0.+1.j,  0.-1.j]), array([[ 0.70710678+0.j        ,  0.70710678-0.j        ],</div><div class="line">       [ 0.00000000-0.70710678j,  0.00000000+0.70710678j]]))</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Parameters:</div><div class="line">    square matrix</div><div class="line">Returns</div><div class="line">    The eigenvalues, each repeated according to its multiplicity.</div><div class="line">    The normalized (unit &quot;length&quot;) eigenvectors, such that the</div><div class="line">    column ``v[:,i]`` is the eigenvector corresponding to the</div><div class="line">    eigenvalue ``w[i]`` .</div></pre></td></tr></table></figure>
<h2 id="8-技巧和提示"><a href="#8-技巧和提示" class="headerlink" title="8 技巧和提示"></a>8 技巧和提示</h2><p>这里我们给出一些有用的小技巧。</p>
<h3 id="8-1-“自动塑形”"><a href="#8-1-“自动塑形”" class="headerlink" title="8.1 “自动塑形”"></a>8.1 “自动塑形”</h3><p>为了改变数组的维度，你可以省略一个可以自动被推算出来的大小的参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = np.arange(30)</div><div class="line">&gt;&gt;&gt; a.shape = 2,-1,3  # -1 means &quot;whatever is needed&quot;</div><div class="line">&gt;&gt;&gt; a.shape</div><div class="line">(2, 5, 3)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">array([[[ 0,  1,  2],</div><div class="line">        [ 3,  4,  5],</div><div class="line">        [ 6,  7,  8],</div><div class="line">        [ 9, 10, 11],</div><div class="line">        [12, 13, 14]],</div><div class="line">       [[15, 16, 17],</div><div class="line">        [18, 19, 20],</div><div class="line">        [21, 22, 23],</div><div class="line">        [24, 25, 26],</div><div class="line">        [27, 28, 29]]])</div></pre></td></tr></table></figure>
<h3 id="8-2-矢量叠加"><a href="#8-2-矢量叠加" class="headerlink" title="8.2 矢量叠加"></a>8.2 矢量叠加</h3><p>我们怎么从一个相同大小的行向量构造出一个 \( 2D \) 数组？在 \( MATLAB \)中是相当简单的：如果 <code>x</code> 和 <code>y</code> 是两个相同长度的向量，你只需要把 <code>m=[x;y]</code>。在 \( NumPy \) 中，通过函数 <code>column_stack</code>，<code>dstack</code>，<code>hstack</code> 和 <code>vstack</code> 实现，这取决于所要叠加的维度。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">x = np.arange(0,10,2)                     # x=([0,2,4,6,8])</div><div class="line">y = np.arange(5)                          # y=([0,1,2,3,4])</div><div class="line">m = np.vstack([x,y])                      # m=([[0,2,4,6,8],</div><div class="line">                                          #     [0,1,2,3,4]])</div><div class="line">xy = np.hstack([x,y])                     # xy =([0,2,4,6,8,0,1,2,3,4])</div></pre></td></tr></table></figure>
<p>在超过两个维度时这些函数背后的逻辑是奇怪的。</p>
<h5 id="参考-5"><a href="#参考-5" class="headerlink" title="参考"></a>参考</h5><p><a href="https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html" target="_blank" rel="external">NumPy for Matlab users</a></p>
<h3 id="8-3-柱状图"><a href="#8-3-柱状图" class="headerlink" title="8.3 柱状图"></a>8.3 柱状图</h3><p>\( NumPy \) 的 <code>histogram</code> 函数应用于数组，返回一对矢量：数组的柱状图和 <code>bins</code> 矢量。当心：<code>matplotlib</code> 也有一个函数去构建柱状图（叫做 <code>hist</code>，同样在 \( Matlab \) 中），这个和 \( NumPy \) 还是不一样的。主要的区别是 <code>pylab.hist</code> 自动绘制柱状图而 <code>matplotlib</code> 只是生成数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import numpy as np</div><div class="line">&gt;&gt;&gt; import matplotlib.pyplot as plt</div><div class="line">&gt;&gt;&gt; # Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2</div><div class="line">&gt;&gt;&gt; mu, sigma = 2, 0.5</div><div class="line">&gt;&gt;&gt; v = np.random.normal(mu,sigma,10000)</div><div class="line">&gt;&gt;&gt; # Plot a normalized histogram with 50 bins</div><div class="line">&gt;&gt;&gt; plt.hist(v, bins=50, normed=1)       # matplotlib version (plot)</div><div class="line">&gt;&gt;&gt; plt.show()</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">import matplotlib.pyplot as plt</div><div class="line"></div><div class="line"># Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2</div><div class="line">mu, sigma = 2, 0.5</div><div class="line">v = np.random.normal(mu, sigma, 10000)</div><div class="line"># Plot a normalized histogram with 50 bins</div><div class="line">plt.hist(v, bins=50, normed=1)  # matplotlib version (plot)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="/2018/02/04/NumPyOfficialQuickstartTutorial/8_3_01.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; # Compute the histogram with numpy and then plot it</div><div class="line">&gt;&gt;&gt; (n, bins) = np.histogram(v, bins=50, normed=True)  # NumPy version (no plot)</div><div class="line">&gt;&gt;&gt; plt.plot(.5*(bins[1:]+bins[:-1]), n)</div><div class="line">&gt;&gt;&gt; plt.show()</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">import matplotlib.pyplot as plt</div><div class="line"></div><div class="line"># Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2</div><div class="line">mu, sigma = 2, 0.5</div><div class="line">v = np.random.normal(mu, sigma, 10000)</div><div class="line"># Compute the histogram with numpy and then plot it</div><div class="line">(n, bins) = np.histogram(v, bins=50, normed=True)  # NumPy version (no plot)</div><div class="line">plt.plot(.5 * (bins[1:] + bins[:-1]), n)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="/2018/02/04/NumPyOfficialQuickstartTutorial/8_3_02.png" alt=""></p>
<h2 id="9-更多阅读"><a href="#9-更多阅读" class="headerlink" title="9 更多阅读"></a>9 更多阅读</h2><ul>
<li>The <a href="http://docs.python.org/tutorial/" target="_blank" rel="external">Python tutorial</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/reference/index.html#reference" target="_blank" rel="external">NumPy Reference</a></li>
<li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/index.html" target="_blank" rel="external">SciPy Tutorial</a></li>
<li><a href="http://www.scipy-lectures.org/" target="_blank" rel="external">SciPy Lecture Notes</a></li>
<li>A <a href="http://mathesaurus.sf.net/" target="_blank" rel="external">matlab, R, IDL, NumPy/SciPy dictionary</a></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">Math</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">MachineLearning</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">NumPy</a>
        		</li>
      		
		</ul>
	</div>

      

      

      
        
<div class="share-btn share-icons tooltip-left">
  <div class="tooltip tooltip-east">
    <span class="tooltip-item">
      <a href="javascript:;" class="share-sns share-outer">
        <i class="icon icon-share"></i>
      </a>
    </span>
    <span class="tooltip-content">
      <div class="share-wrap">
        <div class="share-icons">
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="icon icon-weibo"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="icon icon-weixin"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="icon icon-qq"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="icon icon-douban"></i>
          </a>
          <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a>
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="icon icon-facebook"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="icon icon-twitter"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="icon icon-google"></i>
          </a>
        </div>
      </div>
    </span>
  </div>
</div>

<div class="page-modal wx-share js-wx-box">
    <a class="close js-modal-close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="http://s.jiathis.com/qrcode.php?url=http://fitzeng.org/2018/02/04/NumPyOfficialQuickstartTutorial/" alt="微信分享二维码">
    </div>
</div>

<div class="mask js-mask"></div>
      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2018/02/07/MatplotlibDraw/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          Matplotlib 基本操作
        
      </div>
    </a>
  
  
    <a href="/2018/02/03/TensorFlowIntroduction/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">从 TensorFlow 入门机器学习</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>






  
    <div class="duoshuo"></div>
  



<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'fitzeng-org'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 fitzeng
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),m=e(75),g=r(m),w=e(70);l(),(0,w.addLoadEvent)(function(){g.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),m=x[f],g=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&g&&void 0!==g[a],s&&a in x||(l=s?g[a]:e[a],x[a]=d&&"function"!=typeof g[a]?e[a]:h&&s?i(l,r):b&&g[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&m&&!m[a]&&u(m,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,m,g,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=m==h,M=!1,A=t.prototype,T=A[p]||A[v]||m&&A[m],L=T||j(m),N=m?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,m)if(O={values:E?L:j(h),keys:g?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),m=e(10),g=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),m(t),n=w(n,!0),m(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){m(t);for(var e,r=b(n=g(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=g(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(g(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:g(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.234bc0.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Algo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Math</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">C/C++</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Android</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Android Unit Test</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Collection</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">图像处理</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">GitHub</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Tool</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Tips</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">MarkDown</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Formula</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">LaTeX</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">MachineLearning</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Python</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">NumPy</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Matplotlib</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">LinearRegression</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">TensorFlow</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Life</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Marvel</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">ZZChat</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">devstack</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">openstack</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">dpkg</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ppt</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">计算机网络</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">DataStruct</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">JVM</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ProbabilityTheory</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Job</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">OS</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            2、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: true
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">一个十足的理想主义者.</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>